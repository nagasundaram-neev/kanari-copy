function getCookie(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];r.charAt(0)==" ";)r=r.substring(1,r.length);if(r.indexOf(t)==0)return r.substring(t.length,r.length)}return null}function MapCtrl(e,t){function n(){for(var e,t=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<n.length;i++)e=n[i].split("="),t.push(e[0]),t[e[0]]=e[1];return t}e.$broadcast("clickMessageFromParent",{}),e.addMark=function(){console.log(getCookie("authToken"));var i=n().outletId;e.cuisineTypesapp=[],e.outletTypesapp=[],e.cuisineTypesapp=getCookie("currentCuisineList"),e.outletTypesapp=getCookie("currentOutletList");var r={outlet:{latitude:getCookie("latitude"),longitude:getCookie("logitude")},auth_token:getCookie("authToken")};i?t({method:"PUT",url:"/api/outlets/"+i,data:r}).success(function(t,n){console.log("data in success "+t+" status "+n),e.successLocation=!0}).error(function(t,n){console.log("data in error"+t+" status "+n),e.successLocation=!1}):t({method:"PUT",url:"/api/outlets/"+getCookie("currentOutlet"),data:r}).success(function(){e.successLocation=!0}).error(function(){e.successLocation=!1})}}function getRefresh(e){getCookie("userRole")=="kanari_admin"?e.userName=getCookie("userRole"):getCookie("userRole")=="customer_admin"&&(e.userName=getCookie("userName"))}function setCookie(e,t,n){if(n){var i=new Date;i.setTime(i.getTime()+1e3*60*60*24*n);var r="; expires="+i.toGMTString()}else var r="";document.cookie=e+"="+t+r+"; path=/"}function getCookie(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];r.charAt(0)==" ";)r=r.substring(1,r.length);if(r.indexOf(t)==0)return r.substring(t.length,r.length)}return null}function deleteCookie(e){setCookie(e,"",-1)}function validateNumber(){var e=$("#phoneNumber").val(),t=/^\+?([0-9]{2})\)?[-. ]?([0-9]{4})[-. ]?([0-9]{4})$/;return t.test(e)?(console.log("valid phone number"),!0):!1}(function(e,t){function n(e,n,i){if(i===t&&e.nodeType===1){var r="data-"+n.replace(R,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:N.isNaN(i)?B.test(i)?N.parseJSON(i):i:parseFloat(i)}catch(o){}N.data(e,n,i)}else i=t}return i}function i(e){for(var t in e)if("toJSON"!==t)return!1;return!0}function r(e,n,i){var r=n+"defer",o=n+"queue",s=n+"mark",a=N.data(e,r,t,!0);!a||"queue"!==i&&N.data(e,o,t,!0)||"mark"!==i&&N.data(e,s,t,!0)||setTimeout(function(){N.data(e,o,t,!0)||N.data(e,s,t,!0)||(N.removeData(e,r,!0),a.resolve())},0)}function o(){return!1}function s(){return!0}function a(e,n,i){var r=N.extend({},i[0]);r.type=e,r.originalEvent={},r.liveFired=t,N.event.handle.call(n,r),r.isDefaultPrevented()&&i[0].preventDefault()}function l(e){var t,n,i,r,o,s,a,l,c,u,d,h,p=[],f=[],m=N._data(this,"events");if(e.liveFired!==this&&m&&m.live&&!e.target.disabled&&(!e.button||e.type!=="click")){e.namespace&&(d=new RegExp("(^|\\.)"+e.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)")),e.liveFired=this;var g=m.live.slice(0);for(a=0;a<g.length;a++)o=g[a],o.origType.replace(K,"")===e.type?f.push(o.selector):g.splice(a--,1);for(r=N(e.target).closest(f,e.currentTarget),l=0,c=r.length;c>l;l++)for(u=r[l],a=0;a<g.length;a++)o=g[a],u.selector!==o.selector||d&&!d.test(o.namespace)||u.elem.disabled||(s=u.elem,i=null,(o.preType==="mouseenter"||o.preType==="mouseleave")&&(e.type=o.preType,i=N(e.relatedTarget).closest(o.selector)[0],i&&N.contains(s,i)&&(i=s)),i&&i===s||p.push({elem:s,handleObj:o,level:u.level}));for(l=0,c=p.length;c>l&&(r=p[l],!(n&&r.level>n))&&(e.currentTarget=r.elem,e.data=r.handleObj.data,e.handleObj=r.handleObj,h=r.handleObj.origHandler.apply(r.elem,arguments),h!==!1&&!e.isPropagationStopped()||(n=r.level,h===!1&&(t=!1),!e.isImmediatePropagationStopped()));l++);return t}}function c(e,t){return(e&&"*"!==e?e+".":"")+t.replace(Q,"`").replace(J,"&")}function u(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function d(e,t,n){if(t=t||0,N.isFunction(t))return N.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return N.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=N.grep(e,function(e){return e.nodeType===1});if(dt.test(t))return N.filter(t,i,!n);t=N.filter(t,i)}return N.grep(e,function(e){return N.inArray(e,t)>=0===n})}function h(e){return N.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function p(e,t){if(t.nodeType===1&&N.hasData(e)){var n=N.expando,i=N.data(e),r=N.data(t,i);if(i=i[n]){var o=i.events;if(r=r[n]=N.extend({},i),o){delete r.handle,r.events={};for(var s in o)for(var a=0,l=o[s].length;l>a;a++)N.event.add(t,s+(o[s][a].namespace?".":"")+o[s][a].namespace,o[s][a],o[s][a].data)}}}}function f(e,t){var n;t.nodeType===1&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?t.outerHTML=e.outerHTML:"input"!==n||e.type!=="checkbox"&&e.type!=="radio"?"option"===n?t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(N.expando))}function m(e){return"getElementsByTagName"in e?e.getElementsByTagName("*"):"querySelectorAll"in e?e.querySelectorAll("*"):[]}function g(e){(e.type==="checkbox"||e.type==="radio")&&(e.defaultChecked=e.checked)}function v(e){N.nodeName(e,"input")?g(e):"getElementsByTagName"in e&&N.grep(e.getElementsByTagName("input"),g)}function y(e,t){t.src?N.ajax({url:t.src,async:!1,dataType:"script"}):N.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Ct,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)}function b(e,t,n){var i="width"===t?e.offsetWidth:e.offsetHeight,r="width"===t?Nt:It;return i>0?("border"!==n&&N.each(r,function(){n||(i-=parseFloat(N.css(e,"padding"+this))||0),"margin"===n?i+=parseFloat(N.css(e,n+this))||0:i-=parseFloat(N.css(e,"border"+this+"Width"))||0}),i+"px"):(i=Tt(e,t,t),(0>i||null==i)&&(i=e.style[t]||0),i=parseFloat(i)||0,n&&N.each(r,function(){i+=parseFloat(N.css(e,"padding"+this))||0,"padding"!==n&&(i+=parseFloat(N.css(e,"border"+this+"Width"))||0),"margin"===n&&(i+=parseFloat(N.css(e,n+this))||0)}),i+"px")}function w(e){return function(t,n){if("string"!=typeof t&&(n=t,t="*"),N.isFunction(n))for(var i,r,o,s=t.toLowerCase().split(Qt),a=0,l=s.length;l>a;a++)i=s[a],o=/^\+/.test(i),o&&(i=i.substr(1)||"*"),r=e[i]=e[i]||[],r[o?"unshift":"push"](n)}}function x(e,n,i,r,o,s){o=o||n.dataTypes[0],s=s||{},s[o]=!0;for(var a,l=e[o],c=0,u=l?l.length:0,d=e===nn;u>c&&(d||!a);c++)a=l[c](n,i,r),"string"==typeof a&&(!d||s[a]?a=t:(n.dataTypes.unshift(a),a=x(e,n,i,r,a,s)));return!d&&a||s["*"]||(a=x(e,n,i,r,"*",s)),a}function k(e,n){var i,r,o=N.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);r&&N.extend(!0,e,r)}function $(e,t,n,i){if(N.isArray(t))N.each(t,function(t,r){n||Ht.test(e)?i(e,r):$(e+"["+("object"==typeof r||N.isArray(r)?t:"")+"]",r,n,i)});else if(n||null==t||"object"!=typeof t)i(e,t);else for(var r in t)$(e+"["+r+"]",t[r],n,i)}function C(e,n,i){var r,o,s,a,l=e.contents,c=e.dataTypes,u=e.responseFields;for(o in u)o in i&&(n[u[o]]=i[o]);for(;c[0]==="*";)c.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("content-type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){c.unshift(o);break}if(c[0]in i)s=c[0];else{for(o in i){if(!c[0]||e.converters[o+" "+c[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==c[0]&&c.unshift(s),i[s]):void 0}function _(e,n){e.dataFilter&&(n=e.dataFilter(n,e.dataType));var i,r,o,s,a,l,c,u,d=e.dataTypes,h={},p=d.length,f=d[0];for(i=1;p>i;i++){if(1===i)for(r in e.converters)"string"==typeof r&&(h[r.toLowerCase()]=e.converters[r]);if(s=f,f=d[i],"*"===f)f=s;else if("*"!==s&&s!==f){if(a=s+" "+f,l=h[a]||h["* "+f],!l){u=t;for(c in h)if(o=c.split(" "),(o[0]===s||o[0]==="*")&&(u=h[o[1]+" "+f])){c=h[c],c===!0?l=u:u===!0&&(l=c);break}}l||u||N.error("No conversion from "+a.replace(" "," to ")),l!==!0&&(n=l?l(n):u(c(n)))}}return n}function T(){try{return new e.XMLHttpRequest}catch(t){}}function S(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function D(){return setTimeout(M,0),mn=N.now()}function M(){mn=t}function A(e,t){var n={};return N.each(bn.concat.apply([],bn.slice(0,t)),function(){n[this]=e}),n}function L(e){if(!gn[e]){var t=P.body,n=N("<"+e+">").appendTo(t),i=n.css("display");n.remove(),("none"===i||""===i)&&(hn||(hn=P.createElement("iframe"),hn.frameBorder=hn.width=hn.height=0),t.appendChild(hn),pn&&hn.createElement||(pn=(hn.contentWindow||hn.contentDocument).document,pn.write((P.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>"),pn.close()),n=pn.createElement(e),pn.body.appendChild(n),i=N.css(n,"display"),t.removeChild(hn)),gn[e]=i}return gn[e]}function E(e){return N.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var P=e.document,F=e.navigator,O=e.location,N=function(){function n(){if(!a.isReady){try{P.documentElement.doScroll("left")}catch(e){return setTimeout(n,1),void 0}a.ready()}}var i,r,o,s,a=function(e,t){return new a.fn.init(e,t,i)},l=e.jQuery,c=e.$,u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,d=/\S/,h=/^\s+/,p=/\s+$/,f=/\d/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,g=/^[\],:{}\s]*$/,v=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,y=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,b=/(?:^|:|,)(?:\s*\[)+/g,w=/(webkit)[ \/]([\w.]+)/,x=/(opera)(?:.*version)?[ \/]([\w.]+)/,k=/(msie) ([\w.]+)/,$=/(mozilla)(?:.*? rv:([\w.]+))?/,C=/-([a-z]|[0-9])/gi,_=/^-ms-/,T=function(e,t){return(t+"").toUpperCase()},S=F.userAgent,D=Object.prototype.toString,M=Object.prototype.hasOwnProperty,A=Array.prototype.push,L=Array.prototype.slice,E=String.prototype.trim,O=Array.prototype.indexOf,N={};return a.fn=a.prototype={constructor:a,init:function(e,n,i){var r,o,s,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!n&&P.body)return this.context=P,this[0]=P.body,this.selector=e,this.length=1,this;if("string"==typeof e){if(r=e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?[null,e,null]:u.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1])return n=n instanceof a?n[0]:n,l=n?n.ownerDocument||n:P,s=m.exec(e),s?a.isPlainObject(n)?(e=[P.createElement(s[1])],a.fn.attr.call(e,n,!0)):e=[l.createElement(s[1])]:(s=a.buildFragment([r[1]],[l]),e=(s.cacheable?a.clone(s.fragment):s.fragment).childNodes),a.merge(this,e);if(o=P.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=P,this.selector=e,this}return a.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),a.makeArray(e,this))},selector:"",jquery:"1.6.4",length:0,size:function(){return this.length},toArray:function(){return L.call(this,0)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=this.constructor();return a.isArray(e)?A.apply(i,e):a.merge(i,e),i.prevObject=this,i.context=this.context,"find"===t?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},each:function(e,t){return a.each(this,e,t)},ready:function(e){return a.bindReady(),o.done(e),this},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(L.apply(this,arguments),"slice",L.call(arguments).join(","))},map:function(e){return this.pushStack(a.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:A,sort:[].sort,splice:[].splice},a.fn.init.prototype=a.fn,a.extend=a.fn.extend=function(){var e,n,i,r,o,s,l=arguments[0]||{},c=1,u=arguments.length,d=!1;for("boolean"==typeof l&&(d=l,l=arguments[1]||{},c=2),"object"==typeof l||a.isFunction(l)||(l={}),u===c&&(l=this,--c);u>c;c++)if((e=arguments[c])!=null)for(n in e)i=l[n],r=e[n],l!==r&&(d&&r&&(a.isPlainObject(r)||(o=a.isArray(r)))?(o?(o=!1,s=i&&a.isArray(i)?i:[]):s=i&&a.isPlainObject(i)?i:{},l[n]=a.extend(d,s,r)):r!==t&&(l[n]=r));return l},a.extend({noConflict:function(t){return e.$===a&&(e.$=c),t&&e.jQuery===a&&(e.jQuery=l),a},isReady:!1,readyWait:1,holdReady:function(e){e?a.readyWait++:a.ready(!0)},ready:function(e){if(e===!0&&!--a.readyWait||e!==!0&&!a.isReady){if(!P.body)return setTimeout(a.ready,1);if(a.isReady=!0,e!==!0&&--a.readyWait>0)return;o.resolveWith(P,[a]),a.fn.trigger&&a(P).trigger("ready").unbind("ready")}},bindReady:function(){if(!o){if(o=a._Deferred(),P.readyState==="complete")return setTimeout(a.ready,1);if(P.addEventListener)P.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",a.ready,!1);else if(P.attachEvent){P.attachEvent("onreadystatechange",s),e.attachEvent("onload",a.ready);var t=!1;try{t=e.frameElement==null}catch(i){}P.documentElement.doScroll&&t&&n()}}},isFunction:function(e){return a.type(e)==="function"},isArray:Array.isArray||function(e){return a.type(e)==="array"},isWindow:function(e){return e&&"object"==typeof e&&"setInterval"in e},isNaN:function(e){return null==e||!f.test(e)||isNaN(e)},type:function(e){return null==e?String(e):N[D.call(e)]||"object"},isPlainObject:function(e){if(!e||a.type(e)!=="object"||e.nodeType||a.isWindow(e))return!1;try{if(e.constructor&&!M.call(e,"constructor")&&!M.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||M.call(e,i)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw e},parseJSON:function(t){return"string"==typeof t&&t?(t=a.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):g.test(t.replace(v,"@").replace(y,"]").replace(b,""))?new Function("return "+t)():(a.error("Invalid JSON: "+t),void 0)):null},parseXML:function(n){var i,r;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||a.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&d.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(_,"ms-").replace(C,T)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,i){var r,o=0,s=e.length,l=s===t||a.isFunction(e);if(i)if(l){for(r in e)if(n.apply(e[r],i)===!1)break}else for(;s>o&&n.apply(e[o++],i)!==!1;);else if(l){for(r in e)if(n.call(e[r],r,e[r])===!1)break}else for(;s>o&&n.call(e[o],o,e[o++])!==!1;);return e},trim:E?function(e){return null==e?"":E.call(e)}:function(e){return null==e?"":e.toString().replace(h,"").replace(p,"")},makeArray:function(e,t){var n=t||[];if(null!=e){var i=a.type(e);e.length==null||"string"===i||"function"===i||"regexp"===i||a.isWindow(e)?A.call(n,e):a.merge(n,e)}return n},inArray:function(e,t){if(!t)return-1;if(O)return O.call(t,e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},merge:function(e,n){var i=e.length,r=0;if(typeof n.length=="number")for(var o=n.length;o>r;r++)e[i++]=n[r];else for(;n[r]!==t;)e[i++]=n[r++];return e.length=i,e},grep:function(e,t,n){var i,r=[];n=!!n;for(var o=0,s=e.length;s>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,n,i){var r,o,s=[],l=0,c=e.length,u=e instanceof a||c!==t&&"number"==typeof c&&(c>0&&e[0]&&e[c-1]||0===c||a.isArray(e));if(u)for(;c>l;l++)r=n(e[l],l,i),null!=r&&(s[s.length]=r);else for(o in e)r=n(e[o],o,i),null!=r&&(s[s.length]=r);return s.concat.apply([],s)},guid:1,proxy:function(e,n){if("string"==typeof n){var i=e[n];n=e,e=i}if(!a.isFunction(e))return t;var r=L.call(arguments,2),o=function(){return e.apply(n,r.concat(L.call(arguments)))};return o.guid=e.guid=e.guid||o.guid||a.guid++,o},access:function(e,n,i,r,o,s){var l=e.length;if("object"==typeof n){for(var c in n)a.access(e,c,n[c],r,o,i);return e}if(i!==t){r=!s&&r&&a.isFunction(i);for(var u=0;l>u;u++)o(e[u],n,r?i.call(e[u],u,o(e[u],n)):i,s);return e}return l?o(e[0],n):t},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=w.exec(e)||x.exec(e)||k.exec(e)||e.indexOf("compatible")<0&&$.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,n){return new e.fn.init(t,n)}a.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,i){return i&&i instanceof a&&!(i instanceof e)&&(i=e(i)),a.fn.init.call(this,n,i,t)},e.fn.init.prototype=e.fn;var t=e(P);return e},browser:{}}),a.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){N["[object "+t+"]"]=t.toLowerCase()}),r=a.uaMatch(S),r.browser&&(a.browser[r.browser]=!0,a.browser.version=r.version),a.browser.webkit&&(a.browser.safari=!0),d.test("Â ")&&(h=/^[\s\xA0]+/,p=/[\s\xA0]+$/),i=a(P),P.addEventListener?s=function(){P.removeEventListener("DOMContentLoaded",s,!1),a.ready()}:P.attachEvent&&(s=function(){P.readyState==="complete"&&(P.detachEvent("onreadystatechange",s),a.ready())}),a}(),I="done fail isResolved isRejected promise then always pipe".split(" "),z=[].slice;N.extend({_Deferred:function(){var e,t,n,i=[],r={done:function(){if(!n){var t,o,s,a,l,c=arguments;for(e&&(l=e,e=0),t=0,o=c.length;o>t;t++)s=c[t],a=N.type(s),"array"===a?r.done.apply(r,s):"function"===a&&i.push(s);l&&r.resolveWith(l[0],l[1])}return this},resolveWith:function(r,o){if(!n&&!e&&!t){o=o||[],t=1;try{for(;i[0];)i.shift().apply(r,o)}finally{e=[r,o],t=0}}return this},resolve:function(){return r.resolveWith(this,arguments),this},isResolved:function(){return!(!t&&!e)},cancel:function(){return n=1,i=[],this}};return r},Deferred:function(e){var t,n=N._Deferred(),i=N._Deferred();return N.extend(n,{then:function(e,t){return n.done(e).fail(t),this},always:function(){return n.done.apply(n,arguments).fail.apply(this,arguments)},fail:i.done,rejectWith:i.resolveWith,reject:i.resolve,isRejected:i.isResolved,pipe:function(e,t){return N.Deferred(function(i){N.each({done:[e,"resolve"],fail:[t,"reject"]},function(e,t){var r,o=t[0],s=t[1];N.isFunction(o)?n[e](function(){r=o.apply(this,arguments),r&&N.isFunction(r.promise)?r.promise().then(i.resolve,i.reject):i[s+"With"](this===n?i:this,[r])}):n[e](i[s])})}).promise()},promise:function(e){if(null==e){if(t)return t;t=e={}}for(var i=I.length;i--;)e[I[i]]=n[I[i]];return e}}),n.done(i.cancel).fail(n.cancel),delete n.cancel,e&&e.call(n,n),n},when:function(e){function t(e){return function(t){n[e]=arguments.length>1?z.call(arguments,0):t,--o||s.resolveWith(s,z.call(n,0))}}var n=arguments,i=0,r=n.length,o=r,s=1>=r&&e&&N.isFunction(e.promise)?e:N.Deferred();if(r>1){for(;r>i;i++)n[i]&&N.isFunction(n[i].promise)?n[i].promise().then(t(i),s.reject):--o;o||s.resolveWith(s,n)}else s!==e&&s.resolveWith(s,r?[e]:[]);return s.promise()}}),N.support=function(){var e,t,n,i,r,o,s,a,l,c,u,d,h,p,f,m,g=P.createElement("div"),v=P.documentElement;if(g.setAttribute("className","t"),g.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",e=g.getElementsByTagName("*"),t=g.getElementsByTagName("a")[0],!e||!e.length||!t)return{};n=P.createElement("select"),i=n.appendChild(P.createElement("option")),r=g.getElementsByTagName("input")[0],s={leadingWhitespace:g.firstChild.nodeType===3,tbody:!g.getElementsByTagName("tbody").length,htmlSerialize:!!g.getElementsByTagName("link").length,style:/top/.test(t.getAttribute("style")),hrefNormalized:t.getAttribute("href")==="/a",opacity:/^0.55$/.test(t.style.opacity),cssFloat:!!t.style.cssFloat,checkOn:r.value==="on",optSelected:i.selected,getSetAttribute:g.className!=="t",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},r.checked=!0,s.noCloneChecked=r.cloneNode(!0).checked,n.disabled=!0,s.optDisabled=!i.disabled;try{delete g.test}catch(y){s.deleteExpando=!1}!g.addEventListener&&g.attachEvent&&g.fireEvent&&(g.attachEvent("onclick",function(){s.noCloneEvent=!1}),g.cloneNode(!0).fireEvent("onclick")),r=P.createElement("input"),r.value="t",r.setAttribute("type","radio"),s.radioValue=r.value==="t",r.setAttribute("checked","checked"),g.appendChild(r),a=P.createDocumentFragment(),a.appendChild(g.firstChild),s.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,g.innerHTML="",g.style.width=g.style.paddingLeft="1px",l=P.getElementsByTagName("body")[0],u=P.createElement(l?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},l&&N.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)u.style[f]=d[f];if(u.appendChild(g),c=l||v,c.insertBefore(u,c.firstChild),s.appendChecked=r.checked,s.boxModel=g.offsetWidth===2,"zoom"in g.style&&(g.style.display="inline",g.style.zoom=1,s.inlineBlockNeedsLayout=g.offsetWidth===2,g.style.display="",g.innerHTML="<div style='width:4px;'></div>",s.shrinkWrapBlocks=g.offsetWidth!==2),g.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",h=g.getElementsByTagName("td"),m=h[0].offsetHeight===0,h[0].style.display="",h[1].style.display="none",s.reliableHiddenOffsets=m&&h[0].offsetHeight===0,g.innerHTML="",P.defaultView&&P.defaultView.getComputedStyle&&(o=P.createElement("div"),o.style.width="0",o.style.marginRight="0",g.appendChild(o),s.reliableMarginRight=(parseInt((P.defaultView.getComputedStyle(o,null)||{marginRight:0}).marginRight,10)||0)===0),u.innerHTML="",c.removeChild(u),g.attachEvent)for(f in{submit:1,change:1,focusin:1})p="on"+f,m=p in g,m||(g.setAttribute(p,"return;"),m=typeof g[p]=="function"),s[f+"Bubbles"]=m;return u=a=n=i=l=o=g=r=null,s}(),N.boxModel=N.support.boxModel;var B=/^(?:\{.*\}|\[.*\])$/,R=/([A-Z])/g;N.extend({cache:{},uuid:0,expando:"jQuery"+(N.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?N.cache[e[N.expando]]:e[N.expando],!!e&&!i(e)},data:function(e,n,i,r){if(N.acceptData(e)){var o,s,a=N.expando,l="string"==typeof n,c=e.nodeType,u=c?N.cache:e,d=c?e[N.expando]:e[N.expando]&&N.expando;if(!(!d||r&&d&&u[d]&&!u[d][a])||!l||i!==t)return d||(c?e[N.expando]=d=++N.uuid:d=N.expando),u[d]||(u[d]={},c||(u[d].toJSON=N.noop)),("object"==typeof n||"function"==typeof n)&&(r?u[d][a]=N.extend(u[d][a],n):u[d]=N.extend(u[d],n)),o=u[d],r&&(o[a]||(o[a]={}),o=o[a]),i!==t&&(o[N.camelCase(n)]=i),"events"!==n||o[n]?(l?(s=o[n],null==s&&(s=o[N.camelCase(n)])):s=o,s):o[a]&&o[a].events}},removeData:function(e,t,n){if(N.acceptData(e)){var r,o=N.expando,s=e.nodeType,a=s?N.cache:e,l=s?e[N.expando]:N.expando;if(a[l]&&!(t&&(r=n?a[l][o]:a[l],r&&(r[t]||(t=N.camelCase(t)),delete r[t],!i(r)))||n&&(delete a[l][o],!i(a[l])))){var c=a[l][o];N.support.deleteExpando||!a.setInterval?delete a[l]:a[l]=null,c?(a[l]={},s||(a[l].toJSON=N.noop),a[l][o]=c):s&&(N.support.deleteExpando?delete e[N.expando]:e.removeAttribute?e.removeAttribute(N.expando):e[N.expando]=null)}}},_data:function(e,t,n){return N.data(e,t,n,!0)},acceptData:function(e){if(e.nodeName){var t=N.noData[e.nodeName.toLowerCase()];if(t)return!(t===!0||e.getAttribute("classid")!==t)}return!0}}),N.fn.extend({data:function(e,i){var r=null;if("undefined"==typeof e){if(this.length&&(r=N.data(this[0]),this[0].nodeType===1))for(var o,s=this[0].attributes,a=0,l=s.length;l>a;a++)o=s[a].name,o.indexOf("data-")===0&&(o=N.camelCase(o.substring(5)),n(this[0],o,r[o]));return r}if("object"==typeof e)return this.each(function(){N.data(this,e)});var c=e.split(".");return c[1]=c[1]?"."+c[1]:"",i===t?(r=this.triggerHandler("getData"+c[1]+"!",[c[0]]),r===t&&this.length&&(r=N.data(this[0],e),r=n(this[0],e,r)),r===t&&c[1]?this.data(c[0]):r):this.each(function(){var t=N(this),n=[c[0],i];t.triggerHandler("setData"+c[1]+"!",n),N.data(this,e,i),t.triggerHandler("changeData"+c[1]+"!",n)})},removeData:function(e){return this.each(function(){N.removeData(this,e)})}}),N.extend({_mark:function(e,n){e&&(n=(n||"fx")+"mark",N.data(e,n,(N.data(e,n,t,!0)||0)+1,!0))},_unmark:function(e,n,i){if(e!==!0&&(i=n,n=e,e=!1),n){i=i||"fx";var o=i+"mark",s=e?0:(N.data(n,o,t,!0)||1)-1;s?N.data(n,o,s,!0):(N.removeData(n,o,!0),r(n,i,"mark"))}},queue:function(e,n,i){if(e){n=(n||"fx")+"queue";var r=N.data(e,n,t,!0);return i&&(!r||N.isArray(i)?r=N.data(e,n,N.makeArray(i),!0):r.push(i)),r||[]}},dequeue:function(e,t){t=t||"fx";var n=N.queue(e,t),i=n.shift();"inprogress"===i&&(i=n.shift()),i&&("fx"===t&&n.unshift("inprogress"),i.call(e,function(){N.dequeue(e,t)})),n.length||(N.removeData(e,t+"queue",!0),r(e,t,"queue"))}}),N.fn.extend({queue:function(e,n){return"string"!=typeof e&&(n=e,e="fx"),n===t?N.queue(this[0],e):this.each(function(){var t=N.queue(this,e,n);"fx"===e&&t[0]!=="inprogress"&&N.dequeue(this,e)})},dequeue:function(e){return this.each(function(){N.dequeue(this,e)})},delay:function(e,t){return e=N.fx?N.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(){var n=this;setTimeout(function(){N.dequeue(n,t)},e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){function i(){--l||o.resolveWith(s,[s])}"string"!=typeof e&&(n=e,e=t),e=e||"fx";for(var r,o=N.Deferred(),s=this,a=s.length,l=1,c=e+"defer",u=e+"queue",d=e+"mark";a--;)(r=N.data(s[a],c,t,!0)||(N.data(s[a],u,t,!0)||N.data(s[a],d,t,!0))&&N.data(s[a],c,N._Deferred(),!0))&&(l++,r.done(i));return i(),o.promise()}});var H,Y,j=/[\n\t\r]/g,W=/\s+/,V=/\r/g,q=/^(?:button|input)$/i,U=/^(?:button|input|object|select|textarea)$/i,X=/^a(?:rea)?$/i,G=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i;N.fn.extend({attr:function(e,t){return N.access(this,e,t,!0,N.attr)},removeAttr:function(e){return this.each(function(){N.removeAttr(this,e)})},prop:function(e,t){return N.access(this,e,t,!0,N.prop)},removeProp:function(e){return e=N.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,o,s,a;if(N.isFunction(e))return this.each(function(t){N(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(W),n=0,i=this.length;i>n;n++)if(r=this[n],r.nodeType===1)if(r.className||t.length!==1){for(o=" "+r.className+" ",s=0,a=t.length;a>s;s++)~o.indexOf(" "+t[s]+" ")||(o+=t[s]+" ");r.className=N.trim(o)}else r.className=e;return this},removeClass:function(e){var n,i,r,o,s,a,l;if(N.isFunction(e))return this.each(function(t){N(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(W),i=0,r=this.length;r>i;i++)if(o=this[i],o.nodeType===1&&o.className)if(e){for(s=(" "+o.className+" ").replace(j," "),a=0,l=n.length;l>a;a++)s=s.replace(" "+n[a]+" "," ");o.className=N.trim(s)}else o.className="";return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return N.isFunction(e)?this.each(function(n){N(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var r,o=0,s=N(this),a=t,l=e.split(W);r=l[o++];)a=i?a:!s.hasClass(r),s[a?"addClass":"removeClass"](r);else("undefined"===n||"boolean"===n)&&(this.className&&N._data(this,"__className__",this.className),this.className=this.className||e===!1?"":N._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(j," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,i,r=this[0];if(!arguments.length)return r?(n=N.valHooks[r.nodeName.toLowerCase()]||N.valHooks[r.type],n&&"get"in n&&(i=n.get(r,"value"))!==t?i:(i=r.value,"string"==typeof i?i.replace(V,""):null==i?"":i)):t;var o=N.isFunction(e);return this.each(function(i){var r,s=N(this);this.nodeType===1&&(r=o?e.call(this,i,s.val()):e,null==r?r="":"number"==typeof r?r+="":N.isArray(r)&&(r=N.map(r,function(e){return null==e?"":e+""})),n=N.valHooks[this.nodeName.toLowerCase()]||N.valHooks[this.type],n&&"set"in n&&n.set(this,r,"value")!==t||(this.value=r))})}}),N.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n=e.selectedIndex,i=[],r=e.options,o=e.type==="select-one";if(0>n)return null;for(var s=o?n:0,a=o?n+1:r.length;a>s;s++){var l=r[s];if(!(!l.selected||(N.support.optDisabled?l.disabled:l.getAttribute("disabled")!==null)||l.parentNode.disabled&&N.nodeName(l.parentNode,"optgroup"))){if(t=N(l).val(),o)return t;i.push(t)}}return o&&!i.length&&r.length?N(r[n]).val():i},set:function(e,t){var n=N.makeArray(t);return N(e).find("option").each(function(){this.selected=N.inArray(N(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attrFix:{tabindex:"tabIndex"},attr:function(e,n,i,r){var o=e.nodeType;if(!e||3===o||8===o||2===o)return t;if(r&&n in N.attrFn)return N(e)[n](i);if(!("getAttribute"in e))return N.prop(e,n,i);var s,a,l=1!==o||!N.isXMLDoc(e);return l&&(n=N.attrFix[n]||n,a=N.attrHooks[n],a||(G.test(n)?a=Y:H&&(a=H))),i!==t?null===i?(N.removeAttr(e,n),t):a&&"set"in a&&l&&(s=a.set(e,i,n))!==t?s:(e.setAttribute(n,""+i),i):a&&"get"in a&&l&&(s=a.get(e,n))!==null?s:(s=e.getAttribute(n),null===s?t:s)},removeAttr:function(e,t){var n;e.nodeType===1&&(t=N.attrFix[t]||t,N.attr(e,t,""),e.removeAttribute(t),G.test(t)&&(n=N.propFix[t]||t)in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(q.test(e.nodeName)&&e.parentNode)N.error("type property can't be changed");else if(!N.support.radioValue&&"radio"===t&&N.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return H&&N.nodeName(e,"button")?H.get(e,t):t in e?e.value:null},set:function(e,t,n){return H&&N.nodeName(e,"button")?H.set(e,t,n):(e.value=t,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r=e.nodeType;if(!e||3===r||8===r||2===r)return t;var o,s,a=1!==r||!N.isXMLDoc(e);return a&&(n=N.propFix[n]||n,s=N.propHooks[n]),i!==t?s&&"set"in s&&(o=s.set(e,i,n))!==t?o:e[n]=i:s&&"get"in s&&(o=s.get(e,n))!==null?o:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):U.test(e.nodeName)||X.test(e.nodeName)&&e.href?0:t}}}}),N.attrHooks.tabIndex=N.propHooks.tabIndex,Y={get:function(e,n){var i;return N.prop(e,n)===!0||(i=e.getAttributeNode(n))&&i.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var i;return t===!1?N.removeAttr(e,n):(i=N.propFix[n]||n,i in e&&(e[i]=!0),e.setAttribute(n,n.toLowerCase())),n}},N.support.getSetAttribute||(H=N.valHooks.button={get:function(e,n){var i;return i=e.getAttributeNode(n),i&&i.nodeValue!==""?i.nodeValue:t},set:function(e,t,n){var i=e.getAttributeNode(n);return i||(i=P.createAttribute(n),e.setAttributeNode(i)),i.nodeValue=t+""}},N.each(["width","height"],function(e,t){N.attrHooks[t]=N.extend(N.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})})),N.support.hrefNormalized||N.each(["href","src","width","height"],function(e,n){N.attrHooks[n]=N.extend(N.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null===i?t:i}})}),N.support.style||(N.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),N.support.optSelected||(N.propHooks.selected=N.extend(N.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),N.support.checkOn||N.each(["radio","checkbox"],function(){N.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),N.each(["radio","checkbox"],function(){N.valHooks[this]=N.extend(N.valHooks[this],{set:function(e,t){return N.isArray(t)?e.checked=N.inArray(N(e).val(),t)>=0:void 0}})});var K=/\.(.*)$/,Z=/^(?:textarea|input|select)$/i,Q=/\./g,J=/ /g,et=/[^\w\s.|`]/g,tt=function(e){return e.replace(et,"\\$&")};N.event={add:function(e,n,i,r){if(e.nodeType!==3&&e.nodeType!==8){if(i===!1)i=o;else if(!i)return;var s,a;i.handler&&(s=i,i=s.handler),i.guid||(i.guid=N.guid++);var l=N._data(e);if(l){var c=l.events,u=l.handle;c||(l.events=c={}),u||(l.handle=u=function(e){return"undefined"==typeof N||e&&N.event.triggered===e.type?t:N.event.handle.apply(u.elem,arguments)}),u.elem=e,n=n.split(" ");for(var d,h,p=0;d=n[p++];){a=s?N.extend({},s):{handler:i,data:r},d.indexOf(".")>-1?(h=d.split("."),d=h.shift(),a.namespace=h.slice(0).sort().join(".")):(h=[],a.namespace=""),a.type=d,a.guid||(a.guid=i.guid);
var f=c[d],m=N.event.special[d]||{};f||(f=c[d]=[],m.setup&&m.setup.call(e,r,h,u)!==!1||(e.addEventListener?e.addEventListener(d,u,!1):e.attachEvent&&e.attachEvent("on"+d,u))),m.add&&(m.add.call(e,a),a.handler.guid||(a.handler.guid=i.guid)),f.push(a),N.event.global[d]=!0}e=null}}},global:{},remove:function(e,n,i,r){if(e.nodeType!==3&&e.nodeType!==8){i===!1&&(i=o);var s,a,l,c,u,d,h,p,f,m,g=0,v=N.hasData(e)&&N._data(e),y=v&&v.events;if(v&&y)if(n&&n.type&&(i=n.handler,n=n.type),!n||"string"==typeof n&&n.charAt(0)==="."){n=n||"";for(a in y)N.event.remove(e,a+n)}else{for(n=n.split(" ");a=n[g++];)if(m=a,f=null,c=a.indexOf(".")<0,u=[],c||(u=a.split("."),a=u.shift(),d=new RegExp("(^|\\.)"+N.map(u.slice(0).sort(),tt).join("\\.(?:.*\\.)?")+"(\\.|$)")),p=y[a])if(i){for(h=N.event.special[a]||{},l=r||0;l<p.length&&(f=p[l],i.guid!==f.guid||((c||d.test(f.namespace))&&(null==r&&p.splice(l--,1),h.remove&&h.remove.call(e,f)),null==r));l++);(p.length===0||null!=r&&p.length===1)&&(h.teardown&&h.teardown.call(e,u)!==!1||N.removeEvent(e,a,v.handle),s=null,delete y[a])}else for(l=0;l<p.length;l++)f=p[l],(c||d.test(f.namespace))&&(N.event.remove(e,m,f.handler,l),p.splice(l--,1));if(N.isEmptyObject(y)){var b=v.handle;b&&(b.elem=null),delete v.events,delete v.handle,N.isEmptyObject(v)&&N.removeData(e,t,!0)}}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,r,o){var s,a=n.type||n,l=[];if(a.indexOf("!")>=0&&(a=a.slice(0,-1),s=!0),a.indexOf(".")>=0&&(l=a.split("."),a=l.shift(),l.sort()),r&&!N.event.customEvent[a]||N.event.global[a]){if(n="object"==typeof n?n[N.expando]?n:new N.Event(a,n):new N.Event(a),n.type=a,n.exclusive=s,n.namespace=l.join("."),n.namespace_re=new RegExp("(^|\\.)"+l.join("\\.(?:.*\\.)?")+"(\\.|$)"),(o||!r)&&(n.preventDefault(),n.stopPropagation()),!r)return N.each(N.cache,function(){var e=N.expando,t=this[e];t&&t.events&&t.events[a]&&N.event.trigger(n,i,t.handle.elem)}),void 0;if(r.nodeType!==3&&r.nodeType!==8){n.result=t,n.target=r,i=null!=i?N.makeArray(i):[],i.unshift(n);var c=r,u=a.indexOf(":")<0?"on"+a:"";do{var d=N._data(c,"handle");n.currentTarget=c,d&&d.apply(c,i),u&&N.acceptData(c)&&c[u]&&c[u].apply(c,i)===!1&&(n.result=!1,n.preventDefault()),c=c.parentNode||c.ownerDocument||c===n.target.ownerDocument&&e}while(c&&!n.isPropagationStopped());if(!n.isDefaultPrevented()){var h,p=N.event.special[a]||{};if(!(p._default&&p._default.call(r.ownerDocument,n)!==!1||"click"===a&&N.nodeName(r,"a")||!N.acceptData(r))){try{u&&r[a]&&(h=r[u],h&&(r[u]=null),N.event.triggered=a,r[a]())}catch(f){}h&&(r[u]=h),N.event.triggered=t}}return n.result}}},handle:function(n){n=N.event.fix(n||e.event);var i=((N._data(this,"events")||{})[n.type]||[]).slice(0),r=!n.exclusive&&!n.namespace,o=Array.prototype.slice.call(arguments,0);o[0]=n,n.currentTarget=this;for(var s=0,a=i.length;a>s;s++){var l=i[s];if(r||n.namespace_re.test(l.namespace)){n.handler=l.handler,n.data=l.data,n.handleObj=l;var c=l.handler.apply(this,o);if(c!==t&&(n.result=c,c===!1&&(n.preventDefault(),n.stopPropagation())),n.isImmediatePropagationStopped())break}}return n.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(e){if(e[N.expando])return e;var n=e;e=N.Event(n);for(var i,r=this.props.length;r;)i=this.props[--r],e[i]=n[i];if(e.target||(e.target=e.srcElement||P),e.target.nodeType===3&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.pageX==null&&e.clientX!=null){var o=e.target.ownerDocument||P,s=o.documentElement,a=o.body;e.pageX=e.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}return e.which!=null||e.charCode==null&&e.keyCode==null||(e.which=e.charCode!=null?e.charCode:e.keyCode),!e.metaKey&&e.ctrlKey&&(e.metaKey=e.ctrlKey),e.which||e.button===t||(e.which=e.button&1?1:e.button&2?3:e.button&4?2:0),e},guid:1e8,proxy:N.proxy,special:{ready:{setup:N.bindReady,teardown:N.noop},live:{add:function(e){N.event.add(this,c(e.origType,e.selector),N.extend({},e,{handler:l,guid:e.handler.guid}))},remove:function(e){N.event.remove(this,c(e.origType,e.selector),e)}},beforeunload:{setup:function(e,t,n){N.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}}},N.removeEvent=P.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent&&e.detachEvent("on"+t,n)},N.Event=function(e,t){return this.preventDefault?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?s:o):this.type=e,t&&N.extend(this,t),this.timeStamp=N.now(),this[N.expando]=!0,void 0):new N.Event(e,t)},N.Event.prototype={preventDefault:function(){this.isDefaultPrevented=s;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=s;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o};var nt=function(e){var t=e.relatedTarget,n=!1,i=e.type;e.type=e.data,t!==this&&(t&&(n=N.contains(this,t)),n||(N.event.handle.apply(this,arguments),e.type=i))},it=function(e){e.type=e.data,N.event.handle.apply(this,arguments)};if(N.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){N.event.special[e]={setup:function(n){N.event.add(this,t,n&&n.selector?it:nt,e)},teardown:function(e){N.event.remove(this,t,e&&e.selector?it:nt)}}}),N.support.submitBubbles||(N.event.special.submit={setup:function(){return N.nodeName(this,"form")?!1:(N.event.add(this,"click.specialSubmit",function(e){var t=e.target,n=N.nodeName(t,"input")||N.nodeName(t,"button")?t.type:"";"submit"!==n&&"image"!==n||!N(t).closest("form").length||a("submit",this,arguments)}),N.event.add(this,"keypress.specialSubmit",function(e){var t=e.target,n=N.nodeName(t,"input")||N.nodeName(t,"button")?t.type:"";"text"!==n&&"password"!==n||!N(t).closest("form").length||e.keyCode!==13||a("submit",this,arguments)}),void 0)},teardown:function(){N.event.remove(this,".specialSubmit")}}),!N.support.changeBubbles){var rt,ot=function(e){var t=N.nodeName(e,"input")?e.type:"",n=e.value;return"radio"===t||"checkbox"===t?n=e.checked:"select-multiple"===t?n=e.selectedIndex>-1?N.map(e.options,function(e){return e.selected}).join("-"):"":N.nodeName(e,"select")&&(n=e.selectedIndex),n},st=function(e){var n,i,r=e.target;Z.test(r.nodeName)&&!r.readOnly&&(n=N._data(r,"_change_data"),i=ot(r),(e.type!=="focusout"||r.type!=="radio")&&N._data(r,"_change_data",i),n!==t&&i!==n&&(null!=n||i)&&(e.type="change",e.liveFired=t,N.event.trigger(e,arguments[1],r)))};N.event.special.change={filters:{focusout:st,beforedeactivate:st,click:function(e){var t=e.target,n=N.nodeName(t,"input")?t.type:"";("radio"===n||"checkbox"===n||N.nodeName(t,"select"))&&st.call(this,e)},keydown:function(e){var t=e.target,n=N.nodeName(t,"input")?t.type:"";(e.keyCode===13&&!N.nodeName(t,"textarea")||e.keyCode===32&&("checkbox"===n||"radio"===n)||"select-multiple"===n)&&st.call(this,e)},beforeactivate:function(e){var t=e.target;N._data(t,"_change_data",ot(t))}},setup:function(){if(this.type==="file")return!1;for(var e in rt)N.event.add(this,e+".specialChange",rt[e]);return Z.test(this.nodeName)},teardown:function(){return N.event.remove(this,".specialChange"),Z.test(this.nodeName)}},rt=N.event.special.change.filters,rt.focus=rt.beforeactivate}N.support.focusinBubbles||N.each({focus:"focusin",blur:"focusout"},function(e,t){function n(e){var n=N.event.fix(e);n.type=t,n.originalEvent={},N.event.trigger(n,null,n.target),n.isDefaultPrevented()&&e.preventDefault()}var i=0;N.event.special[t]={setup:function(){i++===0&&P.addEventListener(e,n,!0)},teardown:function(){--i===0&&P.removeEventListener(e,n,!0)}}}),N.each(["bind","one"],function(e,n){N.fn[n]=function(e,i,r){var o;if("object"==typeof e){for(var s in e)this[n](s,i,e[s],r);return this}if((arguments.length===2||i===!1)&&(r=i,i=t),"one"===n?(o=function(e){return N(this).unbind(e,o),r.apply(this,arguments)},o.guid=r.guid||N.guid++):o=r,"unload"===e&&"one"!==n)this.one(e,i,r);else for(var a=0,l=this.length;l>a;a++)N.event.add(this[a],e,o,i);return this}}),N.fn.extend({unbind:function(e,t){if("object"!=typeof e||e.preventDefault)for(var n=0,i=this.length;i>n;n++)N.event.remove(this[n],e,t);else for(var r in e)this.unbind(r,e[r]);return this},delegate:function(e,t,n,i){return this.live(t,n,i,e)},undelegate:function(e,t,n){return arguments.length===0?this.unbind("live"):this.die(t,null,n,e)},trigger:function(e,t){return this.each(function(){N.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?N.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||N.guid++,i=0,r=function(n){var r=(N.data(this,"lastToggle"+e.guid)||0)%i;return N.data(this,"lastToggle"+e.guid,r+1),n.preventDefault(),t[r].apply(this,arguments)||!1};for(r.guid=n;i<t.length;)t[i++].guid=n;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var at={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};N.each(["live","die"],function(e,n){N.fn[n]=function(e,i,r,s){var a,l,u,d,h=0,p=s||this.selector,f=s?this:N(this.context);if("object"==typeof e&&!e.preventDefault){for(var m in e)f[n](m,i,e[m],p);return this}if("die"===n&&!e&&s&&s.charAt(0)===".")return f.unbind(s),this;for((i===!1||N.isFunction(i))&&(r=i||o,i=t),e=(e||"").split(" ");(a=e[h++])!=null;)if(l=K.exec(a),u="",l&&(u=l[0],a=a.replace(K,"")),"hover"!==a)if(d=a,at[a]?(e.push(at[a]+u),a+=u):a=(at[a]||a)+u,"live"===n)for(var g=0,v=f.length;v>g;g++)N.event.add(f[g],"live."+c(a,p),{data:i,selector:p,handler:r,origType:a,origHandler:r,preType:d});else f.unbind("live."+c(a,p),r);else e.push("mouseenter"+u,"mouseleave"+u);return this}}),N.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(e,t){N.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.bind(t,e,n):this.trigger(t)},N.attrFn&&(N.attrFn[t]=!0)}),function(){function e(e,t,n,i,r,o){for(var s=0,a=i.length;a>s;s++){var l=i[s];if(l){var c=!1;for(l=l[e];l;){if(l.sizcache===n){c=i[l.sizset];break}if(l.nodeType!==1||o||(l.sizcache=n,l.sizset=s),l.nodeName.toLowerCase()===t){c=l;break}l=l[e]}i[s]=c}}}function n(e,t,n,i,r,o){for(var s=0,a=i.length;a>s;s++){var l=i[s];if(l){var c=!1;for(l=l[e];l;){if(l.sizcache===n){c=i[l.sizset];break}if(l.nodeType===1)if(o||(l.sizcache=n,l.sizset=s),"string"!=typeof t){if(l===t){c=!0;break}}else if(u.filter(t,[l]).length>0){c=l;break}l=l[e]}i[s]=c}}}var i=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,r=0,o=Object.prototype.toString,s=!1,a=!0,l=/\\/g,c=/\W/;[0,0].sort(function(){return a=!1,0});var u=function(e,t,n,r){n=n||[],t=t||P;var s=t;if(t.nodeType!==1&&t.nodeType!==9)return[];if(!e||"string"!=typeof e)return n;var a,l,c,p,f,g,v,y,w=!0,x=u.isXML(t),k=[],$=e;do if(i.exec(""),a=i.exec($),a&&($=a[3],k.push(a[1]),a[2])){p=a[3];break}while(a);if(k.length>1&&h.exec(e))if(k.length===2&&d.relative[k[0]])l=b(k[0]+k[1],t);else for(l=d.relative[k[0]]?[t]:u(k.shift(),t);k.length;)e=k.shift(),d.relative[e]&&(e+=k.shift()),l=b(e,l);else if(!r&&k.length>1&&t.nodeType===9&&!x&&d.match.ID.test(k[0])&&!d.match.ID.test(k[k.length-1])&&(f=u.find(k.shift(),t,x),t=f.expr?u.filter(f.expr,f.set)[0]:f.set[0]),t)for(f=r?{expr:k.pop(),set:m(r)}:u.find(k.pop(),k.length!==1||k[0]!=="~"&&k[0]!=="+"||!t.parentNode?t:t.parentNode,x),l=f.expr?u.filter(f.expr,f.set):f.set,k.length>0?c=m(l):w=!1;k.length;)g=k.pop(),v=g,d.relative[g]?v=k.pop():g="",null==v&&(v=t),d.relative[g](c,v,x);else c=k=[];if(c||(c=l),c||u.error(g||e),o.call(c)==="[object Array]")if(w)if(t&&t.nodeType===1)for(y=0;c[y]!=null;y++)c[y]&&(c[y]===!0||c[y].nodeType===1&&u.contains(t,c[y]))&&n.push(l[y]);else for(y=0;c[y]!=null;y++)c[y]&&c[y].nodeType===1&&n.push(l[y]);else n.push.apply(n,c);else m(c,n);return p&&(u(p,s,n,r),u.uniqueSort(n)),n};u.uniqueSort=function(e){if(v&&(s=a,e.sort(v),s))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},u.matches=function(e,t){return u(e,null,null,t)},u.matchesSelector=function(e,t){return u(t,null,null,[e]).length>0},u.find=function(e,t,n){var i;if(!e)return[];for(var r=0,o=d.order.length;o>r;r++){var s,a=d.order[r];if(s=d.leftMatch[a].exec(e)){var c=s[1];if(s.splice(1,1),c.substr(c.length-1)!=="\\"&&(s[1]=(s[1]||"").replace(l,""),i=d.find[a](s,t,n),null!=i)){e=e.replace(d.match[a],"");break}}}return i||(i=typeof t.getElementsByTagName!="undefined"?t.getElementsByTagName("*"):[]),{set:i,expr:e}},u.filter=function(e,n,i,r){for(var o,s,a=e,l=[],c=n,h=n&&n[0]&&u.isXML(n[0]);e&&n.length;){for(var p in d.filter)if((o=d.leftMatch[p].exec(e))!=null&&o[2]){var f,m,g=d.filter[p],v=o[1];if(s=!1,o.splice(1,1),v.substr(v.length-1)==="\\")continue;if(c===l&&(l=[]),d.preFilter[p])if(o=d.preFilter[p](o,c,i,l,r,h)){if(o===!0)continue}else s=f=!0;if(o)for(var y=0;(m=c[y])!=null;y++)if(m){f=g(m,o,y,c);var b=r^!!f;i&&null!=f?b?s=!0:c[y]=!1:b&&(l.push(m),s=!0)}if(f!==t){if(i||(c=l),e=e.replace(d.match[p],""),!s)return[];break}}if(e===a){if(null!=s)break;u.error(e)}a=e}return c},u.error=function(e){throw"Syntax error, unrecognized expression: "+e};var d=u.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n="string"==typeof t,i=n&&!c.test(t),r=n&&!i;i&&(t=t.toLowerCase());for(var o,s=0,a=e.length;a>s;s++)if(o=e[s]){for(;(o=o.previousSibling)&&o.nodeType!==1;);e[s]=r||o&&o.nodeName.toLowerCase()===t?o||!1:o===t}r&&u.filter(t,e,!0)},">":function(e,t){var n,i="string"==typeof t,r=0,o=e.length;if(i&&!c.test(t)){for(t=t.toLowerCase();o>r;r++)if(n=e[r]){var s=n.parentNode;e[r]=s.nodeName.toLowerCase()===t?s:!1}}else{for(;o>r;r++)n=e[r],n&&(e[r]=i?n.parentNode:n.parentNode===t);i&&u.filter(t,e,!0)}},"":function(t,i,o){var s,a=r++,l=n;"string"!=typeof i||c.test(i)||(i=i.toLowerCase(),s=i,l=e),l("parentNode",i,a,t,s,o)},"~":function(t,i,o){var s,a=r++,l=n;"string"!=typeof i||c.test(i)||(i=i.toLowerCase(),s=i,l=e),l("previousSibling",i,a,t,s,o)}},find:{ID:function(e,t,n){if(typeof t.getElementById!="undefined"&&!n){var i=t.getElementById(e[1]);return i&&i.parentNode?[i]:[]}},NAME:function(e,t){if(typeof t.getElementsByName!="undefined"){for(var n=[],i=t.getElementsByName(e[1]),r=0,o=i.length;o>r;r++)i[r].getAttribute("name")===e[1]&&n.push(i[r]);return n.length===0?null:n}},TAG:function(e,t){return typeof t.getElementsByTagName!="undefined"?t.getElementsByTagName(e[1]):void 0}},preFilter:{CLASS:function(e,t,n,i,r,o){if(e=" "+e[1].replace(l,"")+" ",o)return e;for(var s,a=0;(s=t[a])!=null;a++)s&&(r^(s.className&&(" "+s.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||i.push(s):n&&(t[a]=!1));return!1},ID:function(e){return e[1].replace(l,"")},TAG:function(e){return e[1].replace(l,"").toLowerCase()},CHILD:function(e){if(e[1]==="nth"){e[2]||u.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&u.error(e[0]);return e[0]=r++,e},ATTR:function(e,t,n,i,r,o){var s=e[1]=e[1].replace(l,"");return!o&&d.attrMap[s]&&(e[1]=d.attrMap[s]),e[4]=(e[4]||e[5]||"").replace(l,""),e[2]==="~="&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,n,r,o){if(e[1]==="not"){if(!((i.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var s=u.filter(e[3],t,n,!0^o);return n||r.push.apply(r,s),!1}e[3]=u(e[3],null,null,t)}else if(d.match.POS.test(e[0])||d.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&e.type!=="hidden"},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!u(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return e.nodeName.toLowerCase()==="input"&&"text"===n&&(t===n||null===t)},radio:function(e){return e.nodeName.toLowerCase()==="input"&&"radio"===e.type},checkbox:function(e){return e.nodeName.toLowerCase()==="input"&&"checkbox"===e.type},file:function(e){return e.nodeName.toLowerCase()==="input"&&"file"===e.type},password:function(e){return e.nodeName.toLowerCase()==="input"&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return e.nodeName.toLowerCase()==="input"&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,i){return t===i.length-1},even:function(e,t){return 0===t%2},odd:function(e,t){return 1===t%2},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,i){var r=t[1],o=d.filters[r];if(o)return o(e,n,t,i);if("contains"===r)return(e.textContent||e.innerText||u.getText([e])||"").indexOf(t[3])>=0;if("not"===r){for(var s=t[3],a=0,l=s.length;l>a;a++)if(s[a]===e)return!1;return!0}u.error(r)},CHILD:function(e,t){var n=t[1],i=e;switch(n){case"only":case"first":for(;i=i.previousSibling;)if(i.nodeType===1)return!1;if("first"===n)return!0;i=e;case"last":for(;i=i.nextSibling;)if(i.nodeType===1)return!1;return!0;case"nth":var r=t[2],o=t[3];if(1===r&&0===o)return!0;var s=t[0],a=e.parentNode;if(a&&(a.sizcache!==s||!e.nodeIndex)){var l=0;for(i=a.firstChild;i;i=i.nextSibling)i.nodeType===1&&(i.nodeIndex=++l);a.sizcache=s}var c=e.nodeIndex-o;return 0===r?0===c:0===c%r&&c/r>=0}},ID:function(e,t){return e.nodeType===1&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&e.nodeType===1||e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],i=d.attrHandle[n]?d.attrHandle[n](e):e[n]!=null?e[n]:e.getAttribute(n),r=i+"",o=t[2],s=t[4];return null==i?"!="===o:"="===o?r===s:"*="===o?r.indexOf(s)>=0:"~="===o?(" "+r+" ").indexOf(s)>=0:s?"!="===o?r!==s:"^="===o?r.indexOf(s)===0:"$="===o?r.substr(r.length-s.length)===s:"|="===o?r===s||r.substr(0,s.length+1)===s+"-":!1:r&&i!==!1},POS:function(e,t,n,i){var r=t[2],o=d.setFilters[r];return o?o(e,n,t,i):void 0}}},h=d.match.POS,p=function(e,t){return"\\"+(t-0+1)};for(var f in d.match)d.match[f]=new RegExp(d.match[f].source+/(?![^\[]*\])(?![^\(]*\))/.source),d.leftMatch[f]=new RegExp(/(^(?:.|\r|\n)*?)/.source+d.match[f].source.replace(/\\(\d+)/g,p));var m=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(P.documentElement.childNodes,0)[0].nodeType}catch(g){m=function(e,t){var n=0,i=t||[];if(o.call(e)==="[object Array]")Array.prototype.push.apply(i,e);else if(typeof e.length=="number")for(var r=e.length;r>n;n++)i.push(e[n]);else for(;e[n];n++)i.push(e[n]);return i}}var v,y;P.documentElement.compareDocumentPosition?v=function(e,t){return e===t?(s=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?e.compareDocumentPosition(t)&4?-1:1:e.compareDocumentPosition?-1:1}:(v=function(e,t){if(e===t)return s=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,r=[],o=[],a=e.parentNode,l=t.parentNode,c=a;if(a===l)return y(e,t);if(!a)return-1;if(!l)return 1;for(;c;)r.unshift(c),c=c.parentNode;for(c=l;c;)o.unshift(c),c=c.parentNode;n=r.length,i=o.length;for(var u=0;n>u&&i>u;u++)if(r[u]!==o[u])return y(r[u],o[u]);return u===n?y(e,o[u],-1):y(r[u],t,1)},y=function(e,t,n){if(e===t)return n;for(var i=e.nextSibling;i;){if(i===t)return-1;i=i.nextSibling}return 1}),u.getText=function(e){for(var t,n="",i=0;e[i];i++)t=e[i],t.nodeType===3||t.nodeType===4?n+=t.nodeValue:t.nodeType!==8&&(n+=u.getText(t.childNodes));return n},function(){var e=P.createElement("div"),n="script"+(new Date).getTime(),i=P.documentElement;e.innerHTML="<a name='"+n+"'/>",i.insertBefore(e,i.firstChild),P.getElementById(n)&&(d.find.ID=function(e,n,i){if(typeof n.getElementById!="undefined"&&!i){var r=n.getElementById(e[1]);return r?r.id===e[1]||typeof r.getAttributeNode!="undefined"&&r.getAttributeNode("id").nodeValue===e[1]?[r]:t:[]}},d.filter.ID=function(e,t){var n=typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id");return e.nodeType===1&&n&&n.nodeValue===t}),i.removeChild(e),i=e=null}(),function(){var e=P.createElement("div");e.appendChild(P.createComment("")),e.getElementsByTagName("*").length>0&&(d.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if(e[1]==="*"){for(var i=[],r=0;n[r];r++)n[r].nodeType===1&&i.push(n[r]);n=i}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!="undefined"&&e.firstChild.getAttribute("href")!=="#"&&(d.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),P.querySelectorAll&&function(){var e=u,t=P.createElement("div"),n="__sizzle__";if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||t.querySelectorAll(".TEST").length!==0){u=function(t,i,r,o){if(i=i||P,!o&&!u.isXML(i)){var s=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(s&&(i.nodeType===1||i.nodeType===9)){if(s[1])return m(i.getElementsByTagName(t),r);if(s[2]&&d.find.CLASS&&i.getElementsByClassName)return m(i.getElementsByClassName(s[2]),r)}if(i.nodeType===9){if("body"===t&&i.body)return m([i.body],r);if(s&&s[3]){var a=i.getElementById(s[3]);if(!a||!a.parentNode)return m([],r);if(a.id===s[3])return m([a],r)}try{return m(i.querySelectorAll(t),r)}catch(l){}}else if(i.nodeType===1&&i.nodeName.toLowerCase()!=="object"){var c=i,h=i.getAttribute("id"),p=h||n,f=i.parentNode,g=/^\s*[+~]/.test(t);h?p=p.replace(/'/g,"\\$&"):i.setAttribute("id",p),g&&f&&(i=i.parentNode);try{if(!g||f)return m(i.querySelectorAll("[id='"+p+"'] "+t),r)}catch(v){}finally{h||c.removeAttribute("id")}}}return e(t,i,r,o)};for(var i in e)u[i]=e[i];t=null}}(),function(){var e=P.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var n=!t.call(P.createElement("div"),"div"),i=!1;try{t.call(P.documentElement,"[test!='']:sizzle")}catch(r){i=!0}u.matchesSelector=function(e,r){if(r=r.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!u.isXML(e))try{if(i||!d.match.PSEUDO.test(r)&&!/!=/.test(r)){var o=t.call(e,r);if(o||!n||e.document&&e.document.nodeType!==11)return o}}catch(s){}return u(r,null,null,[e]).length>0}}}(),function(){var e=P.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length!==0&&(e.lastChild.className="e",e.getElementsByClassName("e").length!==1&&(d.order.splice(1,0,"CLASS"),d.find.CLASS=function(e,t,n){return typeof t.getElementsByClassName=="undefined"||n?void 0:t.getElementsByClassName(e[1])},e=null))}(),u.contains=P.documentElement.contains?function(e,t){return e!==t&&(e.contains?e.contains(t):!0)}:P.documentElement.compareDocumentPosition?function(e,t){return!!(e.compareDocumentPosition(t)&16)}:function(){return!1},u.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?t.nodeName!=="HTML":!1};var b=function(e,t){for(var n,i=[],r="",o=t.nodeType?[t]:t;n=d.match.PSEUDO.exec(e);)r+=n[0],e=e.replace(d.match.PSEUDO,"");e=d.relative[e]?e+"*":e;for(var s=0,a=o.length;a>s;s++)u(e,o[s],i);return u.filter(r,i)};N.find=u,N.expr=u.selectors,N.expr[":"]=N.expr.filters,N.unique=u.uniqueSort,N.text=u.getText,N.isXMLDoc=u.isXML,N.contains=u.contains}();var lt=/Until$/,ct=/^(?:parents|prevUntil|prevAll)/,ut=/,/,dt=/^.[^:#\[\.,]*$/,ht=Array.prototype.slice,pt=N.expr.match.POS,ft={children:!0,contents:!0,next:!0,prev:!0};N.fn.extend({find:function(e){var t,n,i=this;if("string"!=typeof e)return N(e).filter(function(){for(t=0,n=i.length;n>t;t++)if(N.contains(i[t],this))return!0});var r,o,s,a=this.pushStack("","find",e);for(t=0,n=this.length;n>t;t++)if(r=a.length,N.find(e,this[t],a),t>0)for(o=r;o<a.length;o++)for(s=0;r>s;s++)if(a[s]===a[o]){a.splice(o--,1);break}return a},has:function(e){var t=N(e);return this.filter(function(){for(var e=0,n=t.length;n>e;e++)if(N.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(d(this,e,!1),"not",e)},filter:function(e){return this.pushStack(d(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?N.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,i,r=[],o=this[0];if(N.isArray(e)){var s,a,l={},c=1;if(o&&e.length){for(n=0,i=e.length;i>n;n++)a=e[n],l[a]||(l[a]=pt.test(a)?N(a,t||this.context):a);for(;o&&o.ownerDocument&&o!==t;){for(a in l)s=l[a],(s.jquery?s.index(o)>-1:N(o).is(s))&&r.push({selector:a,elem:o,level:c});o=o.parentNode,c++}}return r}var u=pt.test(e)||"string"!=typeof e?N(e,t||this.context):0;for(n=0,i=this.length;i>n;n++)for(o=this[n];o;){if(u?u.index(o)>-1:N.find.matchesSelector(o,e)){r.push(o);break}if(o=o.parentNode,!o||!o.ownerDocument||o===t||o.nodeType===11)break}return r=r.length>1?N.unique(r):r,this.pushStack(r,"closest",e)},index:function(e){return e?"string"==typeof e?N.inArray(this[0],N(e)):N.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?N(e,t):N.makeArray(e&&e.nodeType?[e]:e),i=N.merge(this.get(),n);return this.pushStack(u(n[0])||u(i[0])?i:N.unique(i))},andSelf:function(){return this.add(this.prevObject)}}),N.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return N.dir(e,"parentNode")},parentsUntil:function(e,t,n){return N.dir(e,"parentNode",n)},next:function(e){return N.nth(e,2,"nextSibling")},prev:function(e){return N.nth(e,2,"previousSibling")},nextAll:function(e){return N.dir(e,"nextSibling")},prevAll:function(e){return N.dir(e,"previousSibling")},nextUntil:function(e,t,n){return N.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return N.dir(e,"previousSibling",n)},siblings:function(e){return N.sibling(e.parentNode.firstChild,e)},children:function(e){return N.sibling(e.firstChild)},contents:function(e){return N.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:N.makeArray(e.childNodes)}},function(e,t){N.fn[e]=function(n,i){var r=N.map(this,t,n),o=ht.call(arguments);return lt.test(e)||(i=n),i&&"string"==typeof i&&(r=N.filter(i,r)),r=this.length>1&&!ft[e]?N.unique(r):r,(this.length>1||ut.test(i))&&ct.test(e)&&(r=r.reverse()),this.pushStack(r,e,o.join(","))}}),N.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?N.find.matchesSelector(t[0],e)?[t[0]]:[]:N.find.matches(e,t)},dir:function(e,n,i){for(var r=[],o=e[n];o&&o.nodeType!==9&&(i===t||o.nodeType!==1||!N(o).is(i));)o.nodeType===1&&r.push(o),o=o[n];return r},nth:function(e,t,n){t=t||1;for(var i=0;e&&(e.nodeType!==1||++i!==t);e=e[n]);return e},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var mt=/ jQuery\d+="(?:\d+|null)"/g,gt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,yt=/<([\w:]+)/,bt=/<tbody/i,wt=/<|&#?\w+;/,xt=/<(?:script|object|embed|option|style)/i,kt=/checked\s*(?:[^=]|=\s*.checked.)/i,$t=/\/(java|ecma)script/i,Ct=/^\s*<!(?:\[CDATA\[|\-\-)/,_t={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};_t.optgroup=_t.option,_t.tbody=_t.tfoot=_t.colgroup=_t.caption=_t.thead,_t.th=_t.td,N.support.htmlSerialize||(_t._default=[1,"div<div>","</div>"]),N.fn.extend({text:function(e){return N.isFunction(e)?this.each(function(t){var n=N(this);n.text(e.call(this,t,n.text()))}):"object"!=typeof e&&e!==t?this.empty().append((this[0]&&this[0].ownerDocument||P).createTextNode(e)):N.text(this)},wrapAll:function(e){if(N.isFunction(e))return this.each(function(t){N(this).wrapAll(e.call(this,t))});if(this[0]){var t=N(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&e.firstChild.nodeType===1;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return N.isFunction(e)?this.each(function(t){N(this).wrapInner(e.call(this,t))}):this.each(function(){var t=N(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){return this.each(function(){N(this).wrapAll(e)})},unwrap:function(){return this.parent().each(function(){N.nodeName(this,"body")||N(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){this.nodeType===1&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){this.nodeType===1&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=N(arguments[0]);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,N(arguments[0]).toArray()),e}},remove:function(e,t){for(var n,i=0;(n=this[i])!=null;i++)(!e||N.filter(e,[n]).length)&&(t||n.nodeType!==1||(N.cleanData(n.getElementsByTagName("*")),N.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;(e=this[t])!=null;t++)for(e.nodeType===1&&N.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return N.clone(this,e,t)})},html:function(e){if(e===t)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(mt,""):null;if("string"!=typeof e||xt.test(e)||!N.support.leadingWhitespace&&gt.test(e)||_t[(yt.exec(e)||["",""])[1].toLowerCase()])N.isFunction(e)?this.each(function(t){var n=N(this);n.html(e.call(this,t,n.html()))}):this.empty().append(e);else{e=e.replace(vt,"<$1></$2>");try{for(var n=0,i=this.length;i>n;n++)this[n].nodeType===1&&(N.cleanData(this[n].getElementsByTagName("*")),this[n].innerHTML=e)}catch(r){this.empty().append(e)}}return this},replaceWith:function(e){return this[0]&&this[0].parentNode?N.isFunction(e)?this.each(function(t){var n=N(this),i=n.html();n.replaceWith(e.call(this,t,i))}):("string"!=typeof e&&(e=N(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;N(this).remove(),t?N(t).before(e):N(n).append(e)})):this.length?this.pushStack(N(N.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){var r,o,s,a,l=e[0],c=[];
if(!N.support.checkClone&&arguments.length===3&&"string"==typeof l&&kt.test(l))return this.each(function(){N(this).domManip(e,n,i,!0)});if(N.isFunction(l))return this.each(function(r){var o=N(this);e[0]=l.call(this,r,n?o.html():t),o.domManip(e,n,i)});if(this[0]){if(a=l&&l.parentNode,r=N.support.parentNode&&a&&a.nodeType===11&&a.childNodes.length===this.length?{fragment:a}:N.buildFragment(e,this,c),s=r.fragment,o=s.childNodes.length===1?s=s.firstChild:s.firstChild){n=n&&N.nodeName(o,"tr");for(var u=0,d=this.length,p=d-1;d>u;u++)i.call(n?h(this[u],o):this[u],r.cacheable||d>1&&p>u?N.clone(s,!0,!0):s)}c.length&&N.each(c,y)}return this}}),N.buildFragment=function(e,t,n){var i,r,o,s;return t&&t[0]&&(s=t[0].ownerDocument||t[0]),s.createDocumentFragment||(s=P),e.length===1&&typeof e[0]=="string"&&e[0].length<512&&s===P&&e[0].charAt(0)==="<"&&!xt.test(e[0])&&(N.support.checkClone||!kt.test(e[0]))&&(r=!0,o=N.fragments[e[0]],o&&1!==o&&(i=o)),i||(i=s.createDocumentFragment(),N.clean(e,s,i,n)),r&&(N.fragments[e[0]]=o?i:1),{fragment:i,cacheable:r}},N.fragments={},N.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){N.fn[e]=function(n){var i=[],r=N(n),o=this.length===1&&this[0].parentNode;if(o&&o.nodeType===11&&o.childNodes.length===1&&r.length===1)return r[t](this[0]),this;for(var s=0,a=r.length;a>s;s++){var l=(s>0?this.clone(!0):this).get();N(r[s])[t](l),i=i.concat(l)}return this.pushStack(i,e,r.selector)}}),N.extend({clone:function(e,t,n){var i,r,o,s=e.cloneNode(!0);if(!(N.support.noCloneEvent&&N.support.noCloneChecked||e.nodeType!==1&&e.nodeType!==11||N.isXMLDoc(e)))for(f(e,s),i=m(e),r=m(s),o=0;i[o];++o)r[o]&&f(i[o],r[o]);if(t&&(p(e,s),n))for(i=m(e),r=m(s),o=0;i[o];++o)p(i[o],r[o]);return i=r=null,s},clean:function(e,t,n,i){var r;t=t||P,typeof t.createElement=="undefined"&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||P);for(var o,s,a=[],l=0;(s=e[l])!=null;l++)if("number"==typeof s&&(s+=""),s){if("string"==typeof s)if(wt.test(s)){s=s.replace(vt,"<$1></$2>");var c=(yt.exec(s)||["",""])[1].toLowerCase(),u=_t[c]||_t._default,d=u[0],h=t.createElement("div");for(h.innerHTML=u[1]+s+u[2];d--;)h=h.lastChild;if(!N.support.tbody){var p=bt.test(s),f="table"!==c||p?u[1]!=="<table>"||p?[]:h.childNodes:h.firstChild&&h.firstChild.childNodes;for(o=f.length-1;o>=0;--o)N.nodeName(f[o],"tbody")&&!f[o].childNodes.length&&f[o].parentNode.removeChild(f[o])}!N.support.leadingWhitespace&&gt.test(s)&&h.insertBefore(t.createTextNode(gt.exec(s)[0]),h.firstChild),s=h.childNodes}else s=t.createTextNode(s);var m;if(!N.support.appendChecked)if(s[0]&&typeof(m=s.length)=="number")for(o=0;m>o;o++)v(s[o]);else v(s);s.nodeType?a.push(s):a=N.merge(a,s)}if(n)for(r=function(e){return!e.type||$t.test(e.type)},l=0;a[l];l++)if(!i||!N.nodeName(a[l],"script")||a[l].type&&a[l].type.toLowerCase()!=="text/javascript"){if(a[l].nodeType===1){var g=N.grep(a[l].getElementsByTagName("script"),r);a.splice.apply(a,[l+1,0].concat(g))}n.appendChild(a[l])}else i.push(a[l].parentNode?a[l].parentNode.removeChild(a[l]):a[l]);return a},cleanData:function(e){for(var t,n,i,r=N.cache,o=N.expando,s=N.event.special,a=N.support.deleteExpando,l=0;(i=e[l])!=null;l++)if((!i.nodeName||!N.noData[i.nodeName.toLowerCase()])&&(n=i[N.expando])){if(t=r[n]&&r[n][o],t&&t.events){for(var c in t.events)s[c]?N.event.remove(i,c):N.removeEvent(i,c,t.handle);t.handle&&(t.handle.elem=null)}a?delete i[N.expando]:i.removeAttribute&&i.removeAttribute(N.expando),delete r[n]}}});var Tt,St,Dt,Mt=/alpha\([^)]*\)/i,At=/opacity=([^)]*)/,Lt=/([A-Z]|^ms)/g,Et=/^-?\d+(?:px)?$/i,Pt=/^-?\d/,Ft=/^([\-+])=([\-+.\de]+)/,Ot={position:"absolute",visibility:"hidden",display:"block"},Nt=["Left","Right"],It=["Top","Bottom"];N.fn.css=function(e,n){return arguments.length===2&&n===t?this:N.access(this,e,n,!0,function(e,n,i){return i!==t?N.style(e,n,i):N.css(e,n)})},N.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Tt(e,"opacity","opacity");return""===n?"1":n}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":N.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&e.nodeType!==3&&e.nodeType!==8&&e.style){var o,s,a=N.camelCase(n),l=e.style,c=N.cssHooks[a];if(n=N.cssProps[a]||a,i===t)return c&&"get"in c&&(o=c.get(e,!1,r))!==t?o:l[n];if(s=typeof i,"string"===s&&(o=Ft.exec(i))&&(i=+(o[1]+1)*+o[2]+parseFloat(N.css(e,n)),s="number"),!(null==i||"number"===s&&isNaN(i)||("number"!==s||N.cssNumber[a]||(i+="px"),c&&"set"in c&&(i=c.set(e,i))===t)))try{l[n]=i}catch(u){}}},css:function(e,n,i){var r,o;return n=N.camelCase(n),o=N.cssHooks[n],n=N.cssProps[n]||n,"cssFloat"===n&&(n="float"),o&&"get"in o&&(r=o.get(e,!0,i))!==t?r:Tt?Tt(e,n):void 0},swap:function(e,t,n){var i={};for(var r in t)i[r]=e.style[r],e.style[r]=t[r];n.call(e);for(r in t)e.style[r]=i[r]}}),N.curCSS=N.css,N.each(["height","width"],function(e,t){N.cssHooks[t]={get:function(e,n,i){var r;return n?e.offsetWidth!==0?b(e,t,i):(N.swap(e,Ot,function(){r=b(e,t,i)}),r):void 0},set:function(e,t){return Et.test(t)?(t=parseFloat(t),t>=0?t+"px":void 0):t}}}),N.support.opacity||(N.cssHooks.opacity={get:function(e,t){return At.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=N.isNaN(t)?"":"alpha(opacity="+100*t+")",o=i&&i.filter||n.filter||"";n.zoom=1,t>=1&&N.trim(o.replace(Mt,""))===""&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=Mt.test(o)?o.replace(Mt,r):o+" "+r)}}),N(function(){N.support.reliableMarginRight||(N.cssHooks.marginRight={get:function(e,t){var n;return N.swap(e,{display:"inline-block"},function(){n=t?Tt(e,"margin-right","marginRight"):e.style.marginRight}),n}})}),P.defaultView&&P.defaultView.getComputedStyle&&(St=function(e,n){var i,r,o;return n=n.replace(Lt,"-$1").toLowerCase(),(r=e.ownerDocument.defaultView)?((o=r.getComputedStyle(e,null))&&(i=o.getPropertyValue(n),""!==i||N.contains(e.ownerDocument.documentElement,e)||(i=N.style(e,n))),i):t}),P.documentElement.currentStyle&&(Dt=function(e,t){var n,i=e.currentStyle&&e.currentStyle[t],r=e.runtimeStyle&&e.runtimeStyle[t],o=e.style;return!Et.test(i)&&Pt.test(i)&&(n=o.left,r&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":i||0,i=o.pixelLeft+"px",o.left=n,r&&(e.runtimeStyle.left=r)),""===i?"auto":i}),Tt=St||Dt,N.expr&&N.expr.filters&&(N.expr.filters.hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return 0===t&&0===n||!N.support.reliableHiddenOffsets&&(e.style.display||N.css(e,"display"))==="none"},N.expr.filters.visible=function(e){return!N.expr.filters.hidden(e)});var zt,Bt,Rt=/%20/g,Ht=/\[\]$/,Yt=/\r?\n/g,jt=/#.*$/,Wt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Vt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,qt=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Ut=/^(?:GET|HEAD)$/,Xt=/^\/\//,Gt=/\?/,Kt=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Zt=/^(?:select|textarea)/i,Qt=/\s+/,Jt=/([?&])_=[^&]*/,en=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,tn=N.fn.load,nn={},rn={},on=["*/"]+["*"];try{zt=O.href}catch(sn){zt=P.createElement("a"),zt.href="",zt=zt.href}Bt=en.exec(zt.toLowerCase())||[],N.fn.extend({load:function(e,n,i){if("string"!=typeof e&&tn)return tn.apply(this,arguments);if(!this.length)return this;var r=e.indexOf(" ");if(r>=0){var o=e.slice(r,e.length);e=e.slice(0,r)}var s="GET";n&&(N.isFunction(n)?(i=n,n=t):"object"==typeof n&&(n=N.param(n,N.ajaxSettings.traditional),s="POST"));var a=this;return N.ajax({url:e,type:s,dataType:"html",data:n,complete:function(e,t,n){n=e.responseText,e.isResolved()&&(e.done(function(e){n=e}),a.html(o?N("<div>").append(n.replace(Kt,"")).find(o):n)),i&&a.each(i,[n,t,e])}}),this},serialize:function(){return N.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?N.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Zt.test(this.nodeName)||Vt.test(this.type))}).map(function(e,t){var n=N(this).val();return null==n?null:N.isArray(n)?N.map(n,function(e){return{name:t.name,value:e.replace(Yt,"\r\n")}}):{name:t.name,value:n.replace(Yt,"\r\n")}}).get()}}),N.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){N.fn[t]=function(e){return this.bind(t,e)}}),N.each(["get","post"],function(e,n){N[n]=function(e,i,r,o){return N.isFunction(i)&&(o=o||r,r=i,i=t),N.ajax({type:n,url:e,data:i,success:r,dataType:o})}}),N.extend({getScript:function(e,n){return N.get(e,t,n,"script")},getJSON:function(e,t,n){return N.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?k(e,N.ajaxSettings):(t=e,e=N.ajaxSettings),k(e,t),e},ajaxSettings:{url:zt,isLocal:qt.test(Bt[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":on},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":N.parseJSON,"text xml":N.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:w(nn),ajaxTransport:w(rn),ajax:function(e,n){function i(e,n,i,s){if(2!==w){w=2,l&&clearTimeout(l),a=t,o=s||"",k.readyState=e>0?4:0;var c,d,y,b,x,$=n,T=i?C(h,k,i):t;if(e>=200&&300>e||304===e)if(h.ifModified&&((b=k.getResponseHeader("Last-Modified"))&&(N.lastModified[r]=b),(x=k.getResponseHeader("Etag"))&&(N.etag[r]=x)),304===e)$="notmodified",c=!0;else try{d=_(h,T),$="success",c=!0}catch(S){$="parsererror",y=S}else y=$,(!$||e)&&($="error",0>e&&(e=0));k.status=e,k.statusText=""+(n||$),c?m.resolveWith(p,[d,$,k]):m.rejectWith(p,[k,$,y]),k.statusCode(v),v=t,u&&f.trigger("ajax"+(c?"Success":"Error"),[k,h,c?d:y]),g.resolveWith(p,[k,$]),u&&(f.trigger("ajaxComplete",[k,h]),--N.active||N.event.trigger("ajaxStop"))}}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,s,a,l,c,u,d,h=N.ajaxSetup({},n),p=h.context||h,f=p!==h&&(p.nodeType||p instanceof N)?N(p):N.event,m=N.Deferred(),g=N._Deferred(),v=h.statusCode||{},y={},b={},w=0,k={readyState:0,setRequestHeader:function(e,t){if(!w){var n=e.toLowerCase();e=b[n]=b[n]||e,y[e]=t}return this},getAllResponseHeaders:function(){return 2===w?o:null},getResponseHeader:function(e){var n;if(2===w){if(!s)for(s={};n=Wt.exec(o);)s[n[1].toLowerCase()]=n[2];n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return w||(h.mimeType=e),this},abort:function(e){return e=e||"abort",a&&a.abort(e),i(0,e),this}};if(m.promise(k),k.success=k.done,k.error=k.fail,k.complete=g.done,k.statusCode=function(e){if(e){var t;if(2>w)for(t in e)v[t]=[v[t],e[t]];else t=e[k.status],k.then(t,t)}return this},h.url=((e||h.url)+"").replace(jt,"").replace(Xt,Bt[1]+"//"),h.dataTypes=N.trim(h.dataType||"*").toLowerCase().split(Qt),h.crossDomain==null&&(c=en.exec(h.url.toLowerCase()),h.crossDomain=!(!c||c[1]==Bt[1]&&c[2]==Bt[2]&&(c[3]||(c[1]==="http:"?80:443))==(Bt[3]||(Bt[1]==="http:"?80:443)))),h.data&&h.processData&&typeof h.data!="string"&&(h.data=N.param(h.data,h.traditional)),x(nn,h,n,k),2===w)return!1;if(u=h.global,h.type=h.type.toUpperCase(),h.hasContent=!Ut.test(h.type),u&&N.active++===0&&N.event.trigger("ajaxStart"),!h.hasContent&&(h.data&&(h.url+=(Gt.test(h.url)?"&":"?")+h.data,delete h.data),r=h.url,h.cache===!1)){var $=N.now(),T=h.url.replace(Jt,"$1_="+$);h.url=T+(T===h.url?(Gt.test(h.url)?"&":"?")+"_="+$:"")}(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",h.contentType),h.ifModified&&(r=r||h.url,N.lastModified[r]&&k.setRequestHeader("If-Modified-Since",N.lastModified[r]),N.etag[r]&&k.setRequestHeader("If-None-Match",N.etag[r])),k.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+(h.dataTypes[0]!=="*"?", "+on+"; q=0.01":""):h.accepts["*"]);for(d in h.headers)k.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(h.beforeSend.call(p,k,h)===!1||2===w))return k.abort(),!1;for(d in{success:1,error:1,complete:1})k[d](h[d]);if(a=x(rn,h,n,k)){k.readyState=1,u&&f.trigger("ajaxSend",[k,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){k.abort("timeout")},h.timeout));try{w=1,a.send(y,i)}catch(S){2>w?i(-1,S):N.error(S)}}else i(-1,"No Transport");return k},param:function(e,n){var i=[],r=function(e,t){t=N.isFunction(t)?t():t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=N.ajaxSettings.traditional),N.isArray(e)||e.jquery&&!N.isPlainObject(e))N.each(e,function(){r(this.name,this.value)});else for(var o in e)$(o,e[o],n,r);return i.join("&").replace(Rt,"+")}}),N.extend({active:0,lastModified:{},etag:{}});var an=N.now(),ln=/(\=)\?(&|$)|\?\?/i;N.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return N.expando+"_"+an++}}),N.ajaxPrefilter("json jsonp",function(t,n,i){var r=t.contentType==="application/x-www-form-urlencoded"&&typeof t.data=="string";if(t.dataTypes[0]==="jsonp"||t.jsonp!==!1&&(ln.test(t.url)||r&&ln.test(t.data))){var o,s=t.jsonpCallback=N.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a=e[s],l=t.url,c=t.data,u="$1"+s+"$2";return t.jsonp!==!1&&(l=l.replace(ln,u),t.url===l&&(r&&(c=c.replace(ln,u)),t.data===c&&(l+=(/\?/.test(l)?"&":"?")+t.jsonp+"="+s))),t.url=l,t.data=c,e[s]=function(e){o=[e]},i.always(function(){e[s]=a,o&&N.isFunction(a)&&e[s](o[0])}),t.converters["script json"]=function(){return o||N.error(s+" was not called"),o[0]},t.dataTypes[0]="json","script"}}),N.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return N.globalEval(e),e}}}),N.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),N.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=P.head||P.getElementsByTagName("head")[0]||P.documentElement;return{send:function(r,o){n=P.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,r){(r||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=t,r||o(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var cn,un=e.ActiveXObject?function(){for(var e in cn)cn[e](0,1)}:!1,dn=0;N.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&T()||S()}:T,function(e){N.extend(N.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(N.ajaxSettings.xhr()),N.support.ajax&&N.ajaxTransport(function(n){if(!n.crossDomain||N.support.cors){var i;return{send:function(r,o){var s,a,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)l[a]=n.xhrFields[a];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(e,r){var a,c,u,d,h;try{if(i&&(r||l.readyState===4))if(i=t,s&&(l.onreadystatechange=N.noop,un&&delete cn[s]),r)l.readyState!==4&&l.abort();else{a=l.status,u=l.getAllResponseHeaders(),d={},h=l.responseXML,h&&h.documentElement&&(d.xml=h),d.text=l.responseText;try{c=l.statusText}catch(p){c=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=d.text?200:404}}catch(f){r||o(-1,f)}d&&o(a,c,d,u)},n.async&&l.readyState!==4?(s=++dn,un&&(cn||(cn={},N(e).unload(un)),cn[s]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});var hn,pn,fn,mn,gn={},vn=/^(?:toggle|show|hide)$/,yn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,bn=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];N.fn.extend({show:function(e,t,n){var i,r;if(e||0===e)return this.animate(A("show",3),e,t,n);for(var o=0,s=this.length;s>o;o++)i=this[o],i.style&&(r=i.style.display,N._data(i,"olddisplay")||"none"!==r||(r=i.style.display=""),""===r&&N.css(i,"display")==="none"&&N._data(i,"olddisplay",L(i.nodeName)));for(o=0;s>o;o++)i=this[o],i.style&&(r=i.style.display,(""===r||"none"===r)&&(i.style.display=N._data(i,"olddisplay")||""));return this},hide:function(e,t,n){if(e||0===e)return this.animate(A("hide",3),e,t,n);for(var i=0,r=this.length;r>i;i++)if(this[i].style){var o=N.css(this[i],"display");"none"===o||N._data(this[i],"olddisplay")||N._data(this[i],"olddisplay",o)}for(i=0;r>i;i++)this[i].style&&(this[i].style.display="none");return this},_toggle:N.fn.toggle,toggle:function(e,t,n){var i="boolean"==typeof e;return N.isFunction(e)&&N.isFunction(t)?this._toggle.apply(this,arguments):null==e||i?this.each(function(){var t=i?e:N(this).is(":hidden");N(this)[t?"show":"hide"]()}):this.animate(A("toggle",3),e,t,n),this},fadeTo:function(e,t,n,i){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=N.speed(t,n,i);return N.isEmptyObject(e)?this.each(r.complete,[!1]):(e=N.extend({},e),this[r.queue===!1?"each":"queue"](function(){r.queue===!1&&N._mark(this);var t,n,i,o,s,a,l,c,u,d=N.extend({},r),h=this.nodeType===1,p=h&&N(this).is(":hidden");d.animatedProperties={};for(i in e){if(t=N.camelCase(i),i!==t&&(e[t]=e[i],delete e[i]),n=e[t],N.isArray(n)?(d.animatedProperties[t]=n[1],n=e[t]=n[0]):d.animatedProperties[t]=d.specialEasing&&d.specialEasing[t]||d.easing||"swing","hide"===n&&p||"show"===n&&!p)return d.complete.call(this);!h||"height"!==t&&"width"!==t||(d.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],N.css(this,"display")==="inline"&&N.css(this,"float")==="none"&&(N.support.inlineBlockNeedsLayout?(o=L(this.nodeName),"inline"===o?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1)):this.style.display="inline-block"))}d.overflow!=null&&(this.style.overflow="hidden");for(i in e)s=new N.fx(this,d,i),n=e[i],vn.test(n)?s["toggle"===n?p?"show":"hide":n]():(a=yn.exec(n),l=s.cur(),a?(c=parseFloat(a[2]),u=a[3]||(N.cssNumber[i]?"":"px"),"px"!==u&&(N.style(this,i,(c||1)+u),l=(c||1)/s.cur()*l,N.style(this,i,l+u)),a[1]&&(c=(a[1]==="-="?-1:1)*c+l),s.custom(l,c,u)):s.custom(l,n,""));return!0}))},stop:function(e,t){return e&&this.queue([]),this.each(function(){var e=N.timers,n=e.length;for(t||N._unmark(!0,this);n--;)e[n].elem===this&&(t&&e[n](!0),e.splice(n,1))}),t||this.dequeue(),this}}),N.each({slideDown:A("show",1),slideUp:A("hide",1),slideToggle:A("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){N.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),N.extend({speed:function(e,t,n){var i=e&&"object"==typeof e?N.extend({},e):{complete:n||!n&&t||N.isFunction(e)&&e,duration:e,easing:n&&t||t&&!N.isFunction(t)&&t};return i.duration=N.fx.off?0:typeof i.duration=="number"?i.duration:i.duration in N.fx.speeds?N.fx.speeds[i.duration]:N.fx.speeds._default,i.old=i.complete,i.complete=function(e){N.isFunction(i.old)&&i.old.call(this),i.queue!==!1?N.dequeue(this):e!==!1&&N._unmark(this)},i},easing:{linear:function(e,t,n,i){return n+i*e},swing:function(e,t,n,i){return(-Math.cos(e*Math.PI)/2+.5)*i+n}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig=t.orig||{}}}),N.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(N.fx.step[this.prop]||N.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var e,t=N.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?t&&"auto"!==t?t:0:e},custom:function(e,t,n){function i(e){return r.step(e)}var r=this,o=N.fx;this.startTime=mn||D(),this.start=e,this.end=t,this.unit=n||this.unit||(N.cssNumber[this.prop]?"":"px"),this.now=this.start,this.pos=this.state=0,i.elem=this.elem,i()&&N.timers.push(i)&&!fn&&(fn=setInterval(o.tick,o.interval))},show:function(){this.options.orig[this.prop]=N.style(this.elem,this.prop),this.options.show=!0,this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),N(this.elem).show()},hide:function(){this.options.orig[this.prop]=N.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,n,i=mn||D(),r=!0,o=this.elem,s=this.options;if(e||i>=s.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),s.animatedProperties[this.prop]=!0;for(t in s.animatedProperties)s.animatedProperties[t]!==!0&&(r=!1);if(r){if(s.overflow==null||N.support.shrinkWrapBlocks||N.each(["","X","Y"],function(e,t){o.style["overflow"+t]=s.overflow[e]}),s.hide&&N(o).hide(),s.hide||s.show)for(var a in s.animatedProperties)N.style(o,a,s.orig[a]);s.complete.call(o)}return!1}return s.duration==1/0?this.now=i:(n=i-this.startTime,this.state=n/s.duration,this.pos=N.easing[s.animatedProperties[this.prop]](this.state,n,0,1,s.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},N.extend(N.fx,{tick:function(){for(var e=N.timers,t=0;t<e.length;++t)e[t]()||e.splice(t--,1);e.length||N.fx.stop()},interval:13,stop:function(){clearInterval(fn),fn=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){N.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&e.elem.style[e.prop]!=null?e.elem.style[e.prop]=(e.prop==="width"||e.prop==="height"?Math.max(0,e.now):e.now)+e.unit:e.elem[e.prop]=e.now}}}),N.expr&&N.expr.filters&&(N.expr.filters.animated=function(e){return N.grep(N.timers,function(t){return e===t.elem}).length});var wn=/^t(?:able|d|h)$/i,xn=/^(?:body|html)$/i;N.fn.offset="getBoundingClientRect"in P.documentElement?function(e){var t,n=this[0];if(e)return this.each(function(t){N.offset.setOffset(this,e,t)});if(!n||!n.ownerDocument)return null;if(n===n.ownerDocument.body)return N.offset.bodyOffset(n);try{t=n.getBoundingClientRect()}catch(i){}var r=n.ownerDocument,o=r.documentElement;if(!t||!N.contains(o,n))return t?{top:t.top,left:t.left}:{top:0,left:0};var s=r.body,a=E(r),l=o.clientTop||s.clientTop||0,c=o.clientLeft||s.clientLeft||0,u=a.pageYOffset||N.support.boxModel&&o.scrollTop||s.scrollTop,d=a.pageXOffset||N.support.boxModel&&o.scrollLeft||s.scrollLeft,h=t.top+u-l,p=t.left+d-c;return{top:h,left:p}}:function(e){var t=this[0];if(e)return this.each(function(t){N.offset.setOffset(this,e,t)});if(!t||!t.ownerDocument)return null;if(t===t.ownerDocument.body)return N.offset.bodyOffset(t);N.offset.initialize();for(var n,i=t.offsetParent,r=t,o=t.ownerDocument,s=o.documentElement,a=o.body,l=o.defaultView,c=l?l.getComputedStyle(t,null):t.currentStyle,u=t.offsetTop,d=t.offsetLeft;(t=t.parentNode)&&t!==a&&t!==s&&(!N.offset.supportsFixedPosition||c.position!=="fixed");)n=l?l.getComputedStyle(t,null):t.currentStyle,u-=t.scrollTop,d-=t.scrollLeft,t===i&&(u+=t.offsetTop,d+=t.offsetLeft,!N.offset.doesNotAddBorder||N.offset.doesAddBorderForTableAndCells&&wn.test(t.nodeName)||(u+=parseFloat(n.borderTopWidth)||0,d+=parseFloat(n.borderLeftWidth)||0),r=i,i=t.offsetParent),N.offset.subtractsBorderForOverflowNotVisible&&n.overflow!=="visible"&&(u+=parseFloat(n.borderTopWidth)||0,d+=parseFloat(n.borderLeftWidth)||0),c=n;return(c.position==="relative"||c.position==="static")&&(u+=a.offsetTop,d+=a.offsetLeft),N.offset.supportsFixedPosition&&c.position==="fixed"&&(u+=Math.max(s.scrollTop,a.scrollTop),d+=Math.max(s.scrollLeft,a.scrollLeft)),{top:u,left:d}},N.offset={initialize:function(){var e,t,n,i=P.body,r=P.createElement("div"),o=parseFloat(N.css(i,"marginTop"))||0,s="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";N.extend(r.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"}),r.innerHTML=s,i.insertBefore(r,i.firstChild),e=r.firstChild,t=e.firstChild,n=e.nextSibling.firstChild.firstChild,this.doesNotAddBorder=t.offsetTop!==5,this.doesAddBorderForTableAndCells=n.offsetTop===5,t.style.position="fixed",t.style.top="20px",this.supportsFixedPosition=t.offsetTop===20||t.offsetTop===15,t.style.position=t.style.top="",e.style.overflow="hidden",e.style.position="relative",this.subtractsBorderForOverflowNotVisible=t.offsetTop===-5,this.doesNotIncludeMarginInBodyOffset=i.offsetTop!==o,i.removeChild(r),N.offset.initialize=N.noop},bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return N.offset.initialize(),N.offset.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(N.css(e,"marginTop"))||0,n+=parseFloat(N.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var i=N.css(e,"position");"static"===i&&(e.style.position="relative");var r,o,s=N(e),a=s.offset(),l=N.css(e,"top"),c=N.css(e,"left"),u=("absolute"===i||"fixed"===i)&&N.inArray("auto",[l,c])>-1,d={},h={};u?(h=s.position(),r=h.top,o=h.left):(r=parseFloat(l)||0,o=parseFloat(c)||0),N.isFunction(t)&&(t=t.call(e,n,a)),t.top!=null&&(d.top=t.top-a.top+r),t.left!=null&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):s.css(d)}},N.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),n=this.offset(),i=xn.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(N.css(e,"marginTop"))||0,n.left-=parseFloat(N.css(e,"marginLeft"))||0,i.top+=parseFloat(N.css(t[0],"borderTopWidth"))||0,i.left+=parseFloat(N.css(t[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||P.body;e&&!xn.test(e.nodeName)&&N.css(e,"position")==="static";)e=e.offsetParent;return e})}}),N.each(["Left","Top"],function(e,n){var i="scroll"+n;N.fn[i]=function(n){var r,o;return n===t?(r=this[0])?(o=E(r),o?"pageXOffset"in o?o[e?"pageYOffset":"pageXOffset"]:N.support.boxModel&&o.document.documentElement[i]||o.document.body[i]:r[i]):null:this.each(function(){o=E(this),o?o.scrollTo(e?N(o).scrollLeft():n,e?n:N(o).scrollTop()):this[i]=n})}}),N.each(["Height","Width"],function(e,n){var i=n.toLowerCase();N.fn["inner"+n]=function(){var e=this[0];return e&&e.style?parseFloat(N.css(e,i,"padding")):null},N.fn["outer"+n]=function(e){var t=this[0];return t&&t.style?parseFloat(N.css(t,i,e?"margin":"border")):null},N.fn[i]=function(e){var r=this[0];if(!r)return null==e?null:this;if(N.isFunction(e))return this.each(function(t){var n=N(this);n[i](e.call(this,t,n[i]()))});if(N.isWindow(r)){var o=r.document.documentElement["client"+n],s=r.document.body;return r.document.compatMode==="CSS1Compat"&&o||s&&s["client"+n]||o}if(r.nodeType===9)return Math.max(r.documentElement["client"+n],r.body["scroll"+n],r.documentElement["scroll"+n],r.body["offset"+n],r.documentElement["offset"+n]);if(e===t){var a=N.css(r,i),l=parseFloat(a);return N.isNaN(l)?a:l}return this.css(i,"string"==typeof e?e:e+"px")}}),e.jQuery=e.$=N})(window),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(n,i){var r=function(){},r={autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:t.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:r,onSearchComplete:r,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",lookupFilter:function(e,t,n){return-1!==e.value.toLowerCase().indexOf(n)},paramName:"query",transformResult:function(t){return"string"==typeof t?e.parseJSON(t):t}};this.element=n,this.el=e(n),this.suggestions=[],this.badQueries=[],this.selectedIndex=-1,this.currentValue=this.element.value,this.intervalId=0,this.cachedResponse=[],this.onChange=this.onChangeInterval=null,this.isLocal=this.ignoreValueChange=!1,this.suggestionsContainer=null,this.options=e.extend({},r,i),this.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},this.initialize(),this.setOptions(i)}var n={extend:function(t,n){return e.extend(t,n)},createNode:function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild}};t.utils=n,e.Autocomplete=t,t.formatResult=function(e,t){var n="("+t.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g"),"\\$1")+")";return e.value.replace(RegExp(n,"gi"),"<strong>$1</strong>")},t.prototype={killerFn:null,initialize:function(){var n,i=this,r="."+i.classes.suggestion,o=i.classes.selected,s=i.options;i.element.setAttribute("autocomplete","off"),i.killerFn=function(t){0===e(t.target).closest("."+i.options.containerClass).length&&(i.killSuggestions(),i.disableKillerFn())},s.width&&"auto"!==s.width||(s.width=i.el.outerWidth()),i.suggestionsContainer=t.utils.createNode('<div class="'+s.containerClass+'" style="position: absolute; display: none;"></div>'),n=e(i.suggestionsContainer),n.appendTo(s.appendTo).width(s.width),n.on("mouseover.autocomplete",r,function(){i.activate(e(this).data("index"))}),n.on("mouseout.autocomplete",function(){i.selectedIndex=-1,n.children("."+o).removeClass(o)}),n.on("click.autocomplete",r,function(){i.select(e(this).data("index"),!1)}),i.fixPosition(),window.opera?i.el.on("keypress.autocomplete",function(e){i.onKeyPress(e)}):i.el.on("keydown.autocomplete",function(e){i.onKeyPress(e)}),i.el.on("keyup.autocomplete",function(e){i.onKeyUp(e)}),i.el.on("blur.autocomplete",function(){i.onBlur()}),i.el.on("focus.autocomplete",function(){i.fixPosition()})},onBlur:function(){this.enableKillerFn()},setOptions:function(t){var i=this.options;n.extend(i,t),(this.isLocal=e.isArray(i.lookup))&&(i.lookup=this.verifySuggestionsFormat(i.lookup)),e(this.suggestionsContainer).css({"max-height":i.maxHeight+"px",width:i.width+"px","z-index":i.zIndex})},clearCache:function(){this.cachedResponse=[],this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue=null,this.suggestions=[]},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},fixPosition:function(){var t;"body"===this.options.appendTo&&(t=this.el.offset(),e(this.suggestionsContainer).css({top:t.top+this.el.outerHeight()+"px",left:t.left+"px"}))},enableKillerFn:function(){e(document).on("click.autocomplete",this.killerFn)},disableKillerFn:function(){e(document).off("click.autocomplete",this.killerFn)},killSuggestions:function(){var e=this;e.stopKillSuggestions(),e.intervalId=window.setInterval(function(){e.hide(),e.stopKillSuggestions()},300)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},onKeyPress:function(e){if(this.disabled||this.visible||40!==e.keyCode||!this.currentValue){if(!this.disabled&&this.visible){switch(e.keyCode){case 27:this.el.val(this.currentValue),this.hide();break;case 9:case 13:if(-1===this.selectedIndex)return this.hide(),void 0;if(this.select(this.selectedIndex,13===e.keyCode),9===e.keyCode&&!1===this.options.tabDisabled)return;break;case 38:this.moveUp();break;case 40:this.moveDown();break;default:return}e.stopImmediatePropagation(),e.preventDefault()}}else this.suggest()},onKeyUp:function(e){var t=this;if(!t.disabled){switch(e.keyCode){case 38:case 40:return}clearInterval(t.onChangeInterval),t.currentValue!==t.el.val()&&(0<t.options.deferRequestBy?t.onChangeInterval=setInterval(function(){t.onValueChange()},t.options.deferRequestBy):t.onValueChange())}},onValueChange:function(){var e;clearInterval(this.onChangeInterval),this.currentValue=this.element.value,e=this.getQuery(this.currentValue),this.selectedIndex=-1,this.ignoreValueChange?this.ignoreValueChange=!1:e.length<this.options.minChars?this.hide():this.getSuggestions(e)},getQuery:function(t){var n=this.options.delimiter;return n?(t=t.split(n),e.trim(t[t.length-1])):e.trim(t)},getSuggestionsLocal:function(t){var n=t.toLowerCase(),i=this.options.lookupFilter;return{suggestions:e.grep(this.options.lookup,function(e){return i(e,t,n)})}},getSuggestions:function(t){var n,i=this,r=i.options,o=r.serviceUrl;(n=i.isLocal?i.getSuggestionsLocal(t):i.cachedResponse[t])&&e.isArray(n.suggestions)?(i.suggestions=n.suggestions,i.suggest()):i.isBadQuery(t)||(r.params[r.paramName]=t,!1!==r.onSearchStart.call(i.element,r.params)&&(e.isFunction(r.serviceUrl)&&(o=r.serviceUrl.call(i.element,t)),e.ajax({url:o,data:r.ignoreParams?null:r.params,type:r.type,dataType:r.dataType}).done(function(e){i.processResponse(e,t),r.onSearchComplete.call(i.element,t)})))},isBadQuery:function(e){for(var t=this.badQueries,n=t.length;n--;)if(0===e.indexOf(t[n]))return!0;return!1},hide:function(){this.visible=!1,this.selectedIndex=-1,e(this.suggestionsContainer).hide()
},suggest:function(){if(0===this.suggestions.length)this.hide();else{var t=this.options.formatResult,n=this.getQuery(this.currentValue),i=this.classes.suggestion,r=this.classes.selected,o=e(this.suggestionsContainer),s="";e.each(this.suggestions,function(e,r){s+='<div class="'+i+'" data-index="'+e+'">'+t(r,n)+"</div>"}),o.html(s).show(),this.visible=!0,this.options.autoSelectFirst&&(this.selectedIndex=0,o.children().first().addClass(r))}},verifySuggestionsFormat:function(t){return t.length&&"string"==typeof t[0]?e.map(t,function(e){return{value:e,data:null}}):t},processResponse:function(e,t){var n=this.options,i=n.transformResult(e,t);i.suggestions=this.verifySuggestionsFormat(i.suggestions),n.noCache||(this.cachedResponse[i[n.paramName]]=i,0===i.suggestions.length&&this.badQueries.push(i[n.paramName])),t===this.getQuery(this.currentValue)&&(this.suggestions=i.suggestions,this.suggest())},activate:function(t){var n=this.classes.selected,i=e(this.suggestionsContainer),r=i.children();return i.children("."+n).removeClass(n),this.selectedIndex=t,-1!==this.selectedIndex&&r.length>this.selectedIndex?(t=r.get(this.selectedIndex),e(t).addClass(n),t):null},select:function(e,t){var n=this.suggestions[e];n&&(this.el.val(n),this.ignoreValueChange=t,this.hide(),this.onSelect(e))},moveUp:function(){-1!==this.selectedIndex&&(0===this.selectedIndex?(e(this.suggestionsContainer).children().first().removeClass(this.classes.selected),this.selectedIndex=-1,this.el.val(this.currentValue)):this.adjustScroll(this.selectedIndex-1))},moveDown:function(){this.selectedIndex!==this.suggestions.length-1&&this.adjustScroll(this.selectedIndex+1)},adjustScroll:function(t){var n,i,r=this.activate(t);r&&(r=r.offsetTop,n=e(this.suggestionsContainer).scrollTop(),i=n+this.options.maxHeight-25,n>r?e(this.suggestionsContainer).scrollTop(r):r>i&&e(this.suggestionsContainer).scrollTop(r-this.options.maxHeight+25),this.el.val(this.getValue(this.suggestions[t].value)))},onSelect:function(t){var n=this.options.onSelect;t=this.suggestions[t],this.el.val(this.getValue(t.value)),e.isFunction(n)&&n.call(this.element,t)},getValue:function(e){var t,n=this.options.delimiter;return n?(t=this.currentValue,n=t.split(n),1===n.length?e:t.substr(0,t.length-n[n.length-1].length)+e):e},dispose:function(){this.el.off(".autocomplete").removeData("autocomplete"),this.disableKillerFn(),e(this.suggestionsContainer).remove()}},e.fn.autocomplete=function(n,i){return 0===arguments.length?this.first().data("autocomplete"):this.each(function(){var r=e(this),o=r.data("autocomplete");"string"==typeof n?o&&"function"==typeof o[n]&&o[n](i):(o&&o.dispose&&o.dispose(),o=new t(this,n),r.data("autocomplete",o))})}}),function(e){var t=!1,n=!1,i=5e3,r=2e3,o=0,s=function(){var e=document.getElementsByTagName("script"),e=e[e.length-1].src.split("?")[0];return 0<e.split("/").length?e.split("/").slice(0,-1).join("/")+"/":""}(),l=["ms","moz","webkit","o"],c=window.requestAnimationFrame||!1,u=window.cancelAnimationFrame||!1;if(!c)for(var d in l){var h=l[d];c||(c=window[h+"RequestAnimationFrame"]),u||(u=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"])}var p=window.MutationObserver||window.WebKitMutationObserver||!1,f={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:!1,cursordragontouch:!1,oneaxismousemode:"auto"},m=!1,g=function(){if(m)return m;var e=document.createElement("DIV"),t={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};t.isopera="opera"in window,t.isopera12=t.isopera&&"getUserMedia"in navigator,t.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),t.isie="all"in document&&"attachEvent"in e&&!t.isopera,t.isieold=t.isie&&!("msInterpolationMode"in e.style),t.isie7=!(!t.isie||t.isieold||"documentMode"in document&&7!=document.documentMode),t.isie8=t.isie&&"documentMode"in document&&8==document.documentMode,t.isie9=t.isie&&"performance"in window&&9<=document.documentMode,t.isie10=t.isie&&"performance"in window&&10<=document.documentMode,t.isie9mobile=/iemobile.9/i.test(navigator.userAgent),t.isie9mobile&&(t.isie9=!1),t.isie7mobile=!t.isie9mobile&&t.isie7&&/iemobile/i.test(navigator.userAgent),t.ismozilla="MozAppearance"in e.style,t.iswebkit="WebkitAppearance"in e.style,t.ischrome="chrome"in window,t.ischrome22=t.ischrome&&t.haspointerlock,t.ischrome26=t.ischrome&&"transition"in e.style,t.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,t.hasmstouch=window.navigator.msPointerEnabled||!1,t.ismac=/^mac$/i.test(navigator.platform),t.isios=t.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),t.isios4=t.isios&&!("seal"in Object),t.isandroid=/android/i.test(navigator.userAgent),t.trstyle=!1,t.hastransform=!1,t.hastranslate3d=!1,t.transitionstyle=!1,t.hastransition=!1,t.transitionend=!1;for(var n=["transform","msTransform","webkitTransform","MozTransform","OTransform"],i=0;i<n.length;i++)if("undefined"!=typeof e.style[n[i]]){t.trstyle=n[i];break}t.hastransform=0!=t.trstyle,t.hastransform&&(e.style[t.trstyle]="translate3d(1px,2px,3px)",t.hastranslate3d=/translate3d/.test(e.style[t.trstyle])),t.transitionstyle=!1,t.prefixstyle="",t.transitionend=!1;for(var n="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" "),r=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),o="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" "),i=0;i<n.length;i++)if(n[i]in e.style){t.transitionstyle=n[i],t.prefixstyle=r[i],t.transitionend=o[i];break}t.ischrome26&&(t.prefixstyle=r[1]),t.hastransition=t.transitionstyle;e:{for(n=["-moz-grab","-webkit-grab","grab"],(t.ischrome&&!t.ischrome22||t.isie)&&(n=[]),i=0;i<n.length;i++)if(r=n[i],e.style.cursor=r,e.style.cursor==r){n=r;break e}n="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}return t.cursorgrabvalue=n,t.hasmousecapture="setCapture"in e,t.hasMutationObserver=!1!==p,m=t},v=function(a,l){function d(){var e=b.win;if("zIndex"in e)return e.zIndex();for(;0<e.length&&9!=e[0].nodeType;){var t=e.css("zIndex");if(!isNaN(t)&&0!=t)return parseInt(t);e=e.parent()}return!1}function h(e,t,n){return t=e.css(t),e=parseFloat(t),isNaN(e)?(e=$[t]||0,n=3==e?n?b.win.outerHeight()-b.win.innerHeight():b.win.outerWidth()-b.win.innerWidth():1,b.isie8&&e&&(e+=1),n?e:0):e}function m(e,t,n,i){b._bind(e,t,function(i){i=i?i:window.event;var r={original:i,target:i.target||i.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==i.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return i.preventDefault?i.preventDefault():i.returnValue=!1,!1},stopImmediatePropagation:function(){i.stopImmediatePropagation?i.stopImmediatePropagation():i.cancelBubble=!0}};return"mousewheel"==t?(r.deltaY=-.025*i.wheelDelta,i.wheelDeltaX&&(r.deltaX=-.025*i.wheelDeltaX)):r.deltaY=i.detail,n.call(e,r)},i)}function v(e,t,n){var i,r;if(0==e.deltaMode?(i=-Math.floor(e.deltaX*(b.opt.mousescrollstep/54)),r=-Math.floor(e.deltaY*(b.opt.mousescrollstep/54))):1==e.deltaMode&&(i=-Math.floor(e.deltaX*b.opt.mousescrollstep),r=-Math.floor(e.deltaY*b.opt.mousescrollstep)),t&&b.opt.oneaxismousemode&&0==i&&r&&(i=r,r=0),i&&(b.scrollmom&&b.scrollmom.stop(),b.lastdeltax+=i,b.debounced("mousewheelx",function(){var e=b.lastdeltax;b.lastdeltax=0,b.rail.drag||b.doScrollLeftBy(e)},120)),r){if(b.opt.nativeparentscrolling&&n&&!b.ispage&&!b.zoomactive)if(0>r){if(b.getScrollTop()>=b.page.maxh)return!0}else if(0>=b.getScrollTop())return!0;b.scrollmom&&b.scrollmom.stop(),b.lastdeltay+=r,b.debounced("mousewheely",function(){var e=b.lastdeltay;b.lastdeltay=0,b.rail.drag||b.doScrollBy(e)},120)}return e.stopImmediatePropagation(),e.preventDefault()}var b=this;if(this.version="3.5.0",this.name="nicescroll",this.me=l,this.opt={doc:e("body"),win:!1},e.extend(this.opt,f),this.opt.snapbackspeed=80,a)for(var w in b.opt)"undefined"!=typeof a[w]&&(b.opt[w]=a[w]);this.iddoc=(this.doc=b.opt.doc)&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/BODY|HTML/.test(b.opt.win?b.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==b.opt.win,this.win=b.opt.win||(this.ispage?e(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?e(window):this.win,this.body=e("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=b.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.observerremover=this.observer=this.scrollmom=this.scrollrunning=this.checkrtlmode=!1;do this.id="ascrail"+r++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=!1,this.cursoractive=!0,this.overflowx=b.opt.overflowx,this.overflowy=b.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=g();var x=e.extend({},this.detected);if(this.ishwscroll=(this.canhwscroll=x.hastransform&&b.opt.hwacceleration)&&b.haswrapper,this.istouchcapable=!1,x.cantouch&&x.ischrome&&!x.isios&&!x.isandroid&&(this.istouchcapable=!0,x.cantouch=!1),x.cantouch&&x.ismozilla&&!x.isios&&!x.isandroid&&(this.istouchcapable=!0,x.cantouch=!1),b.opt.enablemouselockapi||(x.hasmousecapture=!1,x.haspointerlock=!1),this.delayed=function(e,t,n,i){var r=b.delaylist[e],o=(new Date).getTime();return!i&&r&&r.tt?!1:(r&&r.tt&&clearTimeout(r.tt),r&&r.last+n>o&&!r.tt?b.delaylist[e]={last:o+n,tt:setTimeout(function(){b.delaylist[e].tt=0,t.call()},n)}:r&&r.tt||(b.delaylist[e]={last:o,tt:0},setTimeout(function(){t.call()},0)),void 0)},this.debounced=function(e,t,n){var i=b.delaylist[e];(new Date).getTime(),b.delaylist[e]=t,i||setTimeout(function(){var t=b.delaylist[e];b.delaylist[e]=!1,t.call()},n)},this.synched=function(e,t){return b.synclist[e]=t,function(){b.onsync||(c(function(){b.onsync=!1;for(e in b.synclist){var t=b.synclist[e];t&&t.call(b),b.synclist[e]=!1}}),b.onsync=!0)}(),e},this.unsynched=function(e){b.synclist[e]&&(b.synclist[e]=!1)},this.css=function(e,t){for(var n in t)b.saved.css.push([e,n,e.css(n)]),e.css(n,t[n])},this.scrollTop=function(e){return"undefined"==typeof e?b.getScrollTop():b.setScrollTop(e)},this.scrollLeft=function(e){return"undefined"==typeof e?b.getScrollLeft():b.setScrollLeft(e)},BezierClass=function(e,t,n,i,r,o,s){this.st=e,this.ed=t,this.spd=n,this.p1=i||0,this.p2=r||1,this.p3=o||0,this.p4=s||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=1-((new Date).getTime()-this.ts)/this.spd,t=this.B2(e)+this.B3(e)+this.B4(e);return 0>e?this.ed:this.st+Math.round(this.df*t)},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},x.hastranslate3d&&x.isios&&this.doc.css("-webkit-backface-visibility","hidden");var k=function(){var e=b.doc.css(x.trstyle);return e&&"matrix"==e.substr(0,6)?e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1};this.getScrollTop=function(e){if(!e){if(e=k())return 16==e.length?-e[13]:-e[5];if(b.timerscroll&&b.timerscroll.bz)return b.timerscroll.bz.getNow()}return b.doc.translate.y},this.getScrollLeft=function(e){if(!e){if(e=k())return 16==e.length?-e[12]:-e[4];if(b.timerscroll&&b.timerscroll.bh)return b.timerscroll.bh.getNow()}return b.doc.translate.x},this.notifyScrollEvent=document.createEvent?function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scroll",!1,!0,window,1),e.dispatchEvent(t)}:document.fireEvent?function(e){var t=document.createEventObject();e.fireEvent("onscroll"),t.cancelBubble=!0}:function(){},x.hastranslate3d&&b.opt.enabletranslate3d?(this.setScrollTop=function(e,t){b.doc.translate.y=e,b.doc.translate.ty=-1*e+"px",b.doc.css(x.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0px)"),t||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(e,t){b.doc.translate.x=e,b.doc.translate.tx=-1*e+"px",b.doc.css(x.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0px)"),t||b.notifyScrollEvent(b.win[0])}):(this.setScrollTop=function(e,t){b.doc.translate.y=e,b.doc.translate.ty=-1*e+"px",b.doc.css(x.trstyle,"translate("+b.doc.translate.tx+","+b.doc.translate.ty+")"),t||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(e,t){b.doc.translate.x=e,b.doc.translate.tx=-1*e+"px",b.doc.css(x.trstyle,"translate("+b.doc.translate.tx+","+b.doc.translate.ty+")"),t||b.notifyScrollEvent(b.win[0])})}else this.getScrollTop=function(){return b.docscroll.scrollTop()},this.setScrollTop=function(e){return b.docscroll.scrollTop(e)},this.getScrollLeft=function(){return b.docscroll.scrollLeft()},this.setScrollLeft=function(e){return b.docscroll.scrollLeft(e)};this.getTarget=function(e){return e?e.target?e.target:e.srcElement?e.srcElement:!1:!1},this.hasParent=function(e,t){if(!e)return!1;for(var n=e.target||e.srcElement||e||!1;n&&n.id!=t;)n=n.parentNode||!1;return!1!==n};var $={thin:1,medium:3,thick:5};this.getOffset=function(){if(b.isfixed)return{top:parseFloat(b.win.css("top")),left:parseFloat(b.win.css("left"))};if(!b.viewport)return b.win.offset();var e=b.win.offset(),t=b.viewport.offset();return{top:e.top-t.top+b.viewport.scrollTop(),left:e.left-t.left+b.viewport.scrollLeft()}},this.updateScrollBar=function(e){if(b.ishwscroll)b.rail.css({height:b.win.innerHeight()}),b.railh&&b.railh.css({width:b.win.innerWidth()});else{var t=b.getOffset(),n=t.top,i=t.left,n=n+h(b.win,"border-top-width",!0);b.win.outerWidth(),b.win.innerWidth();var i=i+(b.rail.align?b.win.outerWidth()-h(b.win,"border-right-width")-b.rail.width:h(b.win,"border-left-width")),r=b.opt.railoffset;r&&(r.top&&(n+=r.top),b.rail.align&&r.left&&(i+=r.left)),b.locked||b.rail.css({top:n,left:i,height:e?e.h:b.win.innerHeight()}),b.zoom&&b.zoom.css({top:n+1,left:1==b.rail.align?i-20:i+b.rail.width+4}),b.railh&&!b.locked&&(n=t.top,i=t.left,e=b.railh.align?n+h(b.win,"border-top-width",!0)+b.win.innerHeight()-b.railh.height:n+h(b.win,"border-top-width",!0),i+=h(b.win,"border-left-width"),b.railh.css({top:e,left:i,width:b.railh.width}))}},this.doRailClick=function(e,t,n){var i;b.locked||(b.cancelEvent(e),t?(t=n?b.doScrollLeft:b.doScrollTop,i=n?(e.pageX-b.railh.offset().left-b.cursorwidth/2)*b.scrollratio.x:(e.pageY-b.rail.offset().top-b.cursorheight/2)*b.scrollratio.y,t(i)):(t=n?b.doScrollLeftBy:b.doScrollBy,i=n?b.scroll.x:b.scroll.y,e=n?e.pageX-b.railh.offset().left:e.pageY-b.rail.offset().top,n=n?b.view.w:b.view.h,i>=e?t(n):t(-n)))},b.hasanimationframe=c,b.hascancelanimationframe=u,b.hasanimationframe?b.hascancelanimationframe||(u=function(){b.cancelAnimationFrame=!0}):(c=function(e){return setTimeout(e,15-Math.floor(+new Date/1e3)%16)},u=clearInterval),this.init=function(){if(b.saved.css=[],x.isie7mobile||x.isoperamini)return!0;if(x.hasmstouch&&b.css(b.ispage?e("html"):b.win,{"-ms-touch-action":"none"}),b.zindex="auto",b.zindex=b.ispage||"auto"!=b.opt.zindex?b.opt.zindex:d()||"auto",!b.ispage&&"auto"!=b.zindex&&b.zindex>o&&(o=b.zindex),b.isie&&0==b.zindex&&"auto"==b.opt.zindex&&(b.zindex="auto"),!b.ispage||!x.cantouch&&!x.isieold&&!x.isie9mobile){var r=b.docscroll;b.ispage&&(r=b.haswrapper?b.win:b.doc),x.isie9mobile||b.css(r,{"overflow-y":"hidden"}),b.ispage&&x.isie7&&("BODY"==b.doc[0].nodeName?b.css(e("html"),{"overflow-y":"hidden"}):"HTML"==b.doc[0].nodeName&&b.css(e("body"),{"overflow-y":"hidden"})),x.isios&&!b.ispage&&!b.haswrapper&&b.css(e("body"),{"-webkit-overflow-scrolling":"touch"});var a=e(document.createElement("div"));a.css({position:"relative",top:0,"float":"right",width:b.opt.cursorwidth,height:"0px","background-color":b.opt.cursorcolor,border:b.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":b.opt.cursorborderradius,"-moz-border-radius":b.opt.cursorborderradius,"border-radius":b.opt.cursorborderradius}),a.hborder=parseFloat(a.outerHeight()-a.innerHeight()),b.cursor=a;var l=e(document.createElement("div"));l.attr("id",b.id),l.addClass("nicescroll-rails");var c,u,h,f=["left","right"];for(h in f)u=f[h],(c=b.opt.railpadding[u])?l.css("padding-"+u,c+"px"):b.opt.railpadding[u]=0;if(l.append(a),l.width=Math.max(parseFloat(b.opt.cursorwidth),a.outerWidth())+b.opt.railpadding.left+b.opt.railpadding.right,l.css({width:l.width+"px",zIndex:b.zindex,background:b.opt.background,cursor:"default"}),l.visibility=!0,l.scrollable=!0,l.align="left"==b.opt.railalign?0:1,b.rail=l,a=b.rail.drag=!1,b.opt.boxzoom&&!b.ispage&&!x.isieold&&(a=document.createElement("div"),b.bind(a,"click",b.doZoom),b.zoom=e(a),b.zoom.css({cursor:"pointer","z-index":b.zindex,backgroundImage:"url("+s+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),b.opt.dblclickzoom&&b.bind(b.win,"dblclick",b.doZoom),x.cantouch&&b.opt.gesturezoom&&(b.ongesturezoom=function(e){return 1.5<e.scale&&b.doZoomIn(e),.8>e.scale&&b.doZoomOut(e),b.cancelEvent(e)},b.bind(b.win,"gestureend",b.ongesturezoom))),b.railh=!1,b.opt.horizrailenabled){b.css(r,{"overflow-x":"hidden"}),a=e(document.createElement("div")),a.css({position:"relative",top:0,height:b.opt.cursorwidth,width:"0px","background-color":b.opt.cursorcolor,border:b.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":b.opt.cursorborderradius,"-moz-border-radius":b.opt.cursorborderradius,"border-radius":b.opt.cursorborderradius}),a.wborder=parseFloat(a.outerWidth()-a.innerWidth()),b.cursorh=a;var m=e(document.createElement("div"));m.attr("id",b.id+"-hr"),m.addClass("nicescroll-rails"),m.height=Math.max(parseFloat(b.opt.cursorwidth),a.outerHeight()),m.css({height:m.height+"px",zIndex:b.zindex,background:b.opt.background}),m.append(a),m.visibility=!0,m.scrollable=!0,m.align="top"==b.opt.railvalign?0:1,b.railh=m,b.railh.drag=!1}if(b.ispage?(l.css({position:"fixed",top:"0px",height:"100%"}),l.align?l.css({right:"0px"}):l.css({left:"0px"}),b.body.append(l),b.railh&&(m.css({position:"fixed",left:"0px",width:"100%"}),m.align?m.css({bottom:"0px"}):m.css({top:"0px"}),b.body.append(m))):(b.ishwscroll?("static"==b.win.css("position")&&b.css(b.win,{position:"relative"}),r="HTML"==b.win[0].nodeName?b.body:b.win,b.zoom&&(b.zoom.css({position:"absolute",top:1,right:0,"margin-right":l.width+4}),r.append(b.zoom)),l.css({position:"absolute",top:0}),l.align?l.css({right:0}):l.css({left:0}),r.append(l),m&&(m.css({position:"absolute",left:0,bottom:0}),m.align?m.css({bottom:0}):m.css({top:0}),r.append(m))):(b.isfixed="fixed"==b.win.css("position"),r=b.isfixed?"fixed":"absolute",b.isfixed||(b.viewport=b.getViewport(b.win[0])),b.viewport&&(b.body=b.viewport,0==/fixed|relative|absolute/.test(b.viewport.css("position"))&&b.css(b.viewport,{position:"relative"})),l.css({position:r}),b.zoom&&b.zoom.css({position:r}),b.updateScrollBar(),b.body.append(l),b.zoom&&b.body.append(b.zoom),b.railh&&(m.css({position:r}),b.body.append(m))),x.isios&&b.css(b.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),x.isie&&b.opt.disableoutline&&b.win.attr("hideFocus","true"),x.iswebkit&&b.opt.disableoutline&&b.win.css({outline:"none"})),!1===b.opt.autohidemode?(b.autohidedom=!1,b.rail.css({opacity:b.opt.cursoropacitymax}),b.railh&&b.railh.css({opacity:b.opt.cursoropacitymax})):!0===b.opt.autohidemode||"leave"===b.opt.autohidemode?(b.autohidedom=e().add(b.rail),x.isie8&&(b.autohidedom=b.autohidedom.add(b.cursor)),b.railh&&(b.autohidedom=b.autohidedom.add(b.railh)),b.railh&&x.isie8&&(b.autohidedom=b.autohidedom.add(b.cursorh))):"scroll"==b.opt.autohidemode?(b.autohidedom=e().add(b.rail),b.railh&&(b.autohidedom=b.autohidedom.add(b.railh))):"cursor"==b.opt.autohidemode?(b.autohidedom=e().add(b.cursor),b.railh&&(b.autohidedom=b.autohidedom.add(b.cursorh))):"hidden"==b.opt.autohidemode&&(b.autohidedom=!1,b.hide(),b.locked=!1),x.isie9mobile)b.scrollmom=new y(b),b.onmangotouch=function(e){e=b.getScrollTop();var t=b.getScrollLeft();if(e==b.scrollmom.lastscrolly&&t==b.scrollmom.lastscrollx)return!0;var n=e-b.mangotouch.sy,i=t-b.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(n,2)))){var r=0>n?-1:1,o=0>i?-1:1,s=+new Date;b.mangotouch.lazy&&clearTimeout(b.mangotouch.lazy),80<s-b.mangotouch.tm||b.mangotouch.dry!=r||b.mangotouch.drx!=o?(b.scrollmom.stop(),b.scrollmom.reset(t,e),b.mangotouch.sy=e,b.mangotouch.ly=e,b.mangotouch.sx=t,b.mangotouch.lx=t,b.mangotouch.dry=r,b.mangotouch.drx=o,b.mangotouch.tm=s):(b.scrollmom.stop(),b.scrollmom.update(b.mangotouch.sx-i,b.mangotouch.sy-n),b.mangotouch.tm=s,n=Math.max(Math.abs(b.mangotouch.ly-e),Math.abs(b.mangotouch.lx-t)),b.mangotouch.ly=e,b.mangotouch.lx=t,n>2&&(b.mangotouch.lazy=setTimeout(function(){b.mangotouch.lazy=!1,b.mangotouch.dry=0,b.mangotouch.drx=0,b.mangotouch.tm=0,b.scrollmom.doMomentum(30)},100)))}},l=b.getScrollTop(),m=b.getScrollLeft(),b.mangotouch={sy:l,ly:l,dry:0,sx:m,lx:m,drx:0,lazy:!1,tm:0},b.bind(b.docscroll,"scroll",b.onmangotouch);else{if(x.cantouch||b.istouchcapable||b.opt.touchbehavior||x.hasmstouch){b.scrollmom=new y(b),b.ontouchstart=function(t){if(t.pointerType&&2!=t.pointerType)return!1;if(!b.locked){if(x.hasmstouch)for(var n=t.target?t.target:!1;n;){var i=e(n).getNiceScroll();if(0<i.length&&i[0].me==b.me)break;if(0<i.length)return!1;if("DIV"==n.nodeName&&n.id==b.id)break;n=n.parentNode?n.parentNode:!1}if(b.cancelScroll(),(n=b.getTarget(t))&&/INPUT/i.test(n.nodeName)&&/range/i.test(n.type))return b.stopPropagation(t);if(!("clientX"in t)&&"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),b.forcescreen&&(i=t,t={original:t.original?t.original:t},t.clientX=i.screenX,t.clientY=i.screenY),b.rail.drag={x:t.clientX,y:t.clientY,sx:b.scroll.x,sy:b.scroll.y,st:b.getScrollTop(),sl:b.getScrollLeft(),pt:2,dl:!1},b.ispage||!b.opt.directionlockdeadzone)b.rail.drag.dl="f";else{var i=e(window).width(),r=e(window).height(),o=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),s=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),r=Math.max(0,s-r),i=Math.max(0,o-i);b.rail.drag.ck=!b.rail.scrollable&&b.railh.scrollable?r>0?"v":!1:b.rail.scrollable&&!b.railh.scrollable?i>0?"h":!1:!1,b.rail.drag.ck||(b.rail.drag.dl="f")}if(b.opt.touchbehavior&&b.isiframe&&x.isie&&(i=b.win.position(),b.rail.drag.x+=i.left,b.rail.drag.y+=i.top),b.hasmoving=!1,b.lastmouseup=!1,b.scrollmom.reset(t.clientX,t.clientY),!x.cantouch&&!this.istouchcapable&&!x.hasmstouch){if(!n||!/INPUT|SELECT|TEXTAREA/i.test(n.nodeName))return!b.ispage&&x.hasmousecapture&&n.setCapture(),b.opt.touchbehavior?b.cancelEvent(t):b.stopPropagation(t);/SUBMIT|CANCEL|BUTTON/i.test(e(n).attr("type"))&&(pc={tg:n,click:!1},b.preventclick=pc)}}},b.ontouchend=function(e){return e.pointerType&&2!=e.pointerType?!1:b.rail.drag&&2==b.rail.drag.pt&&(b.scrollmom.doMomentum(),b.rail.drag=!1,b.hasmoving&&(b.hasmoving=!1,b.lastmouseup=!0,b.hideCursor(),x.hasmousecapture&&document.releaseCapture(),!x.cantouch))?b.cancelEvent(e):void 0};var g=b.opt.touchbehavior&&b.isiframe&&!x.hasmousecapture;b.ontouchmove=function(t,n){if(t.pointerType&&2!=t.pointerType)return!1;if(b.rail.drag&&2==b.rail.drag.pt){if(x.cantouch&&"undefined"==typeof t.original)return!0;if(b.hasmoving=!0,b.preventclick&&!b.preventclick.click&&(b.preventclick.click=b.preventclick.tg.onclick||!1,b.preventclick.tg.onclick=b.onpreventclick),t=e.extend({original:t},t),"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),b.forcescreen){var i=t;t={original:t.original?t.original:t},t.clientX=i.screenX,t.clientY=i.screenY}if(i=ofy=0,g&&!n){var r=b.win.position(),i=-r.left;ofy=-r.top}var o=t.clientY+ofy,r=o-b.rail.drag.y,s=t.clientX+i,a=s-b.rail.drag.x,l=b.rail.drag.st-r;if(b.ishwscroll&&b.opt.bouncescroll?0>l?l=Math.round(l/2):l>b.page.maxh&&(l=b.page.maxh+Math.round((l-b.page.maxh)/2)):(0>l&&(o=l=0),l>b.page.maxh&&(l=b.page.maxh,o=0)),b.railh&&b.railh.scrollable){var c=b.rail.drag.sl-a;b.ishwscroll&&b.opt.bouncescroll?0>c?c=Math.round(c/2):c>b.page.maxw&&(c=b.page.maxw+Math.round((c-b.page.maxw)/2)):(0>c&&(s=c=0),c>b.page.maxw&&(c=b.page.maxw,s=0))}if(i=!1,b.rail.drag.dl)i=!0,"v"==b.rail.drag.dl?c=b.rail.drag.sl:"h"==b.rail.drag.dl&&(l=b.rail.drag.st);else{var r=Math.abs(r),a=Math.abs(a),u=b.opt.directionlockdeadzone;if("v"==b.rail.drag.ck){if(r>u&&.3*r>=a)return b.rail.drag=!1,!0;a>u&&(b.rail.drag.dl="f",e("body").scrollTop(e("body").scrollTop()))}else if("h"==b.rail.drag.ck){if(a>u&&.3*a>=r)return b.rail.drag=!1,!0;r>u&&(b.rail.drag.dl="f",e("body").scrollLeft(e("body").scrollLeft()))}}if(b.synched("touchmove",function(){b.rail.drag&&2==b.rail.drag.pt&&(b.prepareTransition&&b.prepareTransition(0),b.rail.scrollable&&b.setScrollTop(l),b.scrollmom.update(s,o),b.railh&&b.railh.scrollable?(b.setScrollLeft(c),b.showCursor(l,c)):b.showCursor(l),x.isie10&&document.selection.clear())}),x.ischrome&&b.istouchcapable&&(i=!1),i)return b.cancelEvent(t)}}}if(b.onmousedown=function(e,t){if(!b.rail.drag||1==b.rail.drag.pt){if(b.locked)return b.cancelEvent(e);b.cancelScroll(),b.rail.drag={x:e.clientX,y:e.clientY,sx:b.scroll.x,sy:b.scroll.y,pt:1,hr:!!t};var n=b.getTarget(e);return!b.ispage&&x.hasmousecapture&&n.setCapture(),b.isiframe&&!x.hasmousecapture&&(b.saved.csspointerevents=b.doc.css("pointer-events"),b.css(b.doc,{"pointer-events":"none"})),b.cancelEvent(e)}},b.onmouseup=function(e){return b.rail.drag&&(x.hasmousecapture&&document.releaseCapture(),b.isiframe&&!x.hasmousecapture&&b.doc.css("pointer-events",b.saved.csspointerevents),1==b.rail.drag.pt)?(b.rail.drag=!1,b.cancelEvent(e)):void 0},b.onmousemove=function(e){if(b.rail.drag&&1==b.rail.drag.pt){if(x.ischrome&&0==e.which)return b.onmouseup(e);if(b.cursorfreezed=!0,b.rail.drag.hr){b.scroll.x=b.rail.drag.sx+(e.clientX-b.rail.drag.x),0>b.scroll.x&&(b.scroll.x=0);var t=b.scrollvaluemaxw;b.scroll.x>t&&(b.scroll.x=t)}else b.scroll.y=b.rail.drag.sy+(e.clientY-b.rail.drag.y),0>b.scroll.y&&(b.scroll.y=0),t=b.scrollvaluemax,b.scroll.y>t&&(b.scroll.y=t);return b.synched("mousemove",function(){b.rail.drag&&1==b.rail.drag.pt&&(b.showCursor(),b.rail.drag.hr?b.doScrollLeft(Math.round(b.scroll.x*b.scrollratio.x),b.opt.cursordragspeed):b.doScrollTop(Math.round(b.scroll.y*b.scrollratio.y),b.opt.cursordragspeed))}),b.cancelEvent(e)}},x.cantouch||b.opt.touchbehavior)b.onpreventclick=function(e){return b.preventclick?(b.preventclick.tg.onclick=b.preventclick.click,b.preventclick=!1,b.cancelEvent(e)):void 0},b.bind(b.win,"mousedown",b.ontouchstart),b.onclick=x.isios?!1:function(e){return b.lastmouseup?(b.lastmouseup=!1,b.cancelEvent(e)):!0},b.opt.grabcursorenabled&&x.cursorgrabvalue&&(b.css(b.ispage?b.doc:b.win,{cursor:x.cursorgrabvalue}),b.css(b.rail,{cursor:x.cursorgrabvalue}));else{var v=function(e){if(b.selectiondrag){if(e){var t=b.win.outerHeight();e=e.pageY-b.selectiondrag.top,e>0&&t>e&&(e=0),e>=t&&(e-=t),b.selectiondrag.df=e}0!=b.selectiondrag.df&&(b.doScrollBy(2*-Math.floor(b.selectiondrag.df/6)),b.debounced("doselectionscroll",function(){v()},50))}};b.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},b.onselectionstart=function(){b.ispage||(b.selectiondrag=b.win.offset())},b.onselectionend=function(){b.selectiondrag=!1},b.onselectiondrag=function(e){b.selectiondrag&&b.hasTextSelected()&&b.debounced("selectionscroll",function(){v(e)},250)}}x.hasmstouch&&(b.css(b.rail,{"-ms-touch-action":"none"}),b.css(b.cursor,{"-ms-touch-action":"none"}),b.bind(b.win,"MSPointerDown",b.ontouchstart),b.bind(document,"MSPointerUp",b.ontouchend),b.bind(document,"MSPointerMove",b.ontouchmove),b.bind(b.cursor,"MSGestureHold",function(e){e.preventDefault()}),b.bind(b.cursor,"contextmenu",function(e){e.preventDefault()})),this.istouchcapable&&(b.bind(b.win,"touchstart",b.ontouchstart),b.bind(document,"touchend",b.ontouchend),b.bind(document,"touchcancel",b.ontouchend),b.bind(document,"touchmove",b.ontouchmove)),b.bind(b.cursor,"mousedown",b.onmousedown),b.bind(b.cursor,"mouseup",b.onmouseup),b.railh&&(b.bind(b.cursorh,"mousedown",function(e){b.onmousedown(e,!0)}),b.bind(b.cursorh,"mouseup",function(e){return b.rail.drag&&2==b.rail.drag.pt?void 0:(b.rail.drag=!1,b.hasmoving=!1,b.hideCursor(),x.hasmousecapture&&document.releaseCapture(),b.cancelEvent(e))})),(b.opt.cursordragontouch||!x.cantouch&&!b.opt.touchbehavior)&&(b.rail.css({cursor:"default"}),b.railh&&b.railh.css({cursor:"default"}),b.jqbind(b.rail,"mouseenter",function(){b.canshowonmouseevent&&b.showCursor(),b.rail.active=!0}),b.jqbind(b.rail,"mouseleave",function(){b.rail.active=!1,b.rail.drag||b.hideCursor()}),b.opt.sensitiverail&&(b.bind(b.rail,"click",function(e){b.doRailClick(e,!1,!1)}),b.bind(b.rail,"dblclick",function(e){b.doRailClick(e,!0,!1)}),b.bind(b.cursor,"click",function(e){b.cancelEvent(e)}),b.bind(b.cursor,"dblclick",function(e){b.cancelEvent(e)})),b.railh&&(b.jqbind(b.railh,"mouseenter",function(){b.canshowonmouseevent&&b.showCursor(),b.rail.active=!0}),b.jqbind(b.railh,"mouseleave",function(){b.rail.active=!1,b.rail.drag||b.hideCursor()}),b.opt.sensitiverail&&(b.bind(b.railh,"click",function(e){b.doRailClick(e,!1,!0)}),b.bind(b.railh,"dblclick",function(e){b.doRailClick(e,!0,!0)}),b.bind(b.cursorh,"click",function(e){b.cancelEvent(e)}),b.bind(b.cursorh,"dblclick",function(e){b.cancelEvent(e)})))),x.cantouch||b.opt.touchbehavior?(b.bind(x.hasmousecapture?b.win:document,"mouseup",b.ontouchend),b.bind(document,"mousemove",b.ontouchmove),b.onclick&&b.bind(document,"click",b.onclick),b.opt.cursordragontouch&&(b.bind(b.cursor,"mousedown",b.onmousedown),b.bind(b.cursor,"mousemove",b.onmousemove),b.cursorh&&b.bind(b.cursorh,"mousedown",function(e){b.onmousedown(e,!0)}),b.cursorh&&b.bind(b.cursorh,"mousemove",b.onmousemove))):(b.bind(x.hasmousecapture?b.win:document,"mouseup",b.onmouseup),b.bind(document,"mousemove",b.onmousemove),b.onclick&&b.bind(document,"click",b.onclick),!b.ispage&&b.opt.enablescrollonselection&&(b.bind(b.win[0],"mousedown",b.onselectionstart),b.bind(document,"mouseup",b.onselectionend),b.bind(b.cursor,"mouseup",b.onselectionend),b.cursorh&&b.bind(b.cursorh,"mouseup",b.onselectionend),b.bind(document,"mousemove",b.onselectiondrag)),b.zoom&&(b.jqbind(b.zoom,"mouseenter",function(){b.canshowonmouseevent&&b.showCursor(),b.rail.active=!0}),b.jqbind(b.zoom,"mouseleave",function(){b.rail.active=!1,b.rail.drag||b.hideCursor()}))),b.opt.enablemousewheel&&(b.isiframe||b.bind(x.isie&&b.ispage?document:b.win,"mousewheel",b.onmousewheel),b.bind(b.rail,"mousewheel",b.onmousewheel),b.railh&&b.bind(b.railh,"mousewheel",b.onmousewheelhr)),!b.ispage&&!x.cantouch&&!/HTML|BODY/.test(b.win[0].nodeName)&&(b.win.attr("tabindex")||b.win.attr({tabindex:i++}),b.jqbind(b.win,"focus",function(e){t=b.getTarget(e).id||!0,b.hasfocus=!0,b.canshowonmouseevent&&b.noticeCursor()}),b.jqbind(b.win,"blur",function(){t=!1,b.hasfocus=!1}),b.jqbind(b.win,"mouseenter",function(e){n=b.getTarget(e).id||!0,b.hasmousefocus=!0,b.canshowonmouseevent&&b.noticeCursor()}),b.jqbind(b.win,"mouseleave",function(){n=!1,b.hasmousefocus=!1,b.rail.drag||b.hideCursor()}))}if(b.onkeypress=function(e){if(b.locked&&0==b.page.maxh)return!0;e=e?e:window.e;var i=b.getTarget(e);if(i&&/INPUT|TEXTAREA|SELECT|OPTION/.test(i.nodeName)&&(!i.getAttribute("type")&&!i.type||!/submit|button|cancel/i.tp))return!0;if(b.hasfocus||b.hasmousefocus&&!t||b.ispage&&!t&&!n){if(i=e.keyCode,b.locked&&27!=i)return b.cancelEvent(e);
var r=e.ctrlKey||!1,o=e.shiftKey||!1,s=!1;switch(i){case 38:case 63233:b.doScrollBy(72),s=!0;break;case 40:case 63235:b.doScrollBy(-72),s=!0;break;case 37:case 63232:b.railh&&(r?b.doScrollLeft(0):b.doScrollLeftBy(72),s=!0);break;case 39:case 63234:b.railh&&(r?b.doScrollLeft(b.page.maxw):b.doScrollLeftBy(-72),s=!0);break;case 33:case 63276:b.doScrollBy(b.view.h),s=!0;break;case 34:case 63277:b.doScrollBy(-b.view.h),s=!0;break;case 36:case 63273:b.railh&&r?b.doScrollPos(0,0):b.doScrollTo(0),s=!0;break;case 35:case 63275:b.railh&&r?b.doScrollPos(b.page.maxw,b.page.maxh):b.doScrollTo(b.page.maxh),s=!0;break;case 32:b.opt.spacebarenabled&&(o?b.doScrollBy(b.view.h):b.doScrollBy(-b.view.h),s=!0);break;case 27:b.zoomactive&&(b.doZoom(),s=!0)}if(s)return b.cancelEvent(e)}},b.opt.enablekeyboard&&b.bind(document,x.isopera&&!x.isopera12?"keypress":"keydown",b.onkeypress),b.bind(window,"resize",b.lazyResize),b.bind(window,"orientationchange",b.lazyResize),b.bind(window,"load",b.lazyResize),x.ischrome&&!b.ispage&&!b.haswrapper){var w=b.win.attr("style"),l=parseFloat(b.win.css("width"))+1;b.win.css("width",l),b.synched("chromefix",function(){b.win.attr("style",w)})}b.onAttributeChange=function(){b.lazyResize(250)},!b.ispage&&!b.haswrapper&&(!1!==p?(b.observer=new p(function(e){e.forEach(b.onAttributeChange)}),b.observer.observe(b.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),b.observerremover=new p(function(e){e.forEach(function(e){if(0<e.removedNodes.length)for(var t in e.removedNodes)if(e.removedNodes[t]==b.win[0])return b.remove()})}),b.observerremover.observe(b.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(b.bind(b.win,x.isie&&!x.isie9?"propertychange":"DOMAttrModified",b.onAttributeChange),x.isie9&&b.win[0].attachEvent("onpropertychange",b.onAttributeChange),b.bind(b.win,"DOMNodeRemoved",function(e){e.target==b.win[0]&&b.remove()}))),!b.ispage&&b.opt.boxzoom&&b.bind(window,"resize",b.resizeZoom),b.istextarea&&b.bind(b.win,"mouseup",b.lazyResize),b.checkrtlmode=!0,b.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var k=function(t){b.iframexd=!1;try{var n="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(i){b.iframexd=!0,n=!1}return b.iframexd?("console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0):(b.forcescreen=!0,b.isiframe&&(b.iframe={doc:e(n),html:b.doc.contents().find("html")[0],body:b.doc.contents().find("body")[0]},b.getContentSize=function(){return{w:Math.max(b.iframe.html.scrollWidth,b.iframe.body.scrollWidth),h:Math.max(b.iframe.html.scrollHeight,b.iframe.body.scrollHeight)}},b.docscroll=e(b.iframe.body)),!x.isios&&b.opt.iframeautoresize&&!b.isiframe&&(b.win.scrollTop(0),b.doc.height(""),t=Math.max(n.getElementsByTagName("html")[0].scrollHeight,n.body.scrollHeight),b.doc.height(t)),b.lazyResize(30),x.isie7&&b.css(e(b.iframe.html),{"overflow-y":"hidden"}),b.css(e(b.iframe.body),{"overflow-y":"hidden"}),x.isios&&b.haswrapper&&b.css(e(n.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?b.bind(this.contentWindow,"scroll",b.onscroll):b.bind(n,"scroll",b.onscroll),b.opt.enablemousewheel&&b.bind(n,"mousewheel",b.onmousewheel),b.opt.enablekeyboard&&b.bind(n,x.isopera?"keypress":"keydown",b.onkeypress),(x.cantouch||b.opt.touchbehavior)&&(b.bind(n,"mousedown",b.ontouchstart),b.bind(n,"mousemove",function(e){b.ontouchmove(e,!0)}),b.opt.grabcursorenabled&&x.cursorgrabvalue&&b.css(e(n.body),{cursor:x.cursorgrabvalue})),b.bind(n,"mouseup",b.ontouchend),b.zoom&&(b.opt.dblclickzoom&&b.bind(n,"dblclick",b.doZoom),b.ongesturezoom&&b.bind(n,"gestureend",b.ongesturezoom)),void 0)};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){k.call(b.doc[0],!1)},500),b.bind(this.doc,"load",k)}},this.showCursor=function(e,t){b.cursortimeout&&(clearTimeout(b.cursortimeout),b.cursortimeout=0),b.rail&&(b.autohidedom&&(b.autohidedom.stop().css({opacity:b.opt.cursoropacitymax}),b.cursoractive=!0),b.rail.drag&&1==b.rail.drag.pt||("undefined"!=typeof e&&!1!==e&&(b.scroll.y=Math.round(1*e/b.scrollratio.y)),"undefined"!=typeof t&&(b.scroll.x=Math.round(1*t/b.scrollratio.x))),b.cursor.css({height:b.cursorheight,top:b.scroll.y}),b.cursorh&&(!b.rail.align&&b.rail.visibility?b.cursorh.css({width:b.cursorwidth,left:b.scroll.x+b.rail.width}):b.cursorh.css({width:b.cursorwidth,left:b.scroll.x}),b.cursoractive=!0),b.zoom&&b.zoom.stop().css({opacity:b.opt.cursoropacitymax}))},this.hideCursor=function(e){!b.cursortimeout&&b.rail&&b.autohidedom&&!(b.hasmousefocus&&"leave"==b.opt.autohidemode)&&(b.cursortimeout=setTimeout(function(){b.rail.active&&b.showonmouseevent||(b.autohidedom.stop().animate({opacity:b.opt.cursoropacitymin}),b.zoom&&b.zoom.stop().animate({opacity:b.opt.cursoropacitymin}),b.cursoractive=!1),b.cursortimeout=0},e||b.opt.hidecursordelay))},this.noticeCursor=function(e,t,n){b.showCursor(t,n),b.rail.active||b.hideCursor(e)},this.getContentSize=b.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:b.haswrapper?function(){return{w:b.doc.outerWidth()+parseInt(b.win.css("paddingLeft"))+parseInt(b.win.css("paddingRight")),h:b.doc.outerHeight()+parseInt(b.win.css("paddingTop"))+parseInt(b.win.css("paddingBottom"))}}:function(){return{w:b.docscroll[0].scrollWidth,h:b.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!b.win)return!1;if(!b.haswrapper&&!b.ispage){if("none"==b.win.css("display"))return b.visibility&&b.hideRail().hideRailHr(),!1;!b.hidden&&!b.visibility&&b.showRail().showRailHr()}var n=b.page.maxh,i=b.page.maxw,r=b.view.w;if(b.view={w:b.ispage?b.win.width():parseInt(b.win[0].clientWidth),h:b.ispage?b.win.height():parseInt(b.win[0].clientHeight)},b.page=t?t:b.getContentSize(),b.page.maxh=Math.max(0,b.page.h-b.view.h),b.page.maxw=Math.max(0,b.page.w-b.view.w),b.page.maxh==n&&b.page.maxw==i&&b.view.w==r){if(b.ispage)return b;if(n=b.win.offset(),b.lastposition&&(i=b.lastposition,i.top==n.top&&i.left==n.left))return b;b.lastposition=n}return 0==b.page.maxh?(b.hideRail(),b.scrollvaluemax=0,b.scroll.y=0,b.scrollratio.y=0,b.cursorheight=0,b.setScrollTop(0),b.rail.scrollable=!1):b.rail.scrollable=!0,0==b.page.maxw?(b.hideRailHr(),b.scrollvaluemaxw=0,b.scroll.x=0,b.scrollratio.x=0,b.cursorwidth=0,b.setScrollLeft(0),b.railh.scrollable=!1):b.railh.scrollable=!0,b.locked=0==b.page.maxh&&0==b.page.maxw,b.locked?(b.ispage||b.updateScrollBar(b.view),!1):(b.hidden||b.visibility?!b.hidden&&!b.railh.visibility&&b.showRailHr():b.showRail().showRailHr(),b.istextarea&&b.win.css("resize")&&"none"!=b.win.css("resize")&&(b.view.h-=20),b.cursorheight=Math.min(b.view.h,Math.round(b.view.h*(b.view.h/b.page.h))),b.cursorheight=b.opt.cursorfixedheight?b.opt.cursorfixedheight:Math.max(b.opt.cursorminheight,b.cursorheight),b.cursorwidth=Math.min(b.view.w,Math.round(b.view.w*(b.view.w/b.page.w))),b.cursorwidth=b.opt.cursorfixedheight?b.opt.cursorfixedheight:Math.max(b.opt.cursorminheight,b.cursorwidth),b.scrollvaluemax=b.view.h-b.cursorheight-b.cursor.hborder,b.railh&&(b.railh.width=0<b.page.maxh?b.view.w-b.rail.width:b.view.w,b.scrollvaluemaxw=b.railh.width-b.cursorwidth-b.cursorh.wborder),b.checkrtlmode&&b.railh&&(b.checkrtlmode=!1,b.opt.rtlmode&&0==b.scroll.x&&b.setScrollLeft(b.page.maxw)),b.ispage||b.updateScrollBar(b.view),b.scrollratio={x:b.page.maxw/b.scrollvaluemaxw,y:b.page.maxh/b.scrollvaluemax},b.getScrollTop()>b.page.maxh?b.doScrollTop(b.page.maxh):(b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y)),b.scroll.x=Math.round(b.getScrollLeft()*(1/b.scrollratio.x)),b.cursoractive&&b.noticeCursor()),b.scroll.y&&0==b.getScrollTop()&&b.doScrollTo(Math.floor(b.scroll.y*b.scrollratio.y)),b)},this.resize=b.onResize,this.lazyResize=function(e){return e=isNaN(e)?30:e,b.delayed("resize",b.resize,e),b},this._bind=function(e,t,n,i){b.events.push({e:e,n:t,f:n,b:i,q:!1}),e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},this.jqbind=function(t,n,i){b.events.push({e:t,n:n,f:i,q:!0}),e(t).bind(n,i)},this.bind=function(e,t,n,i){var r="jquery"in e?e[0]:e;"mousewheel"==t?"onwheel"in b.win?b._bind(r,"wheel",n,i||!1):(e="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",m(r,e,n,i||!1),"DOMMouseScroll"==e&&m(r,"MozMousePixelScroll",n,i||!1)):r.addEventListener?(x.cantouch&&/mouseup|mousedown|mousemove/.test(t)&&b._bind(r,"mousedown"==t?"touchstart":"mouseup"==t?"touchend":"touchmove",function(e){if(e.touches){if(2>e.touches.length){var t=e.touches.length?e.touches[0]:e;t.original=e,n.call(this,t)}}else e.changedTouches&&(t=e.changedTouches[0],t.original=e,n.call(this,t))},i||!1),b._bind(r,t,n,i||!1),x.cantouch&&"mouseup"==t&&b._bind(r,"touchcancel",n,i||!1)):b._bind(r,t,function(e){return(e=e||window.event||!1)&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),!1===n.call(r,e)||!1===i?b.cancelEvent(e):!0})},this._unbind=function(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=!1},this.unbindAll=function(){for(var e=0;e<b.events.length;e++){var t=b.events[e];t.q?t.e.unbind(t.n,t.f):b._unbind(t.e,t.n,t.f,t.b)}},this.cancelEvent=function(e){return(e=e.original?e.original:e?e:window.event||!1)?(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1):!1},this.stopPropagation=function(e){return(e=e.original?e.original:e?e:window.event||!1)?e.stopPropagation?e.stopPropagation():(e.cancelBubble&&(e.cancelBubble=!0),!1):!1},this.showRail=function(){return 0==b.page.maxh||!b.ispage&&"none"==b.win.css("display")||(b.visibility=!0,b.rail.visibility=!0,b.rail.css("display","block")),b},this.showRailHr=function(){return b.railh?(0==b.page.maxw||!b.ispage&&"none"==b.win.css("display")||(b.railh.visibility=!0,b.railh.css("display","block")),b):b},this.hideRail=function(){return b.visibility=!1,b.rail.visibility=!1,b.rail.css("display","none"),b},this.hideRailHr=function(){return b.railh?(b.railh.visibility=!1,b.railh.css("display","none"),b):b},this.show=function(){return b.hidden=!1,b.locked=!1,b.showRail().showRailHr()},this.hide=function(){return b.hidden=!0,b.locked=!0,b.hideRail().hideRailHr()},this.toggle=function(){return b.hidden?b.show():b.hide()},this.remove=function(){b.stop(),b.cursortimeout&&clearTimeout(b.cursortimeout),b.doZoomOut(),b.unbindAll(),x.isie9&&b.win[0].detachEvent("onpropertychange",b.onAttributeChange),!1!==b.observer&&b.observer.disconnect(),!1!==b.observerremover&&b.observerremover.disconnect(),b.events=null,b.cursor&&b.cursor.remove(),b.cursorh&&b.cursorh.remove(),b.rail&&b.rail.remove(),b.railh&&b.railh.remove(),b.zoom&&b.zoom.remove();for(var t=0;t<b.saved.css.length;t++){var n=b.saved.css[t];n[0].css(n[1],"undefined"==typeof n[2]?"":n[2])}b.saved=!1,b.me.data("__nicescroll","");var i=e.nicescroll;i.each(function(e){if(this&&this.id===b.id){delete i[e];for(var t=++e;t<i.length;t++,e++)i[e]=i[t];i.length--,i.length&&delete i[i.length]}});for(var r in b)b[r]=null,delete b[r];b=null},this.scrollstart=function(e){return this.onscrollstart=e,b},this.scrollend=function(e){return this.onscrollend=e,b},this.scrollcancel=function(e){return this.onscrollcancel=e,b},this.zoomin=function(e){return this.onzoomin=e,b},this.zoomout=function(e){return this.onzoomout=e,b},this.isScrollable=function(t){if(t=t.target?t.target:t,"OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&!/BODY|HTML/.test(t.nodeName);){var n=e(t),n=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(n))return t.clientHeight!=t.scrollHeight;t=t.parentNode?t.parentNode:!1}return!1},this.getViewport=function(t){for(t=t&&t.parentNode?t.parentNode:!1;t&&1==t.nodeType&&!/BODY|HTML/.test(t.nodeName);){var n=e(t);if(/fixed|absolute/.test(n.css("position")))return n;var i=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(i)&&t.clientHeight!=t.scrollHeight||0<n.getNiceScroll().length)return n;t=t.parentNode?t.parentNode:!1}return!1},this.onmousewheel=function(e){if(b.locked)return b.debounced("checkunlock",b.resize,250),!0;if(b.rail.drag)return b.cancelEvent(e);if("auto"==b.opt.oneaxismousemode&&0!=e.deltaX&&(b.opt.oneaxismousemode=!1),b.opt.oneaxismousemode&&0==e.deltaX&&!b.rail.scrollable)return b.railh&&b.railh.scrollable?b.onmousewheelhr(e):!0;var t=+new Date,n=!1;return b.opt.preservenativescrolling&&b.checkarea+600<t&&(b.nativescrollingarea=b.isScrollable(e),n=!0),b.checkarea=t,b.nativescrollingarea?!0:((e=v(e,!1,n))&&(b.checkarea=0),e)},this.onmousewheelhr=function(e){if(b.locked||!b.railh.scrollable)return!0;if(b.rail.drag)return b.cancelEvent(e);var t=+new Date,n=!1;return b.opt.preservenativescrolling&&b.checkarea+600<t&&(b.nativescrollingarea=b.isScrollable(e),n=!0),b.checkarea=t,b.nativescrollingarea?!0:b.locked?b.cancelEvent(e):v(e,!0,n)},this.stop=function(){return b.cancelScroll(),b.scrollmon&&b.scrollmon.stop(),b.cursorfreezed=!1,b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y)),b.noticeCursor(),b},this.getTransitionSpeed=function(e){var t=Math.round(10*b.opt.scrollspeed);return e=Math.min(t,Math.round(e/20*b.opt.scrollspeed)),e>20?e:0},b.opt.smoothscroll?b.ishwscroll&&x.hastransition&&b.opt.usetransition?(this.prepareTransition=function(e,t){var n=t?e>20?e:0:b.getTransitionSpeed(e),i=n?x.prefixstyle+"transform "+n+"ms ease-out":"";return b.lasttransitionstyle&&b.lasttransitionstyle==i||(b.lasttransitionstyle=i,b.doc.css(x.transitionstyle,i)),n},this.doScrollLeft=function(e,t){var n=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){var i=b.getScrollTop(),r=b.getScrollLeft();return(0>(b.newscrolly-i)*(t-i)||0>(b.newscrollx-r)*(e-r))&&b.cancelScroll(),0==b.opt.bouncescroll&&(0>t?t=0:t>b.page.maxh&&(t=b.page.maxh),0>e?e=0:e>b.page.maxw&&(e=b.page.maxw)),b.scrollrunning&&e==b.newscrollx&&t==b.newscrolly?!1:(b.newscrolly=t,b.newscrollx=e,b.newscrollspeed=n||!1,b.timer?!1:(b.timer=setTimeout(function(){var n,i,r=b.getScrollTop(),o=b.getScrollLeft();n=e-o,i=t-r,n=Math.round(Math.sqrt(Math.pow(n,2)+Math.pow(i,2))),n=b.newscrollspeed&&1<b.newscrollspeed?b.newscrollspeed:b.getTransitionSpeed(n),b.newscrollspeed&&1>=b.newscrollspeed&&(n*=b.newscrollspeed),b.prepareTransition(n,!0),b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm),n>0&&(!b.scrollrunning&&b.onscrollstart&&b.onscrollstart.call(b,{type:"scrollstart",current:{x:o,y:r},request:{x:e,y:t},end:{x:b.newscrollx,y:b.newscrolly},speed:n}),x.transitionend?b.scrollendtrapped||(b.scrollendtrapped=!0,b.bind(b.doc,x.transitionend,b.onScrollEnd,!1)):(b.scrollendtrapped&&clearTimeout(b.scrollendtrapped),b.scrollendtrapped=setTimeout(b.onScrollEnd,n)),b.timerscroll={bz:new BezierClass(r,b.newscrolly,n,0,0,.58,1),bh:new BezierClass(o,b.newscrollx,n,0,0,.58,1)},b.cursorfreezed||(b.timerscroll.tm=setInterval(function(){b.showCursor(b.getScrollTop(),b.getScrollLeft())},60))),b.synched("doScroll-set",function(){b.timer=0,b.scrollendtrapped&&(b.scrollrunning=!0),b.setScrollTop(b.newscrolly),b.setScrollLeft(b.newscrollx),b.scrollendtrapped||b.onScrollEnd()})},50),void 0))},this.cancelScroll=function(){if(!b.scrollendtrapped)return!0;var e=b.getScrollTop(),t=b.getScrollLeft();return b.scrollrunning=!1,x.transitionend||clearTimeout(x.transitionend),b.scrollendtrapped=!1,b._unbind(b.doc,x.transitionend,b.onScrollEnd),b.prepareTransition(0),b.setScrollTop(e),b.railh&&b.setScrollLeft(t),b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm),b.timerscroll=!1,b.cursorfreezed=!1,b.showCursor(e,t),b},this.onScrollEnd=function(){b.scrollendtrapped&&b._unbind(b.doc,x.transitionend,b.onScrollEnd),b.scrollendtrapped=!1,b.prepareTransition(0),b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm),b.timerscroll=!1;var e=b.getScrollTop(),t=b.getScrollLeft();return b.setScrollTop(e),b.railh&&b.setScrollLeft(t),b.noticeCursor(!1,e,t),b.cursorfreezed=!1,0>e?e=0:e>b.page.maxh&&(e=b.page.maxh),0>t?t=0:t>b.page.maxw&&(t=b.page.maxw),e!=b.newscrolly||t!=b.newscrollx?b.doScrollPos(t,e,b.opt.snapbackspeed):(b.onscrollend&&b.scrollrunning&&b.onscrollend.call(b,{type:"scrollend",current:{x:t,y:e},end:{x:b.newscrollx,y:b.newscrolly}}),b.scrollrunning=!1,void 0)}):(this.doScrollLeft=function(e,t){var n=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){function i(){if(b.cancelAnimationFrame)return!0;if(b.scrollrunning=!0,d=1-d)return b.timer=c(i)||1;var e=0,t=sy=b.getScrollTop();if(b.dst.ay){var t=b.bzscroll?b.dst.py+b.bzscroll.getNow()*b.dst.ay:b.newscrolly,n=t-sy;(0>n&&t<b.newscrolly||n>0&&t>b.newscrolly)&&(t=b.newscrolly),b.setScrollTop(t),t==b.newscrolly&&(e=1)}else e=1;var r=sx=b.getScrollLeft();b.dst.ax?(r=b.bzscroll?b.dst.px+b.bzscroll.getNow()*b.dst.ax:b.newscrollx,n=r-sx,(0>n&&r<b.newscrollx||n>0&&r>b.newscrollx)&&(r=b.newscrollx),b.setScrollLeft(r),r==b.newscrollx&&(e+=1)):e+=1,2==e?(b.timer=0,b.cursorfreezed=!1,b.bzscroll=!1,b.scrollrunning=!1,0>t?t=0:t>b.page.maxh&&(t=b.page.maxh),0>r?r=0:r>b.page.maxw&&(r=b.page.maxw),r!=b.newscrollx||t!=b.newscrolly?b.doScrollPos(r,t):b.onscrollend&&b.onscrollend.call(b,{type:"scrollend",current:{x:sx,y:sy},end:{x:b.newscrollx,y:b.newscrolly}})):b.timer=c(i)||1}if(t="undefined"==typeof t||!1===t?b.getScrollTop(!0):t,b.timer&&b.newscrolly==t&&b.newscrollx==e)return!0;b.timer&&u(b.timer),b.timer=0;var r=b.getScrollTop(),o=b.getScrollLeft();(0>(b.newscrolly-r)*(t-r)||0>(b.newscrollx-o)*(e-o))&&b.cancelScroll(),b.newscrolly=t,b.newscrollx=e,b.bouncescroll&&b.rail.visibility||(0>b.newscrolly?b.newscrolly=0:b.newscrolly>b.page.maxh&&(b.newscrolly=b.page.maxh)),b.bouncescroll&&b.railh.visibility||(0>b.newscrollx?b.newscrollx=0:b.newscrollx>b.page.maxw&&(b.newscrollx=b.page.maxw)),b.dst={},b.dst.x=e-o,b.dst.y=t-r,b.dst.px=o,b.dst.py=r;var s=Math.round(Math.sqrt(Math.pow(b.dst.x,2)+Math.pow(b.dst.y,2)));b.dst.ax=b.dst.x/s,b.dst.ay=b.dst.y/s;var a=0,l=s;if(0==b.dst.x?(a=r,l=t,b.dst.ay=1,b.dst.py=0):0==b.dst.y&&(a=o,l=e,b.dst.ax=1,b.dst.px=0),s=b.getTransitionSpeed(s),n&&1>=n&&(s*=n),b.bzscroll=s>0?b.bzscroll?b.bzscroll.update(l,s):new BezierClass(a,l,s,0,1,0,1):!1,!b.timer){(r==b.page.maxh&&t>=b.page.maxh||o==b.page.maxw&&e>=b.page.maxw)&&b.checkContentSize();var d=1;b.cancelAnimationFrame=!1,b.timer=1,b.onscrollstart&&!b.scrollrunning&&b.onscrollstart.call(b,{type:"scrollstart",current:{x:o,y:r},request:{x:e,y:t},end:{x:b.newscrollx,y:b.newscrolly},speed:s}),i(),(r==b.page.maxh&&t>=r||o==b.page.maxw&&e>=o)&&b.checkContentSize(),b.noticeCursor()}},this.cancelScroll=function(){return b.timer&&u(b.timer),b.timer=0,b.bzscroll=!1,b.scrollrunning=!1,b}):(this.doScrollLeft=function(e,t){var n=b.getScrollTop();b.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=b.getScrollLeft();b.doScrollPos(n,e,t)},this.doScrollPos=function(e,t){var n=e>b.page.maxw?b.page.maxw:e;0>n&&(n=0);var i=t>b.page.maxh?b.page.maxh:t;0>i&&(i=0),b.synched("scroll",function(){b.setScrollTop(i),b.setScrollLeft(n)})},this.cancelScroll=function(){}),this.doScrollBy=function(e,t){var n=0,n=t?Math.floor((b.scroll.y-e)*b.scrollratio.y):(b.timer?b.newscrolly:b.getScrollTop(!0))-e;if(b.bouncescroll){var i=Math.round(b.view.h/2);-i>n?n=-i:n>b.page.maxh+i&&(n=b.page.maxh+i)}return b.cursorfreezed=!1,py=b.getScrollTop(!0),0>n&&0>=py?b.noticeCursor():n>b.page.maxh&&py>=b.page.maxh?(b.checkContentSize(),b.noticeCursor()):(b.doScrollTop(n),void 0)},this.doScrollLeftBy=function(e,t){var n=0,n=t?Math.floor((b.scroll.x-e)*b.scrollratio.x):(b.timer?b.newscrollx:b.getScrollLeft(!0))-e;if(b.bouncescroll){var i=Math.round(b.view.w/2);-i>n?n=-i:n>b.page.maxw+i&&(n=b.page.maxw+i)}return b.cursorfreezed=!1,px=b.getScrollLeft(!0),0>n&&0>=px||n>b.page.maxw&&px>=b.page.maxw?b.noticeCursor():(b.doScrollLeft(n),void 0)},this.doScrollTo=function(e,t){t&&Math.round(e*b.scrollratio.y),b.cursorfreezed=!1,b.doScrollTop(e)},this.checkContentSize=function(){var e=b.getContentSize();(e.h!=b.page.h||e.w!=b.page.w)&&b.resize(!1,e)},b.onscroll=function(){b.rail.drag||b.cursorfreezed||b.synched("scroll",function(){b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y)),b.railh&&(b.scroll.x=Math.round(b.getScrollLeft()*(1/b.scrollratio.x))),b.noticeCursor()})},b.bind(b.docscroll,"scroll",b.onscroll),this.doZoomIn=function(t){if(!b.zoomactive){b.zoomactive=!0,b.zoomrestore={style:{}};var n,i="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),r=b.win[0].style;for(n in i){var s=i[n];b.zoomrestore.style[s]="undefined"!=typeof r[s]?r[s]:""}return b.zoomrestore.style.width=b.win.css("width"),b.zoomrestore.style.height=b.win.css("height"),b.zoomrestore.padding={w:b.win.outerWidth()-b.win.width(),h:b.win.outerHeight()-b.win.height()},x.isios4&&(b.zoomrestore.scrollTop=e(window).scrollTop(),e(window).scrollTop(0)),b.win.css({position:x.isios4?"absolute":"fixed",top:0,left:0,"z-index":o+100,margin:"0px"}),i=b.win.css("backgroundColor"),(""==i||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(i))&&b.win.css("backgroundColor","#fff"),b.rail.css({"z-index":o+101}),b.zoom.css({"z-index":o+102}),b.zoom.css("backgroundPosition","0px -18px"),b.resizeZoom(),b.onzoomin&&b.onzoomin.call(b),b.cancelEvent(t)}},this.doZoomOut=function(t){return b.zoomactive?(b.zoomactive=!1,b.win.css("margin",""),b.win.css(b.zoomrestore.style),x.isios4&&e(window).scrollTop(b.zoomrestore.scrollTop),b.rail.css({"z-index":b.zindex}),b.zoom.css({"z-index":b.zindex}),b.zoomrestore=!1,b.zoom.css("backgroundPosition","0px 0px"),b.onResize(),b.onzoomout&&b.onzoomout.call(b),b.cancelEvent(t)):void 0},this.doZoom=function(e){return b.zoomactive?b.doZoomOut(e):b.doZoomIn(e)},this.resizeZoom=function(){if(b.zoomactive){var t=b.getScrollTop();b.win.css({width:e(window).width()-b.zoomrestore.padding.w+"px",height:e(window).height()-b.zoomrestore.padding.h+"px"}),b.onResize(),b.setScrollTop(Math.min(b.page.maxh,t))}},this.init(),e.nicescroll.push(this)},y=function(e){var t=this;this.nc=e,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(e,n){t.stop();var i=t.time();t.steptime=0,t.lasttime=i,t.speedx=0,t.speedy=0,t.lastx=e,t.lasty=n,t.lastscrollx=-1,t.lastscrolly=-1},this.update=function(e,n){var i=t.time();t.steptime=i-t.lasttime,t.lasttime=i;var i=n-t.lasty,r=e-t.lastx,o=t.nc.getScrollTop(),s=t.nc.getScrollLeft(),o=o+i,s=s+r;t.snapx=0>s||s>t.nc.page.maxw,t.snapy=0>o||o>t.nc.page.maxh,t.speedx=r,t.speedy=i,t.lastx=e,t.lasty=n},this.stop=function(){t.nc.unsynched("domomentum2d"),t.timer&&clearTimeout(t.timer),t.timer=0,t.lastscrollx=-1,t.lastscrolly=-1},this.doSnapy=function(e,n){var i=!1;0>n?(n=0,i=!0):n>t.nc.page.maxh&&(n=t.nc.page.maxh,i=!0),0>e?(e=0,i=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,i=!0),i&&t.nc.doScrollPos(e,n,t.nc.opt.snapbackspeed)},this.doMomentum=function(e){var n=t.time(),i=e?n+e:t.lasttime;e=t.nc.getScrollLeft();var r=t.nc.getScrollTop(),o=t.nc.page.maxh,s=t.nc.page.maxw;if(t.speedx=s>0?Math.min(60,t.speedx):0,t.speedy=o>0?Math.min(60,t.speedy):0,i=i&&60>=n-i,(0>r||r>o||0>e||e>s)&&(i=!1),e=t.speedx&&i?t.speedx:!1,t.speedy&&i&&t.speedy||e){var a=Math.max(16,t.steptime);a>50&&(e=a/50,t.speedx*=e,t.speedy*=e,a=50),t.demulxy=0,t.lastscrollx=t.nc.getScrollLeft(),t.chkx=t.lastscrollx,t.lastscrolly=t.nc.getScrollTop(),t.chky=t.lastscrolly;var l=t.lastscrollx,c=t.lastscrolly,u=function(){var e=600<t.time()-n?.04:.02;t.speedx&&(l=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=l,0>l||l>s)&&(e=.1),t.speedy&&(c=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=c,0>c||c>o)&&(e=.1),t.demulxy=Math.min(1,t.demulxy+e),t.nc.synched("domomentum2d",function(){t.speedx&&(t.nc.getScrollLeft()!=t.chkx&&t.stop(),t.chkx=l,t.nc.setScrollLeft(l)),t.speedy&&(t.nc.getScrollTop()!=t.chky&&t.stop(),t.chky=c,t.nc.setScrollTop(c)),t.timer||(t.nc.hideCursor(),t.doSnapy(l,c))}),1>t.demulxy?t.timer=setTimeout(u,a):(t.stop(),t.nc.hideCursor(),t.doSnapy(l,c))};u()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},b=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(t,n){return(n=e.data(t,"__nicescroll")||!1)&&n.ishwscroll?n.getScrollTop():b.call(t)},set:function(t,n){var i=e.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(n)):b.call(t,n),this}},e.fn.scrollTop=function(t){if("undefined"==typeof t){var n=this[0]?e.data(this[0],"__nicescroll")||!1:!1;return n&&n.ishwscroll?n.getScrollTop():b.call(this)}return this.each(function(){var n=e.data(this,"__nicescroll")||!1;n&&n.ishwscroll?n.setScrollTop(parseInt(t)):b.call(e(this),t)})};var w=e.fn.scrollLeft;e.cssHooks.pageXOffset={get:function(t,n){return(n=e.data(t,"__nicescroll")||!1)&&n.ishwscroll?n.getScrollLeft():w.call(t)},set:function(t,n){var i=e.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(n)):w.call(t,n),this}},e.fn.scrollLeft=function(t){if("undefined"==typeof t){var n=this[0]?e.data(this[0],"__nicescroll")||!1:!1;return n&&n.ishwscroll?n.getScrollLeft():w.call(this)}return this.each(function(){var n=e.data(this,"__nicescroll")||!1;n&&n.ishwscroll?n.setScrollLeft(parseInt(t)):w.call(e(this),t)})};var x=function(t){var n=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){for(var t=0,i=0;t<n.length;t++)e.call(n[t],i++);return n},this.push=function(e){n[n.length]=e,n.length++},this.eq=function(e){return n[e]},t)for(a=0;a<t.length;a++){var i=e.data(t[a],"__nicescroll")||!1;i&&(this[this.length]=i,this.length++)}return this};(function(e,t,n){for(var i=0;i<t.length;i++)n(e,t[i])})(x.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(e,t){e[t]=function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}}),e.fn.getNiceScroll=function(t){return"undefined"==typeof t?new x(this):this[t]&&e.data(this[t],"__nicescroll")||!1},e.extend(e.expr[":"],{nicescroll:function(t){return e.data(t,"__nicescroll")?!0:!1}}),e.fn.niceScroll=function(t,n){"undefined"==typeof n&&"object"==typeof t&&!("jquery"in t)&&(n=t,t=!1);var i=new x;"undefined"==typeof n&&(n={}),t&&(n.doc=e(t),n.win=e(this));var r=!("doc"in n);return!r&&!("win"in n)&&(n.win=e(this)),this.each(function(){var t=e(this).data("__nicescroll")||!1;t||(n.doc=r?e(this):n.doc,t=new v(n,e(this)),e(this).data("__nicescroll",t)),i.push(t)}),1==i.length?i[0]:i},window.NiceScroll={getjQuery:function(){return e}},e.nicescroll||(e.nicescroll=new x,e.nicescroll.options=f)}(jQuery),function(e){function t(e){var t={};switch(e){case"fb":t.autohidemode=!1,t.cursorcolor="#7B7C7E",t.railcolor="",t.cursoropacitymax=.8,t.cursorwidth=10,t.cursorborder="1px solid #868688",t.cursorborderradius="10px"}return t}function n(e,t){function n(){t._stylerfbstate=!1,t.rail.css({backgroundColor:""}),t.cursor.stop().animate({width:3},200)}if(t.rail)switch(e){case"fb":t.rail.css({"-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"}),t.cursor.css({width:3});var r=t.ispage?t.rail:t.win;r.hover(function(){t._stylerfbstate=!0,t.rail.css({backgroundColor:"#CED0D3"}),t.cursor.stop().css({width:10})},function(){t.rail.drag||n()}),i(document).mouseup(function(){t._stylerfbstate&&n()})}}var i=e;if(i&&"nicescroll"in i){i.extend(i.nicescroll.options,{styler:!1});var r={niceScroll:i.fn.niceScroll,getNiceScroll:i.fn.getNiceScroll};i.fn.niceScroll=function(e,o){"undefined"!=typeof e&&"object"==typeof e&&(o=e,e=!1);var s=o&&o.styler||i.nicescroll.options.styler||!1;s&&(nw=t(s),i.extend(nw,o),o=nw);var a=r.niceScroll.call(this,e,o);return s&&n(s,a),a.scrollTo=function(e){var t=this.win.position(),n=this.win.find(e).position();if(n){var i=Math.floor(n.top-t.top+this.scrollTop());this.doScrollTop(i)}},a},i.fn.getNiceScroll=function(e){var t=r.getNiceScroll.call(this,e);return t.scrollTo=function(e){this.each(function(){this.scrollTo.call(this,e)})},t}}}(jQuery),function(e){function t(){var e=document.createElement("input"),t="onpaste";return e.setAttribute(t,""),typeof e[t]=="function"?"paste":"input"}var n,i=t()+".mask",r=navigator.userAgent,o=/iphone/i.test(r),s=/android/i.test(r);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var n;if(this.length!==0&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(n=this.createTextRange(),n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,r){var a,l,c,u,d,h;return!t&&this.length>0?(a=e(this[0]),a.data(e.mask.dataName)()):(r=e.extend({placeholder:e.mask.placeholder,completed:null},r),l=e.mask.definitions,c=[],u=h=t.length,d=null,e.each(t.split(""),function(e,t){"?"==t?(h--,u=e):l[t]?(c.push(new RegExp(l[t])),null===d&&(d=c.length-1)):c.push(null)}),this.trigger("unmask").each(function(){function a(e){for(;++e<h&&!c[e];);return e}function p(e){for(;--e>=0&&!c[e];);return e}function f(e,t){var n,i;if(!(0>e)){for(n=e,i=a(t);h>n;n++)if(c[n]){if(!(h>i&&c[n].test(k[i])))break;k[n]=k[i],k[i]=r.placeholder,i=a(i)}b(),x.caret(Math.max(d,e))}}function m(e){var t,n,i,o;for(t=e,n=r.placeholder;h>t;t++)if(c[t]){if(i=a(t),o=k[t],k[t]=n,!(h>i&&c[i].test(o)))break;n=o}}function g(e){var t,n,i,r=e.which;8===r||46===r||o&&127===r?(t=x.caret(),n=t.begin,i=t.end,0===i-n&&(n=46!==r?p(n):i=a(n-1),i=46===r?a(i):i),y(n,i),f(n,i-1),e.preventDefault()):27==r&&(x.val($),x.caret(0,w()),e.preventDefault())}function v(t){var n,i,o,l=t.which,u=x.caret();t.ctrlKey||t.altKey||t.metaKey||32>l||l&&(u.end-u.begin!==0&&(y(u.begin,u.end),f(u.begin,u.end-1)),n=a(u.begin-1),h>n&&(i=String.fromCharCode(l),c[n].test(i)&&(m(n),k[n]=i,b(),o=a(n),s?setTimeout(e.proxy(e.fn.caret,x,o),0):x.caret(o),r.completed&&o>=h&&r.completed.call(x))),t.preventDefault())}function y(e,t){var n;for(n=e;t>n&&h>n;n++)c[n]&&(k[n]=r.placeholder)}function b(){x.val(k.join(""))}function w(e){var t,n,i=x.val(),o=-1;for(t=0,pos=0;h>t;t++)if(c[t]){for(k[t]=r.placeholder;pos++<i.length;)if(n=i.charAt(pos-1),c[t].test(n)){k[t]=n,o=t;break}if(pos>i.length)break}else k[t]===i.charAt(pos)&&t!==u&&(pos++,o=t);return e?b():u>o+1?(x.val(""),y(0,h)):(b(),x.val(x.val().substring(0,o+1))),u?t:d}var x=e(this),k=e.map(t.split(""),function(e){return"?"!=e?l[e]?r.placeholder:e:void 0}),$=x.val();x.data(e.mask.dataName,function(){return e.map(k,function(e,t){return c[t]&&e!=r.placeholder?e:null}).join("")}),x.attr("readonly")||x.one("unmask",function(){x.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){clearTimeout(n);var e;$=x.val(),e=w(),n=setTimeout(function(){b(),e==t.length?x.caret(0,e):x.caret(e)},10)}).bind("blur.mask",function(){w(),x.val()!=$&&x.change()}).bind("keydown.mask",g).bind("keypress.mask",v).bind(i,function(){setTimeout(function(){var e=w(!0);x.caret(e),r.completed&&e==x.val().length&&r.completed.call(x)},0)}),w()}))}})}(jQuery),function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."),void 0;var n=e.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(t.target).hasClass("cancel")&&(n.cancelSubmit=!0),e(t.target).attr("formnovalidate")!==void 0&&(n.cancelSubmit=!0)}),this.submit(function(t){function i(){var i;return n.settings.submitHandler?(n.submitButton&&(i=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&i.remove(),!1):!0}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)
})),n)},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,n=e(this[0].form).validate();return this.each(function(){t=t&&n.element(this)}),t},removeAttrs:function(t){var n={},i=this;return e.each(t.split(/\s/),function(e,t){n[t]=i.attr(t),i.removeAttr(t)}),n},rules:function(t,n){var i=this[0];if(t){var r=e.data(i.form,"validator").settings,o=r.rules,s=e.validator.staticRules(i);switch(t){case"add":e.extend(s,e.validator.normalizeRule(n)),delete s.messages,o[i.name]=s,n.messages&&(r.messages[i.name]=e.extend(r.messages[i.name],n.messages));break;case"remove":if(!n)return delete o[i.name],s;var a={};return e.each(n.split(/\s/),function(e,t){a[t]=s[t],delete s[t]}),a}}var l=e.validator.normalizeRules(e.extend({},e.validator.classRules(i),e.validator.attributeRules(i),e.validator.dataRules(i),e.validator.staticRules(i)),i);if(l.required){var c=l.required;delete l.required,l=e.extend({required:c},l)}return l}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return arguments.length===1?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return n})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(t.which!==9||this.elementValue(e)!=="")&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,i){t.type==="radio"?this.findByName(t.name).addClass(n).removeClass(i):e(t).addClass(n).removeClass(i)},unhighlight:function(t,n,i){t.type==="radio"?this.findByName(t.name).removeClass(n).addClass(i):e(t).removeClass(n).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var n=e.data(this[0].form,"validator"),i="on"+t.type.replace(/^validate/,"");n.settings[i]&&n.settings[i].call(n,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n=this.groups={};e.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,i){n[i]=t})});var i=this.settings.rules;e.each(i,function(t,n){i[t]=e.validator.normalizeRule(n)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",t).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t)),this.lastElement=t,this.prepareElement(t),this.currentElements=e(t);var n=this.check(t)!==!1;return n?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var n in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&e.grep(this.errorList,function(e){return e.element.name===t.name}).length===1&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!t.objectLength(e(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n=e(t).attr("type"),i=e(t).val();return"radio"===n||"checkbox"===n?e("input[name='"+e(t).attr("name")+"']:checked").val():"string"==typeof i?i.replace(/\r/g,""):i},check:function(t){t=this.validationTargetFor(this.clean(t));var n,i=e(t).rules(),r=!1,o=this.elementValue(t);for(var s in i){var a={method:s,parameters:i[s]};try{if(n=e.validator.methods[s].call(this,o,t,a.parameters),"dependency-mismatch"===n){r=!0;continue}if(r=!1,"pending"===n)return this.toHide=this.toHide.not(this.errorsFor(t)),void 0;if(!n)return this.formatAndAdd(t,a),!1}catch(l){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+a.method+"' method.",l),l}}return r?void 0:(this.objectLength(i)&&this.successList.push(t),!0)},customDataMessage:function(t,n){return e(t).data("msg-"+n.toLowerCase())||t.attributes&&e(t).attr("data-msg-"+n.toLowerCase())},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==void 0)return arguments[e];return void 0},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var i=this.defaultMessage(t,n.method),r=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,n.parameters,t):r.test(i)&&(i=e.validator.format(i.replace(r,"{$1}"),n.parameters)),this.errorList.push({message:i,element:t}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t;for(e=0;this.errorList[e];e++){var n=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var i=this.errorsFor(t);i.length?(i.removeClass(this.settings.validClass).addClass(this.settings.errorClass),i.html(n)):(i=e("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(i=i.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(i).length||(this.settings.errorPlacement?this.settings.errorPlacement(i,e(t)):i.insertAfter(t))),!n&&this.settings.success&&(i.text(""),typeof this.settings.success=="string"?i.addClass(this.settings.success):this.settings.success(i,t)),this.toShow=this.toShow.add(i)},errorsFor:function(t){var n=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")===n})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n&&this.pendingRequest===0&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&this.pendingRequest===0&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},i=e(t).attr("class");return i&&e.each(i.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},attributeRules:function(t){var n={},i=e(t),r=i[0].getAttribute("type");for(var o in e.validator.methods){var s;"required"===o?(s=i.get(0).getAttribute(o),""===s&&(s=!0),s=!!s):s=i.attr(o),/min|max/.test(o)&&(null===r||/number|range|text/.test(r))&&(s=Number(s)),s?n[o]=s:r===o&&"range"!==r&&(n[o]=!0)}return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var n,i,r={},o=e(t);for(n in e.validator.methods)i=o.data("rule-"+n.toLowerCase()),void 0!==i&&(r[n]=i);return r},staticRules:function(t){var n={},i=e.data(t.form,"validator");return i.settings.rules&&(n=e.validator.normalizeRule(i.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(i,r){if(r===!1)return delete t[i],void 0;if(r.param||r.depends){var o=!0;switch(typeof r.depends){case"string":o=!!e(r.depends,n.form).length;break;case"function":o=r.depends.call(n,n)}o?t[i]=r.param!==void 0?r.param:!0:delete t[i]}}),e.each(t,function(i,r){t[i]=e.isFunction(r)?r(n):r}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:typeof t[this]=="string"&&(n=t[this].split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,i){e.validator.methods[t]=n,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,i){if(!this.depend(i,n))return"dependency-mismatch";if(n.nodeName.toLowerCase()==="select"){var r=e(n).val();return r&&r.length>0}return this.checkable(n)?this.getLength(t,n)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n=0,i=0,r=!1;e=e.replace(/\D/g,"");for(var o=e.length-1;o>=0;o--){var s=e.charAt(o);i=parseInt(s,10),r&&(i*=2)>9&&(i-=9),n+=i,r=!r}return 0===n%10},minlength:function(t,n,i){var r=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||r>=i},maxlength:function(t,n,i){var r=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i>=r},rangelength:function(t,n,i){var r=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||r>=i[0]&&r<=i[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||n>=e},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},equalTo:function(t,n,i){var r=e(i);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()}),t===r.val()},remote:function(t,n,i){if(this.optional(n))return"dependency-mismatch";var r=this.previousValue(n);if(this.settings.messages[n.name]||(this.settings.messages[n.name]={}),r.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=r.message,i="string"==typeof i&&{url:i}||i,r.old===t)return r.valid;r.old=t;var o=this;this.startRequest(n);var s={};return s[n.name]=t,e.ajax(e.extend(!0,{url:i,mode:"abort",port:"validate"+n.name,dataType:"json",data:s,success:function(i){o.settings.messages[n.name].remote=r.originalMessage;var s=i===!0||"true"===i;if(s){var a=o.formSubmitted;o.prepareElement(n),o.formSubmitted=a,o.successList.push(n),delete o.invalid[n.name],o.showErrors()}else{var l={},c=i||o.defaultMessage(n,"remote");l[n.name]=r.message=e.isFunction(c)?c(t):c,o.invalid[n.name]=!0,o.showErrors(l)}r.valid=s,o.stopRequest(n,s)}},i)),"pending"}}}),e.format=e.validator.format}(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,n,i){var r=e.port;e.mode==="abort"&&(t[r]&&t[r].abort(),t[r]=i)});else{var n=e.ajax;e.ajax=function(i){var r=("mode"in i?i:e.ajaxSettings).mode,o=("port"in i?i:e.ajaxSettings).port;return"abort"===r?(t[o]&&t[o].abort(),t[o]=n.apply(this,arguments),t[o]):n.apply(this,arguments)}}}(jQuery),function(e){e.extend(e.fn,{validateDelegate:function(t,n,i){return this.bind(n,function(n){var r=e(n.target);return r.is(t)?i.apply(r,arguments):void 0})}})}(jQuery),function(e,t,n){"use strict";function i(e){return e&&typeof e.length=="number"?typeof e.hasOwnProperty!="function"&&typeof e.constructor!="function"?!0:e instanceof rt||Un&&e instanceof Un||Jn.call(e)!=="[object Object]"||typeof e.callee=="function":!1}function r(e,t,n){var o;if(e)if(k(e))for(o in e)"prototype"!=o&&"length"!=o&&"name"!=o&&e.hasOwnProperty(o)&&t.call(n,e[o],o);else if(e.forEach&&e.forEach!==r)e.forEach(t,n);else if(i(e))for(o=0;o<e.length;o++)t.call(n,e[o],o);else for(o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o);return e}function o(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function s(e,t,n){for(var i=o(e),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function a(e){return function(t,n){e(n,t)}}function l(){for(var e,t=ti.length;t;){if(t--,e=ti[t].charCodeAt(0),57==e)return ti[t]="A",ti.join("");if(90!=e)return ti[t]=String.fromCharCode(e+1),ti.join("");ti[t]="0"}return ti.unshift("0"),ti.join("")}function c(e){return r(arguments,function(t){t!==e&&r(t,function(t,n){e[n]=t})}),e}function u(e){return parseInt(e,10)}function d(e,t){return c(new(c(function(){},{prototype:e})),t)}function h(){}function p(e){return e}function f(e){return function(){return e}}function m(e){return"undefined"==typeof e}function g(e){return"undefined"!=typeof e}function v(e){return null!=e&&"object"==typeof e}function y(e){return"string"==typeof e}function b(e){return"number"==typeof e}function w(e){return Jn.apply(e)=="[object Date]"}function x(e){return Jn.apply(e)=="[object Array]"}function k(e){return"function"==typeof e}function $(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function C(e){return e&&e.$evalAsync&&e.$watch}function _(e){return Jn.apply(e)==="[object File]"}function T(e){return y(e)?e.replace(/^\s*/,"").replace(/\s*$/,""):e}function S(e){return e&&(e.nodeName||e.bind&&e.find)}function D(e,t,n){var i=[];return r(e,function(e,r,o){i.push(t.call(n,e,r,o))}),i}function M(e,t){return A(e,t)!=-1}function A(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function L(e,t){var n=A(e,t);return n>=0&&e.splice(n,1),t}function E(e,t){if($(e)||C(e))throw Error("Can't copy Window or Scope");if(t){if(e===t)throw Error("Can't copy equivalent objects or arrays");if(x(e)){t.length=0;for(var n=0;n<e.length;n++)t.push(E(e[n]))}else{r(t,function(e,n){delete t[n]});for(var i in e)t[i]=E(e[i])}}else t=e,e&&(x(e)?t=E(e,[]):w(e)?t=new Date(e.getTime()):v(e)&&(t=E(e,{})));return t}function P(e,t){t=t||{};for(var n in e)e.hasOwnProperty(n)&&n.substr(0,2)!=="$$"&&(t[n]=e[n]);return t}function F(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var i,r,o,s=typeof e,a=typeof t;if(s==a&&"object"==s){if(!x(e)){if(w(e))return w(t)&&e.getTime()==t.getTime();if(C(e)||C(t)||$(e)||$(t))return!1;o={};for(r in e)if(r.charAt(0)!=="$"&&!k(e[r])){if(!F(e[r],t[r]))return!1;o[r]=!0}for(r in t)if(!o[r]&&r.charAt(0)!=="$"&&t[r]!==n&&!k(t[r]))return!1;return!0}if((i=e.length)==t.length){for(r=0;i>r;r++)if(!F(e[r],t[r]))return!1;return!0}}return!1}function O(e,t,n){return e.concat(Zn.call(t,n))}function N(e,t){return Zn.call(e,t||0)}function I(e,t){var n=arguments.length>2?N(arguments,2):[];return!k(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(Zn.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function z(e,i){var r=i;return/^\$+/.test(e)?r=n:$(i)?r="$WINDOW":i&&t===i?r="$DOCUMENT":C(i)&&(r="$SCOPE"),r}function B(e,t){return JSON.stringify(e,z,t?"  ":null)}function R(e){return y(e)?JSON.parse(e):e}function H(e){if(e&&e.length!==0){var t=Yn(""+e);e=!("f"==t||"0"==t||"false"==t||"no"==t||"n"==t||"[]"==t)}else e=!1;return e}function Y(e){e=qn(e).clone();try{e.html("")}catch(t){}var n=3,i=qn("<div>").append(e).html();try{return e[0].nodeType===n?Yn(i):i.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Yn(t)})}catch(t){return Yn(i)}}function j(e){var t,n,i={};return r((e||"").split("&"),function(e){e&&(t=e.split("="),n=decodeURIComponent(t[0]),i[n]=g(t[1])?decodeURIComponent(t[1]):!0)}),i}function W(e){var t=[];return r(e,function(e,n){t.push(q(n,!0)+(e===!0?"":"="+q(e,!0)))}),t.length?t.join("&"):""}function V(e){return q(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function q(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function U(e,n){function i(e){e&&a.push(e)}var o,s,a=[e],l=["ng:app","ng-app","x-ng-app","data-ng-app"],c=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;r(l,function(n){l[n]=!0,i(t.getElementById(n)),n=n.replace(":","\\:"),e.querySelectorAll&&(r(e.querySelectorAll("."+n),i),r(e.querySelectorAll("."+n+"\\:"),i),r(e.querySelectorAll("["+n+"]"),i))}),r(a,function(e){if(!o){var t=" "+e.className+" ",n=c.exec(t);n?(o=e,s=(n[2]||"").replace(/\s+/g,",")):r(e.attributes,function(t){!o&&l[t.name]&&(o=e,s=t.value)})}}),o&&n(o,s?[s]:[])}function X(t,n){var i=function(){t=qn(t),n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),n.unshift("ng");var e=$t(n);return e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),e},o=/^NG_DEFER_BOOTSTRAP!/;return e&&!o.test(e.name)?i():(e.name=e.name.replace(o,""),ei.resumeBootstrap=function(e){r(e,function(e){n.push(e)}),i()},void 0)}function G(e,t){return t=t||"_",e.replace(ni,function(e,n){return(n?t:"")+e.toLowerCase()})}function K(){Un=e.jQuery,Un?(qn=Un,c(Un.fn,{scope:di.scope,controller:di.controller,injector:di.injector,inheritedData:di.inheritedData}),it("remove",!0),it("empty"),it("html")):qn=rt,ei.element=qn}function Z(e,t,n){if(!e)throw new Error("Argument '"+(t||"?")+"' is "+(n||"required"));return e}function Q(e,t,n){return n&&x(e)&&(e=e[e.length-1]),Z(k(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function J(e){function t(e,t,n){return e[t]||(e[t]=n())}return t(t(e,"angular",Object),"module",function(){var e={};return function(n,i,r){return i&&e.hasOwnProperty(n)&&(e[n]=null),t(e,n,function(){function e(e,n,i){return function(){return t[i||"push"]([e,n,arguments]),a}}if(!i)throw Error("No module: "+n);var t=[],o=[],s=e("$injector","invoke"),a={_invokeQueue:t,_runBlocks:o,requires:i,name:n,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:s,run:function(e){return o.push(e),this}};return r&&s(r),a})}})}function et(t){c(t,{bootstrap:X,copy:E,extend:c,equals:F,element:qn,forEach:r,injector:$t,noop:h,bind:I,toJson:B,fromJson:R,identity:p,isUndefined:m,isDefined:g,isString:y,isFunction:k,isObject:v,isNumber:b,isElement:S,isArray:x,version:ii,isDate:w,lowercase:Yn,uppercase:jn,callbacks:{counter:0}}),Xn=J(e);try{Xn("ngLocale")}catch(n){Xn("ngLocale",[]).provider("$locale",gn)}Xn("ng",["ngLocale"],["$provide",function(e){e.provider("$compile",Mt).directive({a:Fi,input:Wi,textarea:Wi,form:zi,script:Tr,select:Dr,style:Ar,option:Mr,ngBind:nr,ngBindHtmlUnsafe:rr,ngBindTemplate:ir,ngClass:or,ngClassEven:ar,ngClassOdd:sr,ngCsp:ur,ngCloak:lr,ngController:cr,ngForm:Bi,ngHide:br,ngInclude:pr,ngInit:fr,ngNonBindable:mr,ngPluralize:gr,ngRepeat:vr,ngShow:yr,ngSubmit:hr,ngStyle:wr,ngSwitch:xr,ngSwitchWhen:kr,ngSwitchDefault:$r,ngOptions:Sr,ngView:_r,ngTransclude:Cr,ngModel:Ki,ngList:Ji,ngChange:Zi,required:Qi,ngRequired:Qi,ngValue:tr}).directive(Oi).directive(dr),e.provider({$anchorScroll:Ct,$browser:Tt,$cacheFactory:St,$controller:Lt,$document:Et,$exceptionHandler:Pt,$filter:yn,$interpolate:Ft,$http:pn,$httpBackend:fn,$location:qt,$log:Ut,$parse:en,$route:rn,$routeParams:on,$rootScope:sn,$q:tn,$sniffer:an,$templateCache:Dt,$timeout:vn,$window:ln})}])}function tt(){return++si}function nt(e){return e.replace(ci,function(e,t,n,i){return i?n.toUpperCase():n}).replace(ui,"Moz$1")}function it(e,t){function n(){for(var e,n,r,o,s,a,l,c=[this],u=t;c.length;)for(e=c.shift(),n=0,r=e.length;r>n;n++)for(o=qn(e[n]),u?o.triggerHandler("$destroy"):u=!u,s=0,a=(l=o.children()).length;a>s;s++)c.push(Un(l[s]));return i.apply(this,arguments)}var i=Un.fn[e];i=i.$original||i,n.$original=i,Un.fn[e]=n}function rt(e){if(e instanceof rt)return e;if(!(this instanceof rt)){if(y(e)&&e.charAt(0)!="<")throw Error("selectors not implemented");return new rt(e)}if(y(e)){var n=t.createElement("div");n.innerHTML="<div>&#160;</div>"+e,n.removeChild(n.firstChild),ft(this,n.childNodes),this.remove()}else ft(this,e)}function ot(e){return e.cloneNode(!0)}function st(e){lt(e);for(var t=0,n=e.childNodes||[];t<n.length;t++)st(n[t])}function at(e,t,n){var i=ct(e,"events"),o=ct(e,"handle");o&&(m(t)?r(i,function(t,n){li(e,n,t),delete i[n]}):m(n)?(li(e,t,i[t]),delete i[t]):L(i[t],n))}function lt(e){var t=e[oi],i=ri[t];i&&(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),at(e)),delete ri[t],e[oi]=n)}function ct(e,t,n){var i=e[oi],r=ri[i||-1];return g(n)?(r||(e[oi]=i=tt(),r=ri[i]={}),r[t]=n,void 0):r&&r[t]}function ut(e,t,n){var i=ct(e,"data"),r=g(n),o=!r&&g(t),s=o&&!v(t);if(i||s||ct(e,"data",i={}),r)i[t]=n;else{if(!o)return i;if(s)return i&&i[t];c(i,t)}}function dt(e,t){return(" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function ht(e,t){t&&r(t.split(" "),function(t){e.className=T((" "+e.className+" ").replace(/[\n\t]/g," ").replace(" "+T(t)+" "," "))})}function pt(e,t){t&&r(t.split(" "),function(t){dt(e,t)||(e.className=T(e.className+" "+T(t)))})}function ft(e,t){if(t){t=t.nodeName||!g(t.length)||$(t)?[t]:t;for(var n=0;n<t.length;n++)e.push(t[n])}}function mt(e,t){return gt(e,"$"+(t||"ngController")+"Controller")}function gt(e,t,n){for(e=qn(e),e[0].nodeType==9&&(e=e.find("html"));e.length;){if(n=e.data(t))return n;e=e.parent()}}function vt(e,t){var n=hi[t.toLowerCase()];return n&&pi[e.nodeName]&&n}function yt(e,n){var i=function(i,o){if(i.preventDefault||(i.preventDefault=function(){i.returnValue=!1}),i.stopPropagation||(i.stopPropagation=function(){i.cancelBubble=!0}),i.target||(i.target=i.srcElement||t),m(i.defaultPrevented)){var s=i.preventDefault;i.preventDefault=function(){i.defaultPrevented=!0,s.call(i)},i.defaultPrevented=!1}i.isDefaultPrevented=function(){return i.defaultPrevented},r(n[o||i.type],function(t){t.call(e,i)}),8>=Kn?(i.preventDefault=null,i.stopPropagation=null,i.isDefaultPrevented=null):(delete i.preventDefault,delete i.stopPropagation,delete i.isDefaultPrevented)};return i.elem=e,i}function bt(e){var t,i=typeof e;return"object"==i&&null!==e?typeof(t=e.$$hashKey)=="function"?t=e.$$hashKey():t===n&&(t=e.$$hashKey=l()):t=e,i+":"+t}function wt(e){r(e,this.put,this)}function xt(){}function kt(e){var t,n,i,o;return"function"==typeof e?(t=e.$inject)||(t=[],n=e.toString().replace(vi,""),i=n.match(fi),r(i[1].split(mi),function(e){e.replace(gi,function(e,n,i){t.push(i)})}),e.$inject=t):x(e)?(o=e.length-1,Q(e[o],"fn"),t=e.slice(0,o)):Q(e,"fn",!0),t}function $t(e){function t(e){return function(t,n){return v(t)?(r(t,a(e)),void 0):e(t,n)}}function n(e,t){if((k(t)||x(t))&&(t=$.instantiate(t)),!t.$get)throw Error("Provider "+e+" must define $get factory method.");return w[e+m]=t}function i(e,t){return n(e,{$get:t})}function o(e,t){return i(e,["$injector",function(e){return e.instantiate(t)}])}function s(e,t){return i(e,f(t))}function l(e,t){w[e]=t,C[e]=t}function c(e,t){var n=$.get(e+m),i=n.$get;n.$get=function(){var e=_.invoke(i,n);return _.invoke(t,null,{$delegate:e})}}function u(e){var t=[];return r(e,function(e){if(!b.get(e))if(b.put(e,!0),y(e)){var n=Xn(e);t=t.concat(u(n.requires)).concat(n._runBlocks);try{for(var i=n._invokeQueue,r=0,o=i.length;o>r;r++){var s=i[r],a=s[0]=="$injector"?$:$.get(s[0]);a[s[1]].apply(a,s[2])}}catch(l){throw l.message&&(l.message+=" from "+e),l}}else if(k(e))try{t.push($.invoke(e))}catch(l){throw l.message&&(l.message+=" from "+e),l}else if(x(e))try{t.push($.invoke(e))}catch(l){throw l.message&&(l.message+=" from "+String(e[e.length-1])),l}else Q(e,"module")}),t}function d(e,t){function n(n){if("string"!=typeof n)throw Error("Service name expected");if(e.hasOwnProperty(n)){if(e[n]===p)throw Error("Circular dependency: "+g.join(" <- "));return e[n]}try{return g.unshift(n),e[n]=p,e[n]=t(n)}finally{g.shift()}}function i(e,t,i){var r,o,s,a=[],l=kt(e);for(o=0,r=l.length;r>o;o++)s=l[o],a.push(i&&i.hasOwnProperty(s)?i[s]:n(s));switch(e.$inject||(e=e[r]),t?-1:a.length){case 0:return e();case 1:return e(a[0]);case 2:return e(a[0],a[1]);case 3:return e(a[0],a[1],a[2]);case 4:return e(a[0],a[1],a[2],a[3]);case 5:return e(a[0],a[1],a[2],a[3],a[4]);case 6:return e(a[0],a[1],a[2],a[3],a[4],a[5]);
case 7:return e(a[0],a[1],a[2],a[3],a[4],a[5],a[6]);case 8:return e(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7]);case 9:return e(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]);case 10:return e(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9]);default:return e.apply(t,a)}}function r(e,t){var n,r,o=function(){};return o.prototype=(x(e)?e[e.length-1]:e).prototype,n=new o,r=i(e,n,t),v(r)?r:n}return{invoke:i,instantiate:r,get:n,annotate:kt}}var p={},m="Provider",g=[],b=new wt,w={$provide:{provider:t(n),factory:t(i),service:t(o),value:t(s),constant:t(l),decorator:c}},$=d(w,function(){throw Error("Unknown provider: "+g.join(" <- "))}),C={},_=C.$injector=d(C,function(e){var t=$.get(e+m);return _.invoke(t.$get,t)});return r(u(e),function(e){_.invoke(e||h)}),_}function Ct(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function o(e){var t=null;return r(e,function(e){t||Yn(e.nodeName)!=="a"||(t=e)}),t}function s(){var e,i=n.hash();i?(e=a.getElementById(i))?e.scrollIntoView():(e=o(a.getElementsByName(i)))?e.scrollIntoView():"top"===i&&t.scrollTo(0,0):t.scrollTo(0,0)}var a=t.document;return e&&i.$watch(function(){return n.hash()},function(){i.$evalAsync(s)}),s}]}function _t(e,t,i,o){function s(e){try{e.apply(null,N(arguments,1))}finally{if(b--,0===b)for(;w.length;)try{w.pop()()}catch(t){i.error(t)}}}function a(e,t){(function n(){r(k,function(e){e()}),x=t(n,e)})()}function l(){$!=c.url()&&($=c.url(),r(_,function(e){e(c.url())}))}var c=this,u=t[0],d=e.location,p=e.history,f=e.setTimeout,g=e.clearTimeout,v={};c.isMock=!1;var b=0,w=[];c.$$completeOutstandingRequest=s,c.$$incOutstandingRequestCount=function(){b++},c.notifyWhenNoOutstandingRequests=function(e){r(k,function(e){e()}),0===b?e():w.push(e)};var x,k=[];c.addPollFn=function(e){return m(x)&&a(100,f),k.push(e),e};var $=d.href,C=t.find("base");c.url=function(e,t){if(e){if($==e)return;return $=e,o.history?t?p.replaceState(null,"",e):(p.pushState(null,"",e),C.attr("href",C.attr("href"))):t?d.replace(e):d.href=e,c}return d.href.replace(/%27/g,"'")};var _=[],T=!1;c.onUrlChange=function(t){return T||(o.history&&qn(e).bind("popstate",l),o.hashchange?qn(e).bind("hashchange",l):c.addPollFn(l),T=!0),_.push(t),t},c.baseHref=function(){var e=C.attr("href");return e?e.replace(/^https?\:\/\/[^\/]*/,""):""};var S={},D="",M=c.baseHref();c.cookies=function(e,t){var r,o,s,a,l;if(!e){if(u.cookie!==D)for(D=u.cookie,o=D.split("; "),S={},a=0;a<o.length;a++)s=o[a],l=s.indexOf("="),l>0&&(S[unescape(s.substring(0,l))]=unescape(s.substring(l+1)));return S}t===n?u.cookie=escape(e)+"=;path="+M+";expires=Thu, 01 Jan 1970 00:00:00 GMT":y(t)&&(r=(u.cookie=escape(e)+"="+escape(t)+";path="+M).length+1,r>4096&&i.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+r+" > 4096 bytes)!"))},c.defer=function(e,t){var n;return b++,n=f(function(){delete v[n],s(e)},t||0),v[n]=!0,n},c.defer.cancel=function(e){return v[e]?(delete v[e],g(e),s(h),!0):!1}}function Tt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new _t(e,i,t,n)}]}function St(){this.$get=function(){function e(e,n){function i(e){e!=d&&(h?h==e&&(h=e.n):h=e,r(e.n,e.p),r(e,d),d=e,d.n=null)}function r(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw Error("cacheId "+e+" taken");var o=0,s=c({},n,{id:e}),a={},l=n&&n.capacity||Number.MAX_VALUE,u={},d=null,h=null;return t[e]={put:function(e,t){var n=u[e]||(u[e]={key:e});i(n),m(t)||(e in a||o++,a[e]=t,o>l&&this.remove(h.key))},get:function(e){var t=u[e];if(t)return i(t),a[e]},remove:function(e){var t=u[e];t&&(t==d&&(d=t.p),t==h&&(h=t.n),r(t.n,t.p),delete u[e],delete a[e],o--)},removeAll:function(){a={},o=0,u={},d=h=null},destroy:function(){a=null,s=null,u=null,delete t[e]},info:function(){return c({},s,{size:o})}}}var t={};return e.info=function(){var e={};return r(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Dt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Mt(e){var i={},o="Directive",s=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,l=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,u="Template must have exactly one root element. was: ",d=/^\s*(https?|ftp|mailto|file):/;this.directive=function h(t,n){return y(t)?(Z(n,"directive"),i.hasOwnProperty(t)||(i[t]=[],e.factory(t+o,["$injector","$exceptionHandler",function(e,n){var o=[];return r(i[t],function(i){try{var r=e.invoke(i);k(r)?r={compile:f(r)}:!r.compile&&r.link&&(r.compile=f(r.link)),r.priority=r.priority||0,r.name=r.name||t,r.require=r.require||r.controller&&r.name,r.restrict=r.restrict||"A",o.push(r)}catch(s){n(s)}}),o}])),i[t].push(n)):r(t,a(h)),this},this.urlSanitizationWhitelist=function(e){return g(e)?(d=e,this):d},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document",function(e,a,h,m,g,b,w,$,C){function _(e,t,n){e instanceof qn||(e=qn(e)),r(e,function(t,n){t.nodeType==3&&t.nodeValue.match(/\S+/)&&(e[n]=qn(t).wrap("<span></span>").parent()[0])});var i=D(e,t,e,n);return function(t,n){Z(t,"scope");for(var r=n?di.clone.call(e):e,o=0,s=r.length;s>o;o++){var a=r[o];(a.nodeType==1||a.nodeType==9)&&r.eq(o).data("$scope",t)}return S(r,"ng-scope"),n&&n(r,t),i&&i(t,r,r),r}}function S(e,t){try{e.addClass(t)}catch(n){}}function D(e,t,i,r){function o(e,i,r,o){var s,a,l,c,u,h,p,f,m=[];for(h=0,p=i.length;p>h;h++)m.push(i[h]);for(h=0,f=0,p=d.length;p>h;f++)l=m[f],s=d[h++],a=d[h++],s?(s.scope?(c=e.$new(v(s.scope)),qn(l).data("$scope",c)):c=e,u=s.transclude,u||!o&&t?s(a,c,l,r,function(t){return function(n){var i=e.$new();return i.$$transcluded=!0,t(i,n).bind("$destroy",I(i,i.$destroy))}}(u||t)):s(a,c,l,n,o)):a&&a(e,l.childNodes,n,o)}for(var s,a,l,c,u,d=[],h=0;h<e.length;h++)c=new H,l=M(e[h],[],c,r),s=l.length?A(l,e[h],c,t,i):null,a=s&&s.terminal||!e[h].childNodes||!e[h].childNodes.length?null:D(e[h].childNodes,s?s.transclude:t),d.push(s),d.push(a),u=u||s||a;return u?o:null}function M(e,t,n,i){var r,o,a=e.nodeType,c=n.$attr;switch(a){case 1:L(t,At(Gn(e).toLowerCase()),"E",i);for(var u,d,h,p,f=e.attributes,m=0,g=f&&f.length;g>m;m++)u=f[m],u.specified&&(d=u.name,h=At(d.toLowerCase()),c[h]=d,n[h]=p=T(Kn&&"href"==d?decodeURIComponent(e.getAttribute(d,2)):u.value),vt(e,h)&&(n[h]=!0),B(e,t,p,h),L(t,h,"A",i));if(o=e.className,y(o)&&""!==o)for(;r=l.exec(o);)h=At(r[2]),L(t,h,"C",i)&&(n[h]=T(r[3])),o=o.substr(r.index+r[0].length);break;case 3:z(t,e.nodeValue);break;case 8:try{r=s.exec(e.nodeValue),r&&(h=At(r[1]),L(t,h,"M",i)&&(n[h]=T(r[2])))}catch(v){}}return t.sort(O),t}function A(e,i,o,s,a){function l(e,t){e&&(e.require=p.require,L.push(e)),t&&(t.require=p.require,O.push(t))}function c(e,t){var n,i="data",o=!1;if(y(e)){for(;(n=e.charAt(0))=="^"||"?"==n;)e=e.substr(1),"^"==n&&(i="inheritedData"),o=o||"?"==n;if(n=t[i]("$"+e+"Controller"),!n&&!o)throw Error("No controller: "+e);return n}return x(e)&&(n=[],r(e,function(e){n.push(c(e,t))})),n}function d(e,t,s,a,l){var u,d,p,f,m,g;if(u=i===s?o:P(o,new H(qn(s),o.$attr)),d=u.$$element,z){var v=/^\s*([@=&])\s*(\w*)\s*$/,y=t.$parent||t;r(z.scope,function(e,n){var i,r,o,s=e.match(v)||[],a=s[2]||n,l=s[1];switch(t.$$isolateBindings[n]=l+a,l){case"@":u.$observe(a,function(e){t[n]=e}),u.$$observers[a].$$scope=y;break;case"=":r=b(u[a]),o=r.assign||function(){throw i=t[n]=r(y),Error(yi+u[a]+" (directive: "+z.name+")")},i=t[n]=r(y),t.$watch(function(){var e=r(y);return e!==t[n]&&(e!==i?i=t[n]=e:o(y,e=i=t[n])),e});break;case"&":r=b(u[a]),t[n]=function(e){return r(y,e)};break;default:throw Error("Invalid isolate scope definition for directive "+z.name+": "+e)}})}for($&&r($,function(e){var n={$scope:t,$element:d,$attrs:u,$transclude:l};g=e.controller,"@"==g&&(g=u[e.name]),d.data("$"+e.name+"Controller",w(g,n))}),p=0,f=L.length;f>p;p++)try{m=L[p],m(t,d,u,m.require&&c(m.require,d))}catch(x){h(x,Y(d))}for(e&&e(t,s.childNodes,n,l),p=0,f=O.length;f>p;p++)try{m=O[p],m(t,d,u,m.require&&c(m.require,d))}catch(x){h(x,Y(d))}}for(var p,f,m,g,$,C,D,A=-Number.MAX_VALUE,L=[],O=[],I=null,z=null,B=null,j=o.$$element=qn(i),W=s,V=0,U=e.length;U>V&&(p=e[V],m=n,!(A>p.priority));V++){if((D=p.scope)&&(N("isolated scope",z,p,j),v(D)&&(S(j,"ng-isolate-scope"),z=p),S(j,"ng-scope"),I=I||p),f=p.name,(D=p.controller)&&($=$||{},N("'"+f+"' controller",$[f],p,j),$[f]=p),(D=p.transclude)&&(N("transclusion",g,p,j),g=p,A=p.priority,"element"==D?(m=qn(i),j=o.$$element=qn(t.createComment(" "+f+": "+o[f]+" ")),i=j[0],R(a,qn(m[0]),i),W=_(m,s,A)):(m=qn(ot(i)).contents(),j.html(""),W=_(m,s))),D=p.template)if(N("template",B,p,j),B=p,D=q(D),p.replace){if(m=qn("<div>"+T(D)+"</div>").contents(),i=m[0],m.length!=1||i.nodeType!==1)throw new Error(u+D);R(a,j,i);var X={$attr:{}};e=e.concat(M(i,e.splice(V+1,e.length-(V+1)),X)),E(o,X),U=e.length}else j.html(D);if(p.templateUrl)N("template",B,p,j),B=p,d=F(e.splice(V,e.length-V),d,j,o,a,p.replace,W),U=e.length;else if(p.compile)try{C=p.compile(j,o,W),k(C)?l(null,C):C&&l(C.pre,C.post)}catch(G){h(G,Y(j))}p.terminal&&(d.terminal=!0,A=Math.max(A,p.priority))}return d.scope=I&&I.scope,d.transclude=g&&W,d}function L(t,r,s,a){var l=!1;if(i.hasOwnProperty(r))for(var c,u=e.get(r+o),d=0,p=u.length;p>d;d++)try{c=u[d],(a===n||a>c.priority)&&c.restrict.indexOf(s)!=-1&&(t.push(c),l=!0)}catch(f){h(f)}return l}function E(e,t){var n=t.$attr,i=e.$attr,o=e.$$element;r(e,function(i,r){r.charAt(0)!="$"&&(t[r]&&(i+=("style"===r?";":" ")+t[r]),e.$set(r,i,!0,n[r]))}),r(t,function(t,r){"class"==r?(S(o,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==r?o.attr("style",o.attr("style")+";"+t):r.charAt(0)=="$"||e.hasOwnProperty(r)||(e[r]=t,i[r]=n[r])})}function F(e,t,n,i,r,o,s){var a,l,d=[],h=n[0],p=e.shift(),f=c({},p,{controller:null,templateUrl:null,transclude:null,scope:null});return n.html(""),m.get(p.templateUrl,{cache:g}).success(function(c){var p,m,g;if(c=q(c),o){if(g=qn("<div>"+T(c)+"</div>").contents(),p=g[0],g.length!=1||p.nodeType!==1)throw new Error(u+c);m={$attr:{}},R(r,n,p),M(p,e,m),E(i,m)}else p=h,n.html(c);for(e.unshift(f),a=A(e,p,i,s),l=D(n[0].childNodes,s);d.length;){var v=d.pop(),y=d.pop(),b=d.pop(),w=d.pop(),x=p;b!==h&&(x=ot(p),R(y,qn(b),x)),a(function(){t(l,w,x,r,v)},w,x,r,v)}d=null}).error(function(e,t,n,i){throw Error("Failed to load template: "+i.url)}),function(e,n,i,r,o){d?(d.push(n),d.push(i),d.push(r),d.push(o)):a(function(){t(l,n,i,r,o)},n,i,r,o)}}function O(e,t){return t.priority-e.priority}function N(e,t,n,i){if(t)throw Error("Multiple directives ["+t.name+", "+n.name+"] asking for "+e+" on: "+Y(i))}function z(e,t){var n=a(t,!0);n&&e.push({priority:0,compile:f(function(e,t){var i=t.parent(),r=i.data("$binding")||[];r.push(n),S(i.data("$binding",r),"ng-binding"),e.$watch(n,function(e){t[0].nodeValue=e})})})}function B(e,t,i,r){var o=a(i,!0);o&&t.push({priority:100,compile:f(function(e,t,i){var s=i.$$observers||(i.$$observers={});"class"===r&&(o=a(i[r],!0)),i[r]=n,(s[r]||(s[r]=[])).$$inter=!0,(i.$$observers&&i.$$observers[r].$$scope||e).$watch(o,function(e){i.$set(r,e)})})})}function R(e,t,n){var i,r,o=t[0],s=o.parentNode;if(e)for(i=0,r=e.length;r>i;i++)if(e[i]==o){e[i]=n;break}s&&s.replaceChild(n,o),n[qn.expando]=o[qn.expando],t[0]=n}var H=function(e,t){this.$$element=e,this.$attr=t||{}};H.prototype={$normalize:At,$set:function(e,t,i,o){var s,a=vt(this.$$element[0],e),l=this.$$observers;a&&(this.$$element.prop(e,t),o=a),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e],o||(this.$attr[e]=o=G(e,"-"))),Gn(this.$$element[0])==="A"&&"href"===e&&(j.setAttribute("href",t),s=j.href,s.match(d)||(this[e]=t="unsafe:"+s)),i!==!1&&(null===t||t===n?this.$$element.removeAttr(o):this.$$element.attr(o,t)),l&&r(l[e],function(e){try{e(t)}catch(n){h(n)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers={}),r=i[e]||(i[e]=[]);return r.push(t),$.$evalAsync(function(){r.$$inter||t(n[e])}),t}};var j=C[0].createElement("a"),W=a.startSymbol(),V=a.endSymbol(),q="{{"==W||"}}"==V?p:function(e){return e.replace(/\{\{/g,W).replace(/}}/g,V)};return _}]}function At(e){return nt(e.replace(bi,""))}function Lt(){var e={};this.register=function(t,n){v(t)?c(e,t):e[t]=n},this.$get=["$injector","$window",function(t,n){return function(i,r){if(y(i)){var o=i;i=e.hasOwnProperty(o)?e[o]:Zt(r.$scope,o,!0)||Zt(n,o,!0),Q(i,o,!0)}return t.instantiate(i,r)}}]}function Et(){this.$get=["$window",function(e){return qn(e.document)}]}function Pt(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function Ft(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse",function(i){function r(r,a){for(var l,c,u,d,h=0,p=[],f=r.length,m=!1,g=[];f>h;)(l=r.indexOf(e,h))!=-1&&(c=r.indexOf(t,l+o))!=-1?(h!=l&&p.push(r.substring(h,l)),p.push(u=i(d=r.substring(l+o,c))),u.exp=d,h=c+s,m=!0):(h!=f&&p.push(r.substring(h)),h=f);return(f=p.length)||(p.push(""),f=1),!a||m?(g.length=f,u=function(e){for(var t,i=0,r=f;r>i;i++)typeof(t=p[i])=="function"&&(t=t(e),null==t||t==n?t="":"string"!=typeof t&&(t=B(t))),g[i]=t;return g.join("")},u.exp=r,u.parts=p,u):void 0}var o=e.length,s=t.length;return r.startSymbol=function(){return e},r.endSymbol=function(){return t},r}]}function Ot(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=V(t[n]);return t.join("/")}function Nt(e,t){var n=wi.exec(e);return n={protocol:n[1],host:n[3],port:u(n[5])||$i[n[1]]||null,path:n[6]||"/",search:n[8],hash:n[10]},t&&(t.$$protocol=n.protocol,t.$$host=n.host,t.$$port=n.port),n}function It(e,t,n){return e+"://"+t+(n==$i[e]?"":":"+n)}function zt(e){return e.substr(0,e.lastIndexOf("/"))}function Bt(e,t,n){var i=Nt(e);return decodeURIComponent(i.path)!=t||m(i.hash)||i.hash.indexOf(n)!==0?e:It(i.protocol,i.host,i.port)+zt(t)+i.hash.substr(n.length)}function Rt(e,t,n){var i=Nt(e);if(decodeURIComponent(i.path)!=t||m(i.hash)||i.hash.indexOf(n)!==0){var r=i.search&&"?"+i.search||"",o=i.hash&&"#"+i.hash||"",s=zt(t),a=i.path.substr(s.length);if(i.path.indexOf(s)!==0)throw Error('Invalid url "'+e+'", missing path prefix "'+s+'" !');return It(i.protocol,i.host,i.port)+t+"#"+n+a+r+o}return e}function Ht(e,t,n){t=t||"",this.$$parse=function(e){var n=Nt(e,this);if(n.path.indexOf(t)!==0)throw Error('Invalid url "'+e+'", missing path prefix "'+t+'" !');this.$$path=decodeURIComponent(n.path.substr(t.length)),this.$$search=j(n.search),this.$$hash=n.hash&&decodeURIComponent(n.hash)||"",this.$$compose()},this.$$compose=function(){var e=W(this.$$search),n=this.$$hash?"#"+V(this.$$hash):"";this.$$url=Ot(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=It(this.$$protocol,this.$$host,this.$$port)+t+this.$$url},this.$$rewriteAppUrl=function(e){return e.indexOf(n)==0?e:void 0},this.$$parse(e)}function Yt(e,t,n){var i;this.$$parse=function(e){var n=Nt(e,this);if(n.hash&&n.hash.indexOf(t)!==0)throw Error('Invalid url "'+e+'", missing hash prefix "'+t+'" !');i=n.path+(n.search?"?"+n.search:""),n=ki.exec((n.hash||"").substr(t.length)),this.$$path=n[1]?(n[1].charAt(0)=="/"?"":"/")+decodeURIComponent(n[1]):"",this.$$search=j(n[3]),this.$$hash=n[5]&&decodeURIComponent(n[5])||"",this.$$compose()},this.$$compose=function(){var e=W(this.$$search),n=this.$$hash?"#"+V(this.$$hash):"";this.$$url=Ot(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=It(this.$$protocol,this.$$host,this.$$port)+i+(this.$$url?"#"+t+this.$$url:"")},this.$$rewriteAppUrl=function(e){return e.indexOf(n)==0?e:void 0},this.$$parse(e)}function jt(e,t,n,i){Yt.apply(this,arguments),this.$$rewriteAppUrl=function(e){return e.indexOf(n)==0?n+i+"#"+t+e.substr(n.length):void 0}}function Wt(e){return function(){return this[e]}}function Vt(e,t){return function(n){return m(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function qt(){var t="",n=!1;this.hashPrefix=function(e){return g(e)?(t=e,this):t},this.html5Mode=function(e){return g(e)?(n=e,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(i,r,o,s){function a(e){i.$broadcast("$locationChangeSuccess",l.absUrl(),e)}var l,c,u,d,h=r.url(),p=Nt(h);n?(c=r.baseHref()||"/",u=zt(c),d=It(p.protocol,p.host,p.port)+u+"/",l=o.history?new Ht(Bt(h,c,t),u,d):new jt(Rt(h,c,t),t,d,c.substr(u.length+1))):(d=It(p.protocol,p.host,p.port)+(p.path||"")+(p.search?"?"+p.search:"")+"#"+t+"/",l=new Yt(h,t,d)),s.bind("click",function(t){if(!t.ctrlKey&&!t.metaKey&&t.which!=2){for(var n=qn(t.target);Yn(n[0].nodeName)!=="a";)if(n[0]===s[0]||!(n=n.parent())[0])return;var r=n.prop("href"),o=l.$$rewriteAppUrl(r);r&&!n.attr("target")&&o&&(l.$$parse(o),i.$apply(),t.preventDefault(),e.angular["ff-684208-preventDefault"]=!0)}}),l.absUrl()!=h&&r.url(l.absUrl(),!0),r.onUrlChange(function(e){l.absUrl()!=e&&(i.$evalAsync(function(){var t=l.absUrl();l.$$parse(e),a(t)}),i.$$phase||i.$digest())});var f=0;return i.$watch(function(){var e=r.url(),t=l.$$replace;return f&&e==l.absUrl()||(f++,i.$evalAsync(function(){i.$broadcast("$locationChangeStart",l.absUrl(),e).defaultPrevented?l.$$parse(e):(r.url(l.absUrl(),t),a(e))})),l.$$replace=!1,f}),l}]}function Ut(){this.$get=["$window",function(e){function t(e){return e instanceof Error&&(e.stack?e=e.message&&e.stack.indexOf(e.message)===-1?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function n(n){var i=e.console||{},o=i[n]||i.log||h;return o.apply?function(){var e=[];return r(arguments,function(n){e.push(t(n))}),o.apply(i,e)}:function(e,t){o(e,t)}}return{log:n("log"),warn:n("warn"),info:n("info"),error:n("error")}}]}function Xt(e,t){function n(e){return e.indexOf(m)!=-1}function i(e){return e.indexOf(w)!=-1}function r(){return y+1<e.length?e.charAt(y+1):!1}function o(e){return e>="0"&&"9">=e}function s(e){return" "==e||"\r"==e||"	"==e||"\n"==e||""==e||"Â "==e}function a(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"==e||"$"==e}function l(e){return"-"==e||"+"==e||o(e)}function u(t,n,i){throw i=i||y,Error("Lexer Error: "+t+" at column"+(g(n)?"s "+n+"-"+y+" ["+e.substring(n,i)+"]":" "+i)+" in expression ["+e+"].")}function d(){for(var t="",n=y;y<e.length;){var i=Yn(e.charAt(y));if("."==i||o(i))t+=i;else{var s=r();if("e"==i&&l(s))t+=i;else if(l(i)&&s&&o(s)&&t.charAt(t.length-1)=="e")t+=i;else{if(!l(i)||s&&o(s)||t.charAt(t.length-1)!="e")break;u("Invalid exponent")}}y++}t=1*t,v.push({index:n,text:t,json:!0,fn:function(){return t}})}function h(){for(var n,i,r,l="",u=y;y<e.length;){var d=e.charAt(y);if("."!=d&&!a(d)&&!o(d))break;"."==d&&(n=y),l+=d,y++}if(n)for(i=y;i<e.length;){var d=e.charAt(i);if("("==d){r=l.substr(n-u+1),l=l.substr(0,n-u),y=i;break}if(!s(d))break;i++}var h={index:u,text:l};if(Ci.hasOwnProperty(l))h.fn=h.json=Ci[l];else{var p=Jt(l,t);h.fn=c(function(e,t){return p(e,t)},{assign:function(e,t){return Kt(e,l,t)}})}v.push(h),r&&(v.push({index:n,text:".",json:!1}),v.push({index:n+1,text:r,json:!1}))}function p(t){var n=y;y++;for(var i="",r=t,o=!1;y<e.length;){var s=e.charAt(y);if(r+=s,o){if("u"==s){var a=e.substring(y+1,y+5);a.match(/[\da-f]{4}/i)||u("Invalid unicode escape [\\u"+a+"]"),y+=4,i+=String.fromCharCode(parseInt(a,16))}else{var l=_i[s];i+=l?l:s}o=!1}else if("\\"==s)o=!0;else{if(s==t)return y++,v.push({index:n,text:r,string:i,json:!0,fn:function(){return i}}),void 0;i+=s}y++}u("Unterminated quote",n)}for(var f,m,v=[],y=0,b=[],w=":";y<e.length;){if(m=e.charAt(y),n("\"'"))p(m);else if(o(m)||n(".")&&o(r()))d();else if(a(m))h(),i("{,")&&b[0]=="{"&&(f=v[v.length-1])&&(f.json=f.text.indexOf(".")==-1);else if(n("(){}[].,;:"))v.push({index:y,text:m,json:i(":[,")&&n("{[")||n("}]:,")}),n("{[")&&b.unshift(m),n("}]")&&b.shift(),y++;else{if(s(m)){y++;continue}var x=m+r(),k=Ci[m],$=Ci[x];$?(v.push({index:y,text:x,fn:$}),y+=2):k?(v.push({index:y,text:m,fn:k,json:i("[,:")&&n("+-")}),y+=1):u("Unexpected next character ",y,y+1)}w=m}return v}function Gt(e,t,i,r){function o(t,n){throw Error("Syntax Error: Token '"+n.text+"' "+t+" at column "+(n.index+1)+" of the expression ["+e+"] starting at ["+e.substring(n.index)+"].")}function s(){if(O.length===0)throw Error("Unexpected end of expression: "+e);return O[0]}function a(e,t,n,i){if(O.length>0){var r=O[0],o=r.text;if(o==e||o==t||o==n||o==i||!e&&!t&&!n&&!i)return r}return!1}function l(e,n,i,r){var s=a(e,n,i,r);return s?(t&&!s.json&&o("is not valid json",s),O.shift(),s):!1}function u(e){l(e)||o("is unexpected, expecting ["+e+"]",a())}function d(e,t){return function(n,i){return e(n,i,t)}}function p(e,t,n){return function(i,r){return t(i,r,e,n)}}function m(){for(var e=[];;)if(O.length>0&&!a("}",")",";","]")&&e.push(R()),!l(";"))return e.length==1?e[0]:function(t,n){for(var i,r=0;r<e.length;r++){var o=e[r];o&&(i=o(t,n))}return i}}function g(){for(var e,t=y();;){if(!(e=l("|")))return t;t=p(t,e.fn,v())}}function v(){for(var e=l(),t=i(e.text),n=[];;){if(!(e=l(":"))){var r=function(e,i,r){for(var o=[r],s=0;s<n.length;s++)o.push(n[s](e,i));return t.apply(e,o)};return function(){return r}}n.push(y())}}function y(){return N()}function b(){var t,n,i=w();return(n=l("="))?(i.assign||o("implies assignment but ["+e.substring(0,n.index)+"] can not be assigned to",n),t=w(),function(e,n){return i.assign(e,t(e,n),n)}):i}function w(){for(var e,t=x();;){if(!(e=l("||")))return t;t=p(t,e.fn,x())}}function x(){var e,t=k();return(e=l("&&"))&&(t=p(t,e.fn,x())),t}function k(){var e,t=$();return(e=l("==","!="))&&(t=p(t,e.fn,k())),t}function $(){var e,t=C();return(e=l("<",">","<=",">="))&&(t=p(t,e.fn,$())),t}function C(){for(var e,t=_();e=l("+","-");)t=p(t,e.fn,_());return t}function _(){for(var e,t=T();e=l("*","/","%");)t=p(t,e.fn,T());return t}function T(){var e;return l("+")?S():(e=l("-"))?p(F,e.fn,T()):(e=l("!"))?d(e.fn,T()):S()}function S(){var e;if(l("("))e=R(),u(")");else if(l("["))e=L();else if(l("{"))e=E();else{var t=l();e=t.fn,e||o("not a primary expression",t)}for(var n,i;n=l("(","[",".");)n.text==="("?(e=I(e,i),i=null):n.text==="["?(i=e,e=B(e)):n.text==="."?(i=e,e=z(e)):o("IMPOSSIBLE");return e}function D(e){var t=l().text,n=Jt(t,r);return c(function(t,i){return n(e(t,i),i)},{assign:function(n,i,r){return Kt(e(n,r),t,i)}})}function M(e){var t=y();return u("]"),c(function(i,r){var o,s,a=e(i,r),l=t(i,r);return a?(o=a[l],o&&o.then&&(s=o,"$$v"in o||(s.$$v=n,s.then(function(e){s.$$v=e})),o=o.$$v),o):n},{assign:function(n,i,r){return e(n,r)[t(n,r)]=i}})}function A(e,t){var n=[];if(s().text!=")")do n.push(y());while(l(","));return u(")"),function(i,r){for(var o=[],s=t?t(i,r):i,a=0;a<n.length;a++)o.push(n[a](i,r));var l=e(i,r)||h;return l.apply?l.apply(s,o):l(o[0],o[1],o[2],o[3],o[4])}}function L(){var e=[];if(s().text!="]")do e.push(y());while(l(","));return u("]"),function(t,n){for(var i=[],r=0;r<e.length;r++)i.push(e[r](t,n));return i}}function E(){var e=[];if(s().text!="}")do{var t=l(),n=t.string||t.text;u(":");var i=y();e.push({key:n,value:i})}while(l(","));return u("}"),function(t,n){for(var i={},r=0;r<e.length;r++){var o=e[r],s=o.value(t,n);i[o.key]=s}return i}}var P,F=f(0),O=Xt(e,r),N=b,I=A,z=D,B=M,R=g;return t?(N=w,I=z=B=R=function(){o("is not valid json",{text:e,index:0})},P=S()):P=m(),O.length!==0&&o("is an unexpected token",O[0]),P}function Kt(e,t,n){for(var i=t.split("."),r=0;i.length>1;r++){var o=i.shift(),s=e[o];s||(s={},e[o]=s),e=s}return e[i.shift()]=n,n}function Zt(e,t,n){if(!t)return e;for(var i,r=t.split("."),o=e,s=r.length,a=0;s>a;a++)i=r[a],e&&(e=(o=e)[i]);return!n&&k(e)?I(o,e):e}function Qt(e,t,i,r,o){return function(s,a){var l,c=a&&a.hasOwnProperty(e)?a:s;return null===c||c===n?c:(c=c[e],c&&c.then&&("$$v"in c||(l=c,l.$$v=n,l.then(function(e){l.$$v=e})),c=c.$$v),t&&null!==c&&c!==n?(c=c[t],c&&c.then&&("$$v"in c||(l=c,l.$$v=n,l.then(function(e){l.$$v=e})),c=c.$$v),i&&null!==c&&c!==n?(c=c[i],c&&c.then&&("$$v"in c||(l=c,l.$$v=n,l.then(function(e){l.$$v=e})),c=c.$$v),r&&null!==c&&c!==n?(c=c[r],c&&c.then&&("$$v"in c||(l=c,l.$$v=n,l.then(function(e){l.$$v=e})),c=c.$$v),o&&null!==c&&c!==n?(c=c[o],c&&c.then&&("$$v"in c||(l=c,l.$$v=n,l.then(function(e){l.$$v=e})),c=c.$$v),c):c):c):c):c)}}function Jt(e,t){if(Ti.hasOwnProperty(e))return Ti[e];var i,o=e.split("."),s=o.length;if(t)i=6>s?Qt(o[0],o[1],o[2],o[3],o[4]):function(e,t){var i,r=0;do i=Qt(o[r++],o[r++],o[r++],o[r++],o[r++])(e,t),t=n,e=i;while(s>r);return i};else{var a="var l, fn, p;\n";r(o,function(e,t){a+="if(s === null || s === undefined) return s;\nl=s;\ns="+(t?"s":'((k&&k.hasOwnProperty("'+e+'"))?k:s)')+'["'+e+'"]'+";\n"+"if (s && s.then) {\n"+' if (!("$$v" in s)) {\n'+" p=s;\n"+" p.$$v = undefined;\n"+" p.then(function(v) {p.$$v=v;});\n"+"}\n"+" s=s.$$v\n"+"}\n"}),a+="return s;",i=Function("s","k",a),i.toString=function(){return a}}return Ti[e]=i}function en(){var e={};this.$get=["$filter","$sniffer",function(t,n){return function(i){switch(typeof i){case"string":return e.hasOwnProperty(i)?e[i]:e[i]=Gt(i,!1,t,n.csp);case"function":return i;default:return h}}}]}function tn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return nn(function(t){e.$evalAsync(t)},t)}]}function nn(e,t){function i(e){return e}function o(e){return c(e)}function s(e){var t=a(),n=e.length,i=[];return n?r(e,function(e,r){l(e).then(function(e){r in i||(i[r]=e,--n||t.resolve(i))},function(e){r in i||t.reject(e)})}):t.resolve(i),t.promise}var a=function(){var r,s,u=[];return s={resolve:function(t){if(u){var i=u;u=n,r=l(t),i.length&&e(function(){for(var e,t=0,n=i.length;n>t;t++)e=i[t],r.then(e[0],e[1])})}},reject:function(e){s.resolve(c(e))},promise:{then:function(e,n){var s=a(),l=function(n){try{s.resolve((e||i)(n))}catch(r){t(r),s.reject(r)}},c=function(e){try{s.resolve((n||o)(e))}catch(i){t(i),s.reject(i)}};return u?u.push([l,c]):r.then(l,c),s.promise}}}},l=function(t){return t&&t.then?t:{then:function(n){var i=a();return e(function(){i.resolve(n(t))}),i.promise}}},c=function(t){return{then:function(n,i){var r=a();return e(function(){r.resolve((i||o)(t))}),r.promise}}},u=function(n,r,s){var u,d=a(),h=function(e){try{return(r||i)(e)}catch(n){return t(n),c(n)}},p=function(e){try{return(s||o)(e)}catch(n){return t(n),c(n)}};return e(function(){l(n).then(function(e){u||(u=!0,d.resolve(l(e).then(h,p)))},function(e){u||(u=!0,d.resolve(p(e)))})}),d.promise};return{defer:a,reject:c,when:u,all:s}}function rn(){var e={};this.when=function(t,n){if(e[t]=c({reloadOnSearch:!0},n),t){var i=t[t.length-1]=="/"?t.substr(0,t.length-1):t+"/";e[i]={redirectTo:t}}return this},this.otherwise=function(e){return this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache",function(t,n,i,o,s,a,l){function u(e,t){t="^"+t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"$";for(var n,i="",o=[],s={},a=/:(\w+)/g,l=0;(n=a.exec(t))!==null;)i+=t.slice(l,n.index),i+="([^\\/]*)",o.push(n[1]),l=a.lastIndex;i+=t.substr(l);var c=e.match(new RegExp(i));return c&&r(o,function(e,t){s[e]=c[t+1]}),c?s:null}function h(){var e=p(),c=v.current;e&&c&&e.$$route===c.$$route&&F(e.pathParams,c.pathParams)&&!e.reloadOnSearch&&!m?(c.params=e.params,E(c.params,i),t.$broadcast("$routeUpdate",c)):(e||c)&&(m=!1,t.$broadcast("$routeChangeStart",e,c),v.current=e,e&&e.redirectTo&&(y(e.redirectTo)?n.path(f(e.redirectTo,e.params)).search(e.params).replace():n.url(e.redirectTo(e.pathParams,n.path(),n.search())).replace()),o.when(e).then(function(){if(e){var t,n=[],i=[];return r(e.resolve||{},function(e,t){n.push(t),i.push(y(e)?s.get(e):s.invoke(e))}),g(t=e.template)||g(t=e.templateUrl)&&(t=a.get(t,{cache:l}).then(function(e){return e.data})),g(t)&&(n.push("$template"),i.push(t)),o.all(i).then(function(e){var t={};return r(e,function(e,i){t[n[i]]=e}),t})}}).then(function(n){e==v.current&&(e&&(e.locals=n,E(e.params,i)),t.$broadcast("$routeChangeSuccess",e,c))},function(n){e==v.current&&t.$broadcast("$routeChangeError",e,c,n)}))}function p(){var t,i;return r(e,function(e,r){!i&&(t=u(n.path(),r))&&(i=d(e,{params:c({},n.search(),t),pathParams:t}),i.$$route=e)}),i||e[null]&&d(e[null],{params:{},pathParams:{}})}function f(e,t){var n=[];return r((e||"").split(":"),function(e,i){if(0==i)n.push(e);else{var r=e.match(/(\w+)(.*)/),o=r[1];n.push(t[o]),n.push(r[2]||""),delete t[o]}}),n.join("")}var m=!1,v={routes:e,reload:function(){m=!0,t.$evalAsync(h)}};return t.$on("$locationChangeSuccess",h),v}]}function on(){this.$get=f({})}function sn(){var e=10;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse",function(t,n,i){function r(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$listeners={},this.$$isolateBindings={}}function o(e){if(u.$$phase)throw Error(u.$$phase+" already in progress");u.$$phase=e}function s(){u.$$phase=null}function a(e,t){var n=i(e);return Q(n,t),n}function c(){}r.prototype={$new:function(e){var t,n;if(k(e))throw Error("API-CHANGE: Use $controller to instantiate controllers.");return e?(n=new r,n.$root=this.$root):(t=function(){},t.prototype=this,n=new t,n.$id=l()),n["this"]=n,n.$$listeners={},n.$parent=this,n.$$asyncQueue=[],n.$$watchers=n.$$nextSibling=n.$$childHead=n.$$childTail=null,n.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=n,this.$$childTail=n):this.$$childHead=this.$$childTail=n,n},$watch:function(e,t,n){var i=this,r=a(e,"watch"),o=i.$$watchers,s={fn:t,last:c,get:r,exp:e,eq:!!n};if(!k(t)){var l=a(t||h,"listener");s.fn=function(e,t,n){l(n)}}return o||(o=i.$$watchers=[]),o.unshift(s),function(){L(o,s)}},$digest:function(){var t,i,r,a,l,u,d,h,p,f,m,g=e,v=this,y=[];o("$digest");do{d=!1,p=v;do{for(l=p.$$asyncQueue;l.length;)try{p.$eval(l.shift())}catch(b){n(b)}if(a=p.$$watchers)for(u=a.length;u--;)try{t=a[u],(i=t.get(p))===(r=t.last)||(t.eq?F(i,r):"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))||(d=!0,t.last=t.eq?E(i):i,t.fn(i,r===c?i:r,p),5>g&&(f=4-g,y[f]||(y[f]=[]),m=k(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,m+="; newVal: "+B(i)+"; oldVal: "+B(r),y[f].push(m)))}catch(b){n(b)}if(!(h=p.$$childHead||p!==v&&p.$$nextSibling))for(;p!==v&&!(h=p.$$nextSibling);)p=p.$parent}while(p=h);if(d&&!g--)throw s(),Error(e+" $digest() iterations reached. Aborting!\n"+"Watchers fired in the last 5 iterations: "+B(y))}while(d||l.length);s()},$destroy:function(){if(u!=this&&!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null}},$eval:function(e,t){return i(e)(this,t)},$evalAsync:function(e){this.$$asyncQueue.push(e)},$apply:function(e){try{return o("$apply"),this.$eval(e)}catch(t){n(t)}finally{s();try{u.$digest()}catch(t){throw n(t),t}}},$on:function(e,t){var n=this.$$listeners[e];return n||(this.$$listeners[e]=n=[]),n.push(t),function(){n[A(n,t)]=null}},$emit:function(e){var t,i,r,o=[],s=this,a=!1,l={name:e,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=O([l],arguments,1);do{for(t=s.$$listeners[e]||o,l.currentScope=s,i=0,r=t.length;r>i;i++)if(t[i])try{if(t[i].apply(null,c),a)return l}catch(u){n(u)}else t.splice(i,1),i--,r--;s=s.$parent}while(s);return l},$broadcast:function(e){var t,i,r,o=this,s=o,a=o,l={name:e,targetScope:o,preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=O([l],arguments,1);do{for(s=a,l.currentScope=s,t=s.$$listeners[e]||[],i=0,r=t.length;r>i;i++)if(t[i])try{t[i].apply(null,c)}catch(u){n(u)}else t.splice(i,1),i--,r--;if(!(a=s.$$childHead||s!==o&&s.$$nextSibling))for(;s!==o&&!(a=s.$$nextSibling);)s=s.$parent}while(s=a);return l}};var u=new r;return u}]}function an(){this.$get=["$window",function(e){var t={},n=u((/android (\d+)/.exec(Yn(e.navigator.userAgent))||[])[1]);return{history:!(!e.history||!e.history.pushState||4>n),hashchange:"onhashchange"in e&&(!e.document.documentMode||e.document.documentMode>7),hasEvent:function(n){if("input"==n&&9==Kn)return!1;if(m(t[n])){var i=e.document.createElement("div");t[n]="on"+n in i}return t[n]},csp:!1}}]}function ln(){this.$get=f(e)}function cn(e){var t,n,i,o={};return e?(r(e.split("\n"),function(e){i=e.indexOf(":"),t=Yn(T(e.substr(0,i))),n=T(e.substr(i+1)),t&&(o[t]?o[t]+=", "+n:o[t]=n)}),o):o}function un(e){var t=v(e)?e:n;return function(n){return t||(t=cn(e)),n?t[Yn(n)]||null:t}}function dn(e,t,n){return k(n)?n(e,t):(r(n,function(n){e=n(e,t)}),e)}function hn(e){return e>=200&&300>e}function pn(){var e=/^\s*(\[|\{[^\{])/,t=/[\}\]]\s*$/,i=/^\)\]\}',?\n/,o=this.defaults={transformResponse:[function(n){return y(n)&&(n=n.replace(i,""),e.test(n)&&t.test(n)&&(n=R(n,!0))),n}],transformRequest:[function(e){return v(e)&&!_(e)?B(e):e}],headers:{common:{Accept:"application/json, text/plain, */*","X-Requested-With":"XMLHttpRequest"},post:{"Content-Type":"application/json;charset=utf-8"},put:{"Content-Type":"application/json;charset=utf-8"}}},a=this.responseInterceptors=[];
this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(e,t,i,l,u,d){function h(e){function n(e){var t=c({},e,{data:dn(e.data,e.headers,a)});return hn(e.status)?t:u.reject(t)}e.method=jn(e.method);var i,s=e.transformRequest||o.transformRequest,a=e.transformResponse||o.transformResponse,l=o.headers,d=c({"X-XSRF-TOKEN":t.cookies()["XSRF-TOKEN"]},l.common,l[Yn(e.method)],e.headers),h=dn(e.data,un(d),s);return m(e.data)&&delete d["Content-Type"],i=g(e,h,d),i=i.then(n,n),r(k,function(e){i=e(i)}),i.success=function(t){return i.then(function(n){t(n.data,n.status,n.headers,e)}),i},i.error=function(t){return i.then(null,function(n){t(n.data,n.status,n.headers,e)}),i},i}function p(){r(arguments,function(e){h[e]=function(t,n){return h(c(n||{},{method:e,url:t}))}})}function f(){r(arguments,function(e){h[e]=function(t,n,i){return h(c(i||{},{method:e,url:t,data:n}))}})}function g(t,n,i){function r(e,t,n){a&&(hn(e)?a.put(f,[e,t,cn(n)]):a.remove(f)),o(t,e,n),l.$apply()}function o(e,n,i){n=Math.max(n,0),(hn(n)?d.resolve:d.reject)({data:e,status:n,headers:un(i),config:t})}function s(){var e=A(h.pendingRequests,t);-1!==e&&h.pendingRequests.splice(e,1)}var a,c,d=u.defer(),p=d.promise,f=b(t.url,t.params);if(h.pendingRequests.push(t),p.then(s,s),t.cache&&t.method=="GET"&&(a=v(t.cache)?t.cache:w),a)if(c=a.get(f)){if(c.then)return c.then(s,s),c;x(c)?o(c[1],c[0],E(c[2])):o(c,200,{})}else a.put(f,p);return c||e(t.method,f,n,r,i,t.timeout,t.withCredentials),p}function b(e,t){if(!t)return e;var i=[];return s(t,function(e,t){null!=e&&e!=n&&(v(e)&&(e=B(e)),i.push(encodeURIComponent(t)+"="+encodeURIComponent(e)))}),e+(e.indexOf("?")==-1?"?":"&")+i.join("&")}var w=i("$http"),k=[];return r(a,function(e){k.push(y(e)?d.get(e):d.invoke(e))}),h.pendingRequests=[],p("get","delete","head","jsonp"),f("post","put"),h.defaults=o,h}]}function fn(){this.$get=["$browser","$window","$document",function(e,t,n){return mn(e,Si,e.defer,t.angular.callbacks,n[0],t.location.protocol.replace(":",""))}]}function mn(e,t,n,i,o,s){function a(e,t){var n=o.createElement("script"),i=function(){o.body.removeChild(n),t&&t()};n.type="text/javascript",n.src=e,Kn?n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&i()}:n.onload=n.onerror=i,o.body.appendChild(n)}return function(o,l,c,u,d,p,f){function m(t,n,i,r){var o=(l.match(wi)||["",s])[1];n="file"==o?i?200:404:n,n=1223==n?204:n,t(n,i,r),e.$$completeOutstandingRequest(h)}if(e.$$incOutstandingRequestCount(),l=l||e.url(),Yn(o)=="jsonp"){var g="_"+(i.counter++).toString(36);i[g]=function(e){i[g].data=e},a(l.replace("JSON_CALLBACK","angular.callbacks."+g),function(){i[g].data?m(u,200,i[g].data):m(u,-2),delete i[g]})}else{var v=new t;v.open(o,l,!0),r(d,function(e,t){e&&v.setRequestHeader(t,e)});var y;v.onreadystatechange=function(){if(v.readyState==4){var e=v.getAllResponseHeaders(),t=["Cache-Control","Content-Language","Content-Type","Expires","Last-Modified","Pragma"];e||(e="",r(t,function(t){var n=v.getResponseHeader(t);n&&(e+=t+": "+n+"\n")})),m(u,y||v.status,v.responseText,e)}},f&&(v.withCredentials=!0),v.send(c||""),p>0&&n(function(){y=-1,v.abort()},p)}}}function gn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"Â¤",posSuf:"",negPre:"(Â¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function vn(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(e,t,n,i){function r(r,s,a){var l,c,u=n.defer(),d=u.promise,h=g(a)&&!a;return l=t.defer(function(){try{u.resolve(r())}catch(t){u.reject(t),i(t)}h||e.$apply()},s),c=function(){delete o[d.$$timeoutId]},d.$$timeoutId=l,o[l]=u,d.then(c,c),d}var o={};return r.cancel=function(e){return e&&e.$$timeoutId in o?(o[e.$$timeoutId].reject("canceled"),t.defer.cancel(e.$$timeoutId)):!1},r}]}function yn(e){function t(t,i){return e.factory(t+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",wn),t("date",Dn),t("filter",bn),t("json",Mn),t("limitTo",An),t("lowercase",Ei),t("number",xn),t("orderBy",Ln),t("uppercase",Pi)}function bn(){return function(e,t){if(!x(e))return e;var n=[];n.check=function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0};var i=function(e,t){if(t.charAt(0)==="!")return!i(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return(""+e).toLowerCase().indexOf(t)>-1;case"object":for(var n in e)if(n.charAt(0)!=="$"&&i(e[n],t))return!0;return!1;case"array":for(var r=0;r<e.length;r++)if(i(e[r],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var r in t)"$"==r?function(){var e=(""+t[r]).toLowerCase();e&&n.push(function(t){return i(t,e)})}():function(){var e=r,o=(""+t[r]).toLowerCase();o&&n.push(function(t){return i(Zt(t,e),o)})}();break;case"function":n.push(t);break;default:return e}for(var o=[],s=0;s<e.length;s++){var a=e[s];n.check(a)&&o.push(a)}return o}}function wn(e){var t=e.NUMBER_FORMATS;return function(e,n){return m(n)&&(n=t.CURRENCY_SYM),kn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function xn(e){var t=e.NUMBER_FORMATS;return function(e,n){return kn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function kn(e,t,n,i,r){if(isNaN(e)||!isFinite(e))return"";var o=0>e;e=Math.abs(e);var s=e+"",a="",l=[],c=!1;if(s.indexOf("e")!==-1){var u=s.match(/([\d\.]+)e(-?)(\d+)/);u&&u[2]=="-"&&u[3]>r+1?s="0":(a=s,c=!0)}if(!c){var d=(s.split(Di)[1]||"").length;m(r)&&(r=Math.min(Math.max(t.minFrac,d),t.maxFrac));var h=Math.pow(10,r);e=Math.round(e*h)/h;var p=(""+e).split(Di),f=p[0];p=p[1]||"";var g=0,v=t.lgSize,y=t.gSize;if(f.length>=v+y){g=f.length-v;for(var b=0;g>b;b++)0===(g-b)%y&&0!==b&&(a+=n),a+=f.charAt(b)}for(b=g;b<f.length;b++)(f.length-b)%v===0&&0!==b&&(a+=n),a+=f.charAt(b);for(;p.length<r;)p+="0";r&&"0"!==r&&(a+=i+p.substr(0,r))}return l.push(o?t.negPre:t.posPre),l.push(a),l.push(o?t.negSuf:t.posSuf),l.join("")}function $n(e,t,n){var i="";for(0>e&&(i="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),i+e}function Cn(e,t,n,i){return function(r){var o=r["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),$n(o,t,i)}}function _n(e,t){return function(n,i){var r=n["get"+e](),o=jn(t?"SHORT"+e:e);return i[o][r]}}function Tn(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=$n(Math[t>0?"floor":"ceil"](t/60),2)+$n(Math.abs(t%60),2)}function Sn(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Dn(e){function t(e){var t;if(t=e.match(n)){var i=new Date(0),r=0,o=0;return t[9]&&(r=u(t[9]+t[10]),o=u(t[9]+t[11])),i.setUTCFullYear(u(t[1]),u(t[2])-1,u(t[3])),i.setUTCHours(u(t[4]||0)-r,u(t[5]||0)-o,u(t[6]||0),u(t[7]||0)),i}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i){var o,s,a="",l=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,y(n)&&(n=Li.test(n)?u(n):t(n)),b(n)&&(n=new Date(n)),!w(n))return n;for(;i;)s=Ai.exec(i),s?(l=O(l,s,1),i=l.pop()):(l.push(i),i=null);return r(l,function(t){o=Mi[t],a+=o?o(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}}function Mn(){return function(e){return B(e,!0)}}function An(){return function(e,t){if(!(e instanceof Array))return e;t=u(t);var n,i,r=[];if(!(e&&e instanceof Array))return r;for(t>e.length?t=e.length:t<-e.length&&(t=-e.length),t>0?(n=0,i=t):(n=e.length+t,i=e.length);i>n;n++)r.push(e[n]);return r}}function Ln(e){return function(t,n,i){function r(e,t){for(var i=0;i<n.length;i++){var r=n[i](e,t);if(0!==r)return r}return 0}function o(e,t){return H(t)?function(t,n){return e(n,t)}:e}function s(e,t){var n=typeof e,i=typeof t;return n==i?("string"==n&&(e=e.toLowerCase()),"string"==n&&(t=t.toLowerCase()),e===t?0:t>e?-1:1):i>n?-1:1}if(!x(t))return t;if(!n)return t;n=x(n)?n:[n],n=D(n,function(t){var n=!1,i=t||p;return y(t)&&((t.charAt(0)=="+"||t.charAt(0)=="-")&&(n=t.charAt(0)=="-",t=t.substring(1)),i=e(t)),o(function(e,t){return s(i(e),i(t))},n)});for(var a=[],l=0;l<t.length;l++)a.push(t[l]);return a.sort(o(r,i))}}function En(e){return k(e)&&(e={link:e}),e.restrict=e.restrict||"AC",f(e)}function Pn(e,t){function n(t,n){n=n?"-"+G(n,"-"):"",e.removeClass((t?qi:Vi)+n).addClass((t?Vi:qi)+n)}var i=this,o=e.parent().controller("form")||Ni,s=0,a=i.$error={};i.$name=t.name,i.$dirty=!1,i.$pristine=!0,i.$valid=!0,i.$invalid=!1,o.$addControl(i),e.addClass(Ui),n(!0),i.$addControl=function(e){e.$name&&!i.hasOwnProperty(e.$name)&&(i[e.$name]=e)},i.$removeControl=function(e){e.$name&&i[e.$name]===e&&delete i[e.$name],r(a,function(t,n){i.$setValidity(n,!0,e)})},i.$setValidity=function(e,t,r){var l=a[e];if(t)l&&(L(l,r),l.length||(s--,s||(n(t),i.$valid=!0,i.$invalid=!1),a[e]=!1,n(!0,e),o.$setValidity(e,!0,i)));else{if(s||n(t),l){if(M(l,r))return}else a[e]=l=[],s++,n(!1,e),o.$setValidity(e,!1,i);l.push(r),i.$valid=!1,i.$invalid=!0}},i.$setDirty=function(){e.removeClass(Ui).addClass(Xi),i.$dirty=!0,i.$pristine=!1,o.$setDirty()}}function Fn(e){return m(e)||""===e||null===e||e!==e}function On(e,t,i,r,o,s){var a=function(){var n=T(t.val());r.$viewValue!==n&&e.$apply(function(){r.$setViewValue(n)})};if(o.hasEvent("input"))t.bind("input",a);else{var l;t.bind("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||l||(l=s.defer(function(){a(),l=null}))}),t.bind("change",a)}r.$render=function(){t.val(Fn(r.$viewValue)?"":r.$viewValue)};var c,d=i.ngPattern,h=function(e,t){return Fn(t)||e.test(t)?(r.$setValidity("pattern",!0),t):(r.$setValidity("pattern",!1),n)};if(d&&(d.match(/^\/(.*)\/$/)?(d=new RegExp(d.substr(1,d.length-2)),c=function(e){return h(d,e)}):c=function(t){var n=e.$eval(d);if(!n||!n.test)throw new Error("Expected "+d+" to be a RegExp but was "+n);return h(n,t)},r.$formatters.push(c),r.$parsers.push(c)),i.ngMinlength){var p=u(i.ngMinlength),f=function(e){return!Fn(e)&&e.length<p?(r.$setValidity("minlength",!1),n):(r.$setValidity("minlength",!0),e)};r.$parsers.push(f),r.$formatters.push(f)}if(i.ngMaxlength){var m=u(i.ngMaxlength),g=function(e){return!Fn(e)&&e.length>m?(r.$setValidity("maxlength",!1),n):(r.$setValidity("maxlength",!0),e)};r.$parsers.push(g),r.$formatters.push(g)}}function Nn(e,t,i,r,o,s){if(On(e,t,i,r,o,s),r.$parsers.push(function(e){var t=Fn(e);return t||Yi.test(e)?(r.$setValidity("number",!0),""===e?null:t?e:parseFloat(e)):(r.$setValidity("number",!1),n)}),r.$formatters.push(function(e){return Fn(e)?"":""+e}),i.min){var a=parseFloat(i.min),l=function(e){return!Fn(e)&&a>e?(r.$setValidity("min",!1),n):(r.$setValidity("min",!0),e)};r.$parsers.push(l),r.$formatters.push(l)}if(i.max){var c=parseFloat(i.max),u=function(e){return!Fn(e)&&e>c?(r.$setValidity("max",!1),n):(r.$setValidity("max",!0),e)};r.$parsers.push(u),r.$formatters.push(u)}r.$formatters.push(function(e){return Fn(e)||b(e)?(r.$setValidity("number",!0),e):(r.$setValidity("number",!1),n)})}function In(e,t,i,r,o,s){On(e,t,i,r,o,s);var a=function(e){return Fn(e)||Ri.test(e)?(r.$setValidity("url",!0),e):(r.$setValidity("url",!1),n)};r.$formatters.push(a),r.$parsers.push(a)}function zn(e,t,i,r,o,s){On(e,t,i,r,o,s);var a=function(e){return Fn(e)||Hi.test(e)?(r.$setValidity("email",!0),e):(r.$setValidity("email",!1),n)};r.$formatters.push(a),r.$parsers.push(a)}function Bn(e,t,n,i){m(n.name)&&t.attr("name",l()),t.bind("click",function(){t[0].checked&&e.$apply(function(){i.$setViewValue(n.value)})}),i.$render=function(){var e=n.value;t[0].checked=e==i.$viewValue},n.$observe("value",i.$render)}function Rn(e,t,n,i){var r=n.ngTrueValue,o=n.ngFalseValue;y(r)||(r=!0),y(o)||(o=!1),t.bind("click",function(){e.$apply(function(){i.$setViewValue(t[0].checked)})}),i.$render=function(){t[0].checked=i.$viewValue},i.$formatters.push(function(e){return e===r}),i.$parsers.push(function(e){return e?r:o})}function Hn(e,t){return e="ngClass"+e,En(function(i,r,o){function s(e){(t===!0||i.$index%2===t)&&(c&&e!==c&&a(c),l(e)),c=e}function a(e){v(e)&&!x(e)&&(e=D(e,function(e,t){return e?t:void 0})),r.removeClass(x(e)?e.join(" "):e)}function l(e){v(e)&&!x(e)&&(e=D(e,function(e,t){return e?t:void 0})),e&&r.addClass(x(e)?e.join(" "):e)}var c=n;i.$watch(o[e],s,!0),o.$observe("class",function(){var t=i.$eval(o[e]);s(t,t)}),"ngClass"!==e&&i.$watch("$index",function(n,r){var s=n%2;s!==r%2&&(s==t?l(i.$eval(o[e])):a(i.$eval(o[e])))})})}var Yn=function(e){return y(e)?e.toLowerCase():e},jn=function(e){return y(e)?e.toUpperCase():e},Wn=function(e){return y(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)}):e},Vn=function(e){return y(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&-33)}):e};"i"!=="I".toLowerCase()&&(Yn=Wn,jn=Vn);var qn,Un,Xn,Gn,Kn=u((/msie (\d+)/.exec(Yn(navigator.userAgent))||[])[1]),Zn=[].slice,Qn=[].push,Jn=Object.prototype.toString,ei=e.angular||(e.angular={}),ti=["0","0","0"];h.$inject=[],p.$inject=[],Gn=9>Kn?function(e){return e=e.nodeName?e:e[0],e.scopeName&&e.scopeName!="HTML"?jn(e.scopeName+":"+e.nodeName):e.nodeName}:function(e){return e.nodeName?e.nodeName:e[0].nodeName};var ni=/[A-Z]/g,ii={full:"1.0.6",major:1,minor:0,dot:6,codeName:"universal-irreversibility"},ri=rt.cache={},oi=rt.expando="ng-"+(new Date).getTime(),si=1,ai=e.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},li=e.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},ci=/([\:\-\_]+(.))/g,ui=/^moz([A-Z])/,di=rt.prototype={ready:function(t){function n(){i||(i=!0,t())}var i=!1;this.bind("DOMContentLoaded",n),rt(e).bind("load",n)},toString:function(){var e=[];return r(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return e>=0?qn(this[e]):qn(this[this.length+e])},length:0,push:Qn,sort:[].sort,splice:[].splice},hi={};r("multiple,selected,checked,disabled,readOnly,required".split(","),function(e){hi[Yn(e)]=e});var pi={};r("input,select,option,textarea,button,form".split(","),function(e){pi[jn(e)]=!0}),r({data:ut,inheritedData:gt,scope:function(e){return gt(e,"$scope")},controller:mt,injector:function(e){return gt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:dt,css:function(e,t,i){if(t=nt(t),!g(i)){var r;return 8>=Kn&&(r=e.currentStyle&&e.currentStyle[t],""===r&&(r="auto")),r=r||e.style[t],8>=Kn&&(r=""===r?n:r),r}e.style[t]=i},attr:function(e,t,i){var r=Yn(t);if(hi[r]){if(!g(i))return e[t]||(e.attributes.getNamedItem(t)||h).specified?r:n;i?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(g(i))e.setAttribute(t,i);else if(e.getAttribute){var o=e.getAttribute(t,2);return null===o?n:o}},prop:function(e,t,n){return g(n)?(e[t]=n,void 0):e[t]},text:c(9>Kn?function(e,t){if(e.nodeType==1){if(m(t))return e.innerText;e.innerText=t}else{if(m(t))return e.nodeValue;e.nodeValue=t}}:function(e,t){return m(t)?e.textContent:(e.textContent=t,void 0)},{$dv:""}),val:function(e,t){return m(t)?e.value:(e.value=t,void 0)},html:function(e,t){if(m(t))return e.innerHTML;for(var n=0,i=e.childNodes;n<i.length;n++)st(i[n]);e.innerHTML=t}},function(e,t){rt.prototype[t]=function(t,i){var r,o;if((e.length==2&&e!==dt&&e!==mt?t:i)!==n){for(r=0;r<this.length;r++)e(this[r],t,i);return this}if(v(t)){for(r=0;r<this.length;r++)if(e===ut)e(this[r],t);else for(o in t)e(this[r],o,t[o]);return this}return this.length?e(this[0],t,i):e.$dv}}),r({removeData:lt,dealoc:st,bind:function Lr(e,t,n){var i=ct(e,"events"),o=ct(e,"handle");i||ct(e,"events",i={}),o||ct(e,"handle",o=yt(e,i)),r(t.split(" "),function(t){var r=i[t];if(!r){if("mouseenter"==t||"mouseleave"==t){var s=0;i.mouseenter=[],i.mouseleave=[],Lr(e,"mouseover",function(e){s++,1==s&&o(e,"mouseenter")}),Lr(e,"mouseout",function(e){s--,0==s&&o(e,"mouseleave")})}else ai(e,t,o),i[t]=[];r=i[t]}r.push(n)})},unbind:at,replaceWith:function(e,t){var n,i=e.parentNode;st(e),r(new rt(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return r(e.childNodes,function(e){e.nodeType===1&&t.push(e)}),t},contents:function(e){return e.childNodes||[]},append:function(e,t){r(new rt(t),function(t){e.nodeType===1&&e.appendChild(t)})},prepend:function(e,t){if(e.nodeType===1){var n=e.firstChild;r(new rt(t),function(t){n?e.insertBefore(t,n):(e.appendChild(t),n=t)})}},wrap:function(e,t){t=qn(t)[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:function(e){st(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var n=e,i=e.parentNode;r(new rt(t),function(e){i.insertBefore(e,n.nextSibling),n=e})},addClass:pt,removeClass:ht,toggleClass:function(e,t,n){m(n)&&(n=!dt(e,t)),(n?pt:ht)(e,t)},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},next:function(e){if(e.nextElementSibling)return e.nextElementSibling;for(var t=e.nextSibling;null!=t&&t.nodeType!==1;)t=t.nextSibling;return t},find:function(e,t){return e.getElementsByTagName(t)},clone:ot,triggerHandler:function(e,t){var n=(ct(e,"events")||{})[t];r(n,function(t){t.call(e,null)})}},function(e,t){rt.prototype[t]=function(t,i){for(var r,o=0;o<this.length;o++)r==n?(r=e(this[o],t,i),r!==n&&(r=qn(r))):ft(r,e(this[o],t,i));return r==n?this:r}}),wt.prototype={put:function(e,t){this[bt(e)]=t},get:function(e){return this[bt(e)]},remove:function(e){var t=this[e=bt(e)];return delete this[e],t}},xt.prototype={push:function(e,t){var n=this[e=bt(e)];n?n.push(t):this[e]=[t]},shift:function(e){var t=this[e=bt(e)];return t?t.length==1?(delete this[e],t[0]):t.shift():void 0},peek:function(e){var t=this[bt(e)];return t?t[0]:void 0}};var fi=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,mi=/,/,gi=/^\s*(_?)(\S+?)\1\s*$/,vi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,yi="Non-assignable model expression: ";Mt.$inject=["$provide"];var bi=/^(x[\:\-_]|data[\:\-_])/i,wi=/^([^:]+):\/\/(\w+:{0,1}\w*@)?(\{?[\w\.-]*\}?)(:([0-9]+))?(\/[^\?#]*)?(\?([^#]*))?(#(.*))?$/,xi=/^([^\?#]*)?(\?([^#]*))?(#(.*))?$/,ki=xi,$i={http:80,https:443,ftp:21};Ht.prototype={$$replace:!1,absUrl:Wt("$$absUrl"),url:function(e,t){if(m(e))return this.$$url;var n=xi.exec(e);return n[1]&&this.path(decodeURIComponent(n[1])),(n[2]||n[1])&&this.search(n[3]||""),this.hash(n[5]||"",t),this},protocol:Wt("$$protocol"),host:Wt("$$host"),port:Wt("$$port"),path:Vt("$$path",function(e){return e.charAt(0)=="/"?e:"/"+e}),search:function(e,t){return m(e)?this.$$search:(g(t)?null===t?delete this.$$search[e]:this.$$search[e]=t:this.$$search=y(e)?j(e):e,this.$$compose(),this)},hash:Vt("$$hash",p),replace:function(){return this.$$replace=!0,this}},Yt.prototype=d(Ht.prototype),jt.prototype=d(Yt.prototype);var Ci={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:h,"+":function(e,t,i,r){return i=i(e,t),r=r(e,t),g(i)?g(r)?i+r:i:g(r)?r:n},"-":function(e,t,n,i){return n=n(e,t),i=i(e,t),(g(n)?n:0)-(g(i)?i:0)},"*":function(e,t,n,i){return n(e,t)*i(e,t)},"/":function(e,t,n,i){return n(e,t)/i(e,t)},"%":function(e,t,n,i){return n(e,t)%i(e,t)},"^":function(e,t,n,i){return n(e,t)^i(e,t)},"=":h,"==":function(e,t,n,i){return n(e,t)==i(e,t)},"!=":function(e,t,n,i){return n(e,t)!=i(e,t)},"<":function(e,t,n,i){return n(e,t)<i(e,t)},">":function(e,t,n,i){return n(e,t)>i(e,t)},"<=":function(e,t,n,i){return n(e,t)<=i(e,t)},">=":function(e,t,n,i){return n(e,t)>=i(e,t)},"&&":function(e,t,n,i){return n(e,t)&&i(e,t)},"||":function(e,t,n,i){return n(e,t)||i(e,t)},"&":function(e,t,n,i){return n(e,t)&i(e,t)},"|":function(e,t,n,i){return i(e,t)(e,t,n(e,t))},"!":function(e,t,n){return!n(e,t)}},_i={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Ti={},Si=e.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw new Error("This browser does not support XMLHttpRequest.")};yn.$inject=["$provide"],wn.$inject=["$locale"],xn.$inject=["$locale"];var Di=".",Mi={yyyy:Cn("FullYear",4),yy:Cn("FullYear",2,0,!0),y:Cn("FullYear",1),MMMM:_n("Month"),MMM:_n("Month",!0),MM:Cn("Month",2,1),M:Cn("Month",1,1),dd:Cn("Date",2),d:Cn("Date",1),HH:Cn("Hours",2),H:Cn("Hours",1),hh:Cn("Hours",2,-12),h:Cn("Hours",1,-12),mm:Cn("Minutes",2),m:Cn("Minutes",1),ss:Cn("Seconds",2),s:Cn("Seconds",1),EEEE:_n("Day"),EEE:_n("Day",!0),a:Sn,Z:Tn},Ai=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Li=/^\d+$/;Dn.$inject=["$locale"];var Ei=f(Yn),Pi=f(jn);Ln.$inject=["$parse"];var Fi=f({restrict:"E",compile:function(e,n){return 8>=Kn&&(n.href||n.name||n.$set("href",""),e.append(t.createComment("IE fix"))),function(e,t){t.bind("click",function(e){t.attr("href")||e.preventDefault()})}}}),Oi={};r(hi,function(e,t){var n=At("ng-"+t);Oi[n]=function(){return{priority:100,compile:function(){return function(e,i,r){e.$watch(r[n],function(e){r.$set(t,!!e)})}}}}}),r(["src","href"],function(e){var t=At("ng-"+e);Oi[t]=function(){return{priority:99,link:function(n,i,r){r.$observe(t,function(t){t&&(r.$set(e,t),Kn&&i.prop(e,r[e]))})}}}});var Ni={$addControl:h,$removeControl:h,$setValidity:h,$setDirty:h};Pn.$inject=["$element","$attrs","$scope"];var Ii=function(e){return["$timeout",function(t){var i={name:"form",restrict:"E",controller:Pn,compile:function(){return{pre:function(e,i,r,o){if(!r.action){var s=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};ai(i[0],"submit",s),i.bind("$destroy",function(){t(function(){li(i[0],"submit",s)},0,!1)})}var a=i.parent().controller("form"),l=r.name||r.ngForm;l&&(e[l]=o),a&&i.bind("$destroy",function(){a.$removeControl(o),l&&(e[l]=n),c(o,Ni)})}}}};return e?c(E(i),{restrict:"EAC"}):i}]},zi=Ii(),Bi=Ii(!0),Ri=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Hi=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/,Yi=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,ji={text:On,number:Nn,url:In,email:zn,radio:Bn,checkbox:Rn,hidden:h,button:h,submit:h,reset:h},Wi=["$browser","$sniffer",function(e,t){return{restrict:"E",require:"?ngModel",link:function(n,i,r,o){o&&(ji[Yn(r.type)]||ji.text)(n,i,r,o,t,e)}}}],Vi="ng-valid",qi="ng-invalid",Ui="ng-pristine",Xi="ng-dirty",Gi=["$scope","$exceptionHandler","$attrs","$element","$parse",function(e,t,n,i,o){function s(e,t){t=t?"-"+G(t,"-"):"",i.removeClass((e?qi:Vi)+t).addClass((e?Vi:qi)+t)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var a=o(n.ngModel),l=a.assign;if(!l)throw Error(yi+n.ngModel+" ("+Y(i)+")");this.$render=h;var c=i.inheritedData("$formController")||Ni,u=0,d=this.$error={};i.addClass(Ui),s(!0),this.$setValidity=function(e,t){d[e]!==!t&&(t?(d[e]&&u--,u||(s(!0),this.$valid=!0,this.$invalid=!1)):(s(!1),this.$invalid=!0,this.$valid=!1,u++),d[e]=!t,s(t,e),c.$setValidity(e,t,this))},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,i.removeClass(Ui).addClass(Xi),c.$setDirty()),r(this.$parsers,function(e){n=e(n)}),this.$modelValue!==n&&(this.$modelValue=n,l(e,n),r(this.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}}))};var p=this;e.$watch(function(){var t=a(e);if(p.$modelValue!==t){var n=p.$formatters,i=n.length;for(p.$modelValue=t;i--;)t=n[i](t);p.$viewValue!==t&&(p.$viewValue=t,p.$render())}})}],Ki=function(){return{require:["ngModel","^?form"],controller:Gi,link:function(e,t,n,i){var r=i[0],o=i[1]||Ni;o.$addControl(r),t.bind("$destroy",function(){o.$removeControl(r)})}}},Zi=f({require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Qi=function(){return{require:"?ngModel",link:function(e,t,n,i){if(i){n.required=!0;var r=function(e){return n.required&&(Fn(e)||e===!1)?(i.$setValidity("required",!1),void 0):(i.$setValidity("required",!0),e)};i.$formatters.push(r),i.$parsers.unshift(r),n.$observe("required",function(){r(i.$viewValue)})}}}},Ji=function(){return{require:"ngModel",link:function(e,t,i,o){var s=/\/(.*)\//.exec(i.ngList),a=s&&new RegExp(s[1])||i.ngList||",",l=function(e){var t=[];return e&&r(e.split(a),function(e){e&&t.push(T(e))}),t};o.$parsers.push(l),o.$formatters.push(function(e){return x(e)?e.join(", "):n})}}},er=/^(true|false|\d+)$/,tr=function(){return{priority:100,compile:function(e,t){return er.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e,!1)})}}}},nr=En(function(e,t,i){t.addClass("ng-binding").data("$binding",i.ngBind),e.$watch(i.ngBind,function(e){t.text(e==n?"":e)})}),ir=["$interpolate",function(e){return function(t,n,i){var r=e(n.attr(i.$attr.ngBindTemplate));n.addClass("ng-binding").data("$binding",r),i.$observe("ngBindTemplate",function(e){n.text(e)})}}],rr=[function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.ngBindHtmlUnsafe),e.$watch(n.ngBindHtmlUnsafe,function(e){t.html(e||"")})}}],or=Hn("",!0),sr=Hn("Odd",0),ar=Hn("Even",1),lr=En({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),cr=[function(){return{scope:!0,controller:"@"}}],ur=["$sniffer",function(e){return{priority:1e3,compile:function(){e.csp=!0}}}],dr={};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave".split(" "),function(e){var t=At("ng-"+e);dr[t]=["$parse",function(n){return function(i,r,o){var s=n(o[t]);r.bind(Yn(e),function(e){i.$apply(function(){s(i,{$event:e})})})}}]});var hr=En(function(e,t,n){t.bind("submit",function(){e.$apply(n.ngSubmit)})}),pr=["$http","$templateCache","$anchorScroll","$compile",function(e,t,n,i){return{restrict:"ECA",terminal:!0,compile:function(r,o){var s=o.ngInclude||o.src,a=o.onload||"",l=o.autoscroll;return function(r,o){var c,u=0,d=function(){c&&(c.$destroy(),c=null),o.html("")};r.$watch(s,function(s){var h=++u;s?e.get(s,{cache:t}).success(function(e){h===u&&(c&&c.$destroy(),c=r.$new(),o.html(e),i(o.contents())(c),!g(l)||l&&!r.$eval(l)||n(),c.$emit("$includeContentLoaded"),r.$eval(a))}).error(function(){h===u&&d()}):d()})}}}}],fr=En({compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),mr=En({terminal:!0,priority:1e3}),gr=["$locale","$interpolate",function(e,t){var n=/{}/g;return{restrict:"EA",link:function(i,o,s){var a=s.count,l=o.attr(s.$attr.when),c=s.offset||0,u=i.$eval(l),d={},h=t.startSymbol(),p=t.endSymbol();r(u,function(e,i){d[i]=t(e.replace(n,h+a+"-"+c+p))}),i.$watch(function(){var t=parseFloat(i.$eval(a));return isNaN(t)?"":(u[t]||(t=e.pluralCat(t-c)),d[t](i,o,!0))},function(e){o.text(e)})}}}],vr=En({transclude:"element",priority:1e3,terminal:!0,compile:function(e,t,n){return function(e,t,i){var r,o,s,a,l=i.ngRepeat,c=l.match(/^\s*(.+)\s+in\s+(.*)\s*$/);if(!c)throw Error("Expected ngRepeat in form of '_item_ in _collection_' but got '"+l+"'.");if(r=c[1],o=c[2],c=r.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!c)throw Error("'item' in 'item in collection' should be identifier or (key, value) but got '"+r+"'.");s=c[3]||c[1],a=c[2];var u=new xt;e.$watch(function(e){var i,r,l,c,d,h,p,f,m=e.$eval(o),g=t,v=new xt;if(x(m))p=m||[];else{p=[];for(d in m)m.hasOwnProperty(d)&&d.charAt(0)!="$"&&p.push(d);p.sort()}for(l=p.length-1,i=0,r=p.length;r>i;i++)d=m===p?i:p[i],h=m[d],f=u.shift(h),f?(c=f.scope,v.push(h,f),i===f.index?g=f.element:(f.index=i,g.after(f.element),g=f.element)):c=e.$new(),c[s]=h,a&&(c[a]=d),c.$index=i,c.$first=0===i,c.$last=i===l,c.$middle=!(c.$first||c.$last),f||n(c,function(e){g.after(e),f={scope:c,element:g=e,index:i},v.push(h,f)});for(d in u)if(u.hasOwnProperty(d))for(p=u[d];p.length;)h=p.pop(),h.element.remove(),h.scope.$destroy();u=v})}}}),yr=En(function(e,t,n){e.$watch(n.ngShow,function(e){t.css("display",H(e)?"":"none")})}),br=En(function(e,t,n){e.$watch(n.ngHide,function(e){t.css("display",H(e)?"none":"")})}),wr=En(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&r(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),xr=f({restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(e,t,n,i){var r,o,s,a=n.ngSwitch||n.on;e.$watch(a,function(a){o&&(s.$destroy(),o.remove(),o=s=null),(r=i.cases["!"+a]||i.cases["?"])&&(e.$eval(n.change),s=e.$new(),r(s,function(e){o=e,t.append(e)}))})}}),kr=En({transclude:"element",priority:500,require:"^ngSwitch",compile:function(e,t,n){return function(e,i,r,o){o.cases["!"+t.ngSwitchWhen]=n}}}),$r=En({transclude:"element",priority:500,require:"^ngSwitch",compile:function(e,t,n){return function(e,t,i,r){r.cases["?"]=n}}}),Cr=En({controller:["$transclude","$element",function(e,t){e(function(e){t.append(e)})}]}),_r=["$http","$templateCache","$route","$anchorScroll","$compile","$controller",function(e,t,n,i,r,o){return{restrict:"ECA",terminal:!0,link:function(e,t,s){function a(){u&&(u.$destroy(),u=null)}function l(){t.html(""),a()}function c(){var s=n.current&&n.current.locals,c=s&&s.$template;if(c){t.html(c),a();var h,p=r(t.contents()),f=n.current;u=f.scope=e.$new(),f.controller&&(s.$scope=u,h=o(f.controller,s),t.children().data("$ngControllerController",h)),p(u),u.$emit("$viewContentLoaded"),u.$eval(d),i()}else l()}var u,d=s.onload||"";e.$on("$routeChangeSuccess",c),c()}}}],Tr=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if(n.type=="text/ng-template"){var i=n.id,r=t[0].text;e.put(i,r)}}}}],Sr=f({terminal:!0}),Dr=["$compile","$parse",function(e,i){var s=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))\s+in\s+(.*)$/,a={$setViewValue:h};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var i,r,o=this,s={},l=a;o.databound=n.ngModel,o.init=function(e,t,n){l=e,i=t,r=n},o.addOption=function(t){s[t]=!0,l.$viewValue==t&&(e.val(t),r.parent()&&r.remove())},o.removeOption=function(e){this.hasOption(e)&&(delete s[e],l.$viewValue==e&&this.renderUnknownOption(e))},o.renderUnknownOption=function(t){var n="? "+bt(t)+" ?";r.val(n),e.prepend(r),e.val(n),r.prop("selected",!0)},o.hasOption=function(e){return s.hasOwnProperty(e)},t.$on("$destroy",function(){o.renderUnknownOption=h})}],link:function(a,l,c,u){function d(e,t,n,i){n.$render=function(){var e=n.$viewValue;i.hasOption(e)?(C.parent()&&C.remove(),t.val(e),""===e&&f.prop("selected",!0)):m(e)&&f?t.val(""):i.renderUnknownOption(e)},t.bind("change",function(){e.$apply(function(){C.parent()&&C.remove(),n.$setViewValue(t.val())})})}function h(e,t,n){var i;n.$render=function(){var e=new wt(n.$viewValue);r(t.find("option"),function(t){t.selected=g(e.get(t.value))})},e.$watch(function(){F(i,n.$viewValue)||(i=E(n.$viewValue),n.$render())}),t.bind("change",function(){e.$apply(function(){var e=[];r(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function p(t,r,a){function l(){var e,i,s,l,c,v,y,w,C,_,T,S,D,M,A={"":[]},L=[""],E=a.$modelValue,P=m(t)||[],F=h?o(P):P,O={},N=!1;for(b?N=new wt(E):(null===E||x)&&(A[""].push({selected:null===E,id:"",label:""}),N=!0),_=0;w=F.length,w>_;_++)O[d]=P[h?O[h]=F[_]:_],e=p(t,O)||"",(i=A[e])||(i=A[e]=[],L.push(e)),b?T=N.remove(f(t,O))!=n:(T=E===f(t,O),N=N||T),M=u(t,O),M=M===n?"":M,i.push({id:h?F[_]:_,label:M,selected:T});for(b||N||A[""].unshift({id:"?",label:"",selected:!0}),C=0,y=L.length;y>C;C++){for(e=L[C],i=A[e],g.length<=C?(l={element:$.clone().attr("label",e),label:i.label},c=[l],g.push(c),r.append(l.element)):(c=g[C],l=c[0],l.label!=e&&l.element.attr("label",l.label=e)),S=null,_=0,w=i.length;w>_;_++)s=i[_],(v=c[_+1])?(S=v.element,v.label!==s.label&&S.text(v.label=s.label),v.id!==s.id&&S.val(v.id=s.id),v.element.selected!==s.selected&&S.prop("selected",v.selected=s.selected)):(s.id===""&&x?D=x:(D=k.clone()).val(s.id).attr("selected",s.selected).text(s.label),c.push(v={element:D,label:s.label,id:s.id,selected:s.selected}),S?S.after(D):l.element.append(D),S=D);for(_++;c.length>_;)c.pop().element.remove()}for(;g.length>C;)g.pop()[0].element.remove()}var c;if(!(c=w.match(s)))throw Error("Expected ngOptions in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '"+w+"'.");
var u=i(c[2]||c[1]),d=c[4]||c[6],h=c[5],p=i(c[3]||""),f=i(c[2]?c[1]:d),m=i(c[7]),g=[[{element:r,label:""}]];x&&(e(x)(t),x.removeClass("ng-scope"),x.remove()),r.html(""),r.bind("change",function(){t.$apply(function(){var e,i,o,s,l,c,u,p,v=m(t)||[],y={};if(b)for(o=[],c=0,p=g.length;p>c;c++)for(e=g[c],l=1,u=e.length;u>l;l++)(s=e[l].element)[0].selected&&(i=s.val(),h&&(y[h]=i),y[d]=v[i],o.push(f(t,y)));else i=r.val(),"?"==i?o=n:""==i?o=null:(y[d]=v[i],h&&(y[h]=i),o=f(t,y));a.$setViewValue(o)})}),a.$render=l,t.$watch(l)}if(u[1]){for(var f,v=u[0],y=u[1],b=c.multiple,w=c.ngOptions,x=!1,k=qn(t.createElement("option")),$=qn(t.createElement("optgroup")),C=k.clone(),_=0,T=l.children(),S=T.length;S>_;_++)if(T[_].value==""){f=x=T.eq(_);break}if(v.init(y,x,C),b&&(c.required||c.ngRequired)){var D=function(e){return y.$setValidity("required",!c.required||e&&e.length),e};y.$parsers.push(D),y.$formatters.unshift(D),c.$observe("required",function(){D(y.$viewValue)})}w?p(a,l,y):b?h(a,l,y):d(a,l,y,v)}}}}],Mr=["$interpolate",function(e){var t={addOption:h,removeOption:h};return{restrict:"E",priority:100,compile:function(n,i){if(m(i.value)){var r=e(n.text(),!0);r||i.$set("value",n.text())}return function(e,n,i){var o="$selectController",s=n.parent(),a=s.data(o)||s.parent().data(o);a&&a.databound?n.prop("selected",!1):a=t,r?e.$watch(r,function(e,t){i.$set("value",e),e!==t&&a.removeOption(t),a.addOption(e)}):a.addOption(i.value),n.bind("$destroy",function(){a.removeOption(i.value)})}}}}],Ar=f({restrict:"E",terminal:!0});K(),et(ei),qn(t).ready(function(){U(t,X)})}(window,document),angular.element(document).find("head").append('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak{display:none;}ng\\:form{display:block;}</style>'),function(){function e(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e}function t(){var e,t=arguments.length,n={},i=function(e,t){var n,r;"object"!=typeof e&&(e={});for(r in t)t.hasOwnProperty(r)&&(n=t[r],e[r]=n&&"object"==typeof n&&Object.prototype.toString.call(n)!=="[object Array]"&&typeof n.nodeType!="number"?i(e[r]||{},n):t[r]);return e};for(e=0;t>e;e++)n=i(n,arguments[e]);return n}function n(e,t){return parseInt(e,t||10)}function i(e){return"string"==typeof e}function r(e){return"object"==typeof e}function o(e){return Object.prototype.toString.call(e)==="[object Array]"}function s(e){return"number"==typeof e}function a(e){return ht.log(e)/ht.LN10}function l(e){return ht.pow(10,e)}function c(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}}function u(e){return e!==W&&null!==e}function d(e,t,n){var o,s;if(i(t))u(n)?e.setAttribute(t,n):e&&e.getAttribute&&(s=e.getAttribute(t));else if(u(t)&&r(t))for(o in t)e.setAttribute(o,t[o]);return s}function h(e){return o(e)?e:[e]}function p(){var e,t,n=arguments,i=n.length;for(e=0;i>e;e++)if(t=n[e],"undefined"!=typeof t&&null!==t)return t}function f(t,n){_t&&n&&n.opacity!==W&&(n.filter="alpha(opacity="+n.opacity*100+")"),e(t.style,n)}function m(t,n,i,r,o){return t=ut.createElement(t),n&&e(t,n),o&&f(t,{padding:0,border:Rt,margin:0}),i&&f(t,i),r&&r.appendChild(t),t}function g(t,n){var i=function(){};return i.prototype=new t,e(i.prototype,n),i}function v(e,t,i,r){var o=U.lang,e=+e||0,s=-1===t?(e.toString().split(".")[1]||"").length:isNaN(t=yt(t))?2:t,t=void 0===i?o.decimalPoint:i,r=void 0===r?o.thousandsSep:r,o=0>e?"-":"",i=String(n(e=yt(e).toFixed(s))),a=i.length>3?i.length%3:0;return o+(a?i.substr(0,a)+r:"")+i.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+r)+(s?t+yt(e-i).toFixed(s).slice(2):"")}function y(e,t){return Array((t||2)+1-String(e).length).join(0)+e}function b(e,t,n){var i=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(i),n.apply(this,e)}}function w(e,t){for(var n,i,r,o,s,a="{",l=!1,c=[];(a=e.indexOf(a))!==-1;){if(n=e.slice(0,a),l){for(i=n.split(":"),r=i.shift().split("."),s=r.length,n=t,o=0;s>o;o++)n=n[r[o]];i.length&&(i=i.join(":"),r=/\.([0-9])/,o=U.lang,s=void 0,/f$/.test(i)?(s=(s=i.match(r))?s[1]:-1,n=v(n,s,o.decimalPoint,i.indexOf(",")>-1?o.thousandsSep:"")):n=X(i,n))}c.push(n),e=e.slice(a+1),a=(l=!l)?"}":"{"}return c.push(e),c.join("")}function x(e){return ht.pow(10,ft(ht.log(e)/ht.LN10))}function k(e,t,n,i){var r,n=p(n,1);for(r=e/n,t||(t=[1,2,2.5,5,10],i&&i.allowDecimals===!1&&(1===n?t=[1,2,5,10]:.1>=n&&(t=[1/n]))),i=0;i<t.length&&(e=t[i],!(r<=(t[i]+(t[i+1]||t[i]))/2));i++);return e*=n}function $(e,t){var n,i=t||[[Yt,[1,2,5,10,20,25,50,100,200,500]],[jt,[1,2,5,10,15,30]],[Wt,[1,2,5,10,15,30]],[Vt,[1,2,3,4,6,8,12]],[qt,[1,2]],[Ut,[1,2]],[Xt,[1,2,3,4,6]],[Gt,null]],r=i[i.length-1],o=Z[r[0]],s=r[1];for(n=0;n<i.length&&(r=i[n],o=Z[r[0]],s=r[1],!(i[n+1]&&e<=(o*s[s.length-1]+Z[i[n+1][0]])/2));n++);return o===Z[Gt]&&5*o>e&&(s=[1,2,5]),o===Z[Gt]&&5*o>e&&(s=[1,2,5]),i=k(e/o,s,r[0]===Gt?x(e/o):1),{unitRange:o,count:i,unitName:r[0]}}function C(t,n,i,r){var o,s=[],a={},l=U.global.useUTC,c=new Date(n),d=t.unitRange,h=t.count;if(u(n)){d>=Z[jt]&&(c.setMilliseconds(0),c.setSeconds(d>=Z[Wt]?0:h*ft(c.getSeconds()/h))),d>=Z[Wt]&&c[ot](d>=Z[Vt]?0:h*ft(c[J]()/h)),d>=Z[Vt]&&c[st](d>=Z[qt]?0:h*ft(c[et]()/h)),d>=Z[qt]&&c[at](d>=Z[Xt]?1:h*ft(c[nt]()/h)),d>=Z[Xt]&&(c[lt](d>=Z[Gt]?0:h*ft(c[it]()/h)),o=c[rt]()),d>=Z[Gt]&&(o-=o%h,c[ct](o)),d===Z[Ut]&&c[at](c[nt]()-c[tt]()+p(r,1)),n=1,o=c[rt]();for(var r=c.getTime(),f=c[it](),m=c[nt](),g=l?0:(864e5+c.getTimezoneOffset()*6e4)%864e5;i>r;)s.push(r),d===Z[Gt]?r=Q(o+n*h,0):d===Z[Xt]?r=Q(o,f+n*h):l||d!==Z[qt]&&d!==Z[Ut]?r+=d*h:r=Q(o,f,m+n*h*(d===Z[qt]?1:7)),n++;s.push(r),rn(on(s,function(e){return d<=Z[Vt]&&e%Z[qt]===g}),function(e){a[e]=qt})}return s.info=e(t,{higherRanks:a,totalRange:d*h}),s}function _(){this.symbol=this.color=0}function T(e,t){var n,i,r=e.length;for(i=0;r>i;i++)e[i].ss_i=i;for(e.sort(function(e,i){return n=t(e,i),0===n?e.ss_i-i.ss_i:n}),i=0;r>i;i++)delete e[i].ss_i}function S(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n}function D(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n}function M(e,t){for(var n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function A(e){q||(q=m(Bt)),e&&q.appendChild(e),q.innerHTML=""}function L(e,t){var n="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw n;dt.console&&console.log(n)}function E(e){return parseFloat(e.toPrecision(14))}function P(e,t){G=p(e,t.animation)}function F(){var e=U.global.useUTC,t=e?"getUTC":"get",n=e?"setUTC":"set";Q=e?Date.UTC:function(e,t,n,i,r,o){return new Date(e,t,p(n,1),p(i,0),p(r,0),p(o,0)).getTime()},J=t+"Minutes",et=t+"Hours",tt=t+"Day",nt=t+"Date",it=t+"Month",rt=t+"FullYear",ot=n+"Minutes",st=n+"Hours",at=n+"Date",lt=n+"Month",ct=n+"FullYear"}function O(){}function N(e,t,n,i){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,!n&&!i&&this.addLabel()}function I(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)}function z(e,t,n,i,r,o){var s=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=i,this.total=0,this.points={},this.stack=r,this.percent="percent"===o,this.alignOptions={align:t.align||(s?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(s?"middle":n?"bottom":"top"),y:p(t.y,s?4:n?14:-6),x:p(t.x,s?n?-6:6:0)},this.textAlign=t.textAlign||(s?n?"right":"left":"center")}function B(){this.init.apply(this,arguments)}function R(){this.init.apply(this,arguments)}function H(e,t){this.init(e,t)}function Y(e,t){this.init(e,t)}function j(){this.init.apply(this,arguments)}var W,V,q,U,X,G,K,Z,Q,J,et,tt,nt,it,rt,ot,st,at,lt,ct,ut=document,dt=window,ht=Math,pt=ht.round,ft=ht.floor,mt=ht.ceil,gt=ht.max,vt=ht.min,yt=ht.abs,bt=ht.cos,wt=ht.sin,xt=ht.PI,kt=2*xt/360,$t=navigator.userAgent,Ct=dt.opera,_t=/msie/i.test($t)&&!Ct,Tt=ut.documentMode===8,St=/AppleWebKit/.test($t),Dt=/Firefox/.test($t),Mt=/(Mobile|Android|Windows Phone)/.test($t),At="http://www.w3.org/2000/svg",Lt=!!ut.createElementNS&&!!ut.createElementNS(At,"svg").createSVGRect,Et=Dt&&parseInt($t.split("Firefox/")[1],10)<4,Pt=!Lt&&!_t&&!!ut.createElement("canvas").getContext,Ft=ut.documentElement.ontouchstart!==W,Ot={},Nt=0,It=function(){},zt=[],Bt="div",Rt="none",Ht="rgba(192,192,192,"+(Lt?1e-4:.002)+")",Yt="millisecond",jt="second",Wt="minute",Vt="hour",qt="day",Ut="week",Xt="month",Gt="year",Kt="stroke-width",Zt={};dt.Highcharts=dt.Highcharts?L(16,!0):{},X=function(t,n,i){if(!u(n)||isNaN(n))return"Invalid date";var r,t=p(t,"%Y-%m-%d %H:%M:%S"),o=new Date(n),s=o[et](),a=o[tt](),l=o[nt](),c=o[it](),d=o[rt](),h=U.lang,f=h.weekdays,o=e({a:f[a].substr(0,3),A:f[a],d:y(l),e:l,b:h.shortMonths[c],B:h.months[c],m:y(c+1),y:d.toString().substr(2,2),Y:d,H:y(s),I:y(s%12||12),l:s%12||12,M:y(o[J]()),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:y(o.getSeconds()),L:y(pt(n%1e3),3)},Highcharts.dateFormats);for(r in o)for(;t.indexOf("%"+r)!==-1;)t=t.replace("%"+r,typeof o[r]=="function"?o[r](n):o[r]);return i?t.substr(0,1).toUpperCase()+t.substr(1):t},_.prototype={wrapColor:function(e){this.color>=e&&(this.color=0)},wrapSymbol:function(e){this.symbol>=e&&(this.symbol=0)}},Z=function(){for(var e=0,t=arguments,n=t.length,i={};n>e;e++)i[t[e++]]=t[e];return i}(Yt,1,jt,1e3,Wt,6e4,Vt,36e5,qt,864e5,Ut,6048e5,Xt,26784e5,Gt,31556952e3),K={init:function(e,t,n){var i,r,o,t=t||"",s=e.shift,a=t.indexOf("C")>-1,l=a?7:3,t=t.split(" "),n=[].concat(n),c=function(e){for(i=e.length;i--;)e[i]==="M"&&e.splice(i+1,0,e[i+1],e[i+2],e[i+1],e[i+2])};if(a&&(c(t),c(n)),e.isArea&&(r=t.splice(t.length-6,6),o=n.splice(n.length-6,6)),s<=n.length/l)for(;s--;)n=[].concat(n).splice(0,l).concat(n);if(e.shift=0,t.length)for(e=n.length;t.length<e;)s=[].concat(t).splice(t.length-l,l),a&&(s[l-6]=s[l-2],s[l-5]=s[l-1]),t=t.concat(s);return r&&(t=t.concat(r),n=n.concat(o)),[t,n]},step:function(e,t,n,i){var r=[],o=e.length;if(1===n)r=i;else if(o===t.length&&1>n)for(;o--;)i=parseFloat(e[o]),r[o]=isNaN(i)?e[o]:n*parseFloat(t[o]-i)+i;else r=t;return r}},function(t){dt.HighchartsAdapter=dt.HighchartsAdapter||t&&{init:function(e){var n,r=t.fx,o=r.step,s=t.Tween,a=s&&s.propHooks;n=t.cssHooks.opacity,t.extend(t.easing,{easeOutQuad:function(e,t,n,i,r){return-i*(t/=r)*(t-2)+n}}),t.each(["cur","_default","width","height","opacity"],function(e,t){var n,i,l=o;"cur"===t?l=r.prototype:"_default"===t&&s&&(l=a[t],t="set"),(n=l[t])&&(l[t]=function(r){return r=e?r:this,i=r.elem,i.attr?i.attr(r.prop,"cur"===t?W:r.now):n.apply(this,arguments)})}),b(n,"get",function(e,t,n){return t.attr?t.opacity||0:e.call(this,t,n)}),n=function(t){var n,i=t.elem;t.started||(n=e.init(i,i.d,i.toD),t.start=n[0],t.end=n[1],t.started=!0),i.attr("d",e.step(t.start,t.end,t.pos,i.toD))},s?a.d={set:n}:o.d=n,this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){for(var n=0,i=e.length;i>n;n++)if(t.call(e[n],e[n],n,e)===!1)return n},t.fn.highcharts=function(){var e,t,n="Chart",r=arguments;return i(r[0])&&(n=r[0],r=Array.prototype.slice.call(r,1)),e=r[0],e!==W&&(e.chart=e.chart||{},e.chart.renderTo=this[0],new Highcharts[n](e,r[1]),t=this),e===W&&(t=zt[d(this[0],"data-highcharts-chart")]),t}},getScript:t.getScript,inArray:t.inArray,adapterRun:function(e,n){return t(e)[n]()},grep:t.grep,map:function(e,t){for(var n=[],i=0,r=e.length;r>i;i++)n[i]=t.call(e[i],e[i],i,e);return n},offset:function(e){return t(e).offset()},addEvent:function(e,n,i){t(e).bind(n,i)},removeEvent:function(e,n,i){var r=ut.removeEventListener?"removeEventListener":"detachEvent";ut[r]&&e&&!e[r]&&(e[r]=function(){}),t(e).unbind(n,i)},fireEvent:function(n,i,r,o){var s,a=t.Event(i),l="detached"+i;!_t&&r&&(delete r.layerX,delete r.layerY),e(a,r),n[i]&&(n[l]=n[i],n[i]=null),t.each(["preventDefault","stopPropagation"],function(e,t){var n=a[t];a[t]=function(){try{n.call(a)}catch(e){"preventDefault"===t&&(s=!0)}}}),t(n).trigger(a),n[l]&&(n[i]=n[l],n[l]=null),o&&!a.isDefaultPrevented()&&!s&&o(a)},washMouseEvent:function(e){var t=e.originalEvent||e;return t.pageX===W&&(t.pageX=e.pageX,t.pageY=e.pageY),t},animate:function(e,n,i){var r=t(e);e.style||(e.style={}),n.d&&(e.toD=n.d,n.d=1),r.stop(),r.animate(n,i)},stop:function(e){t(e).stop()}}}(dt.jQuery);var Qt=dt.HighchartsAdapter,Jt=Qt||{};Qt&&Qt.init.call(Qt,K);var en=Jt.adapterRun,tn=Jt.getScript,nn=Jt.inArray,rn=Jt.each,on=Jt.grep,sn=Jt.offset,an=Jt.map,ln=Jt.addEvent,cn=Jt.removeEvent,un=Jt.fireEvent,dn=Jt.washMouseEvent,hn=Jt.animate,pn=Jt.stop,Jt={enabled:!0,x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"}};U={colors:"#2f7ed8,#0d233a,#8bbc21,#910000,#1aadce,#492970,#f28f43,#77a1e5,#c42525,#a6c96a".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/3.0.4/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/3.0.4/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:t(Jt,{align:"center",enabled:!1,formatter:function(){return this.y===null?"":v(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Lt,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:Mt?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var fn=U.plotOptions,Qt=fn.line;F();var mn=function(e){var i,r,o=[];return function(e){e&&e.stops?r=an(e.stops,function(e){return mn(e[1])}):(i=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(e))?o=[n(i[1]),n(i[2]),n(i[3]),parseFloat(i[4],10)]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))?o=[n(i[1],16),n(i[2],16),n(i[3],16),1]:(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))&&(o=[n(i[1]),n(i[2]),n(i[3]),1])}(e),{get:function(n){var i;return r?(i=t(e),i.stops=[].concat(i.stops),rn(r,function(e,t){i.stops[t]=[i.stops[t][0],e.get(n)]})):i=o&&!isNaN(o[0])?"rgb"===n?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===n?o[3]:"rgba("+o.join(",")+")":e,i},brighten:function(e){if(r)rn(r,function(t){t.brighten(e)});else if(s(e)&&0!==e){var t;for(t=0;3>t;t++)o[t]+=n(255*e),o[t]<0&&(o[t]=0),o[t]>255&&(o[t]=255)}return this},rgba:o,setOpacity:function(e){return o[3]=e,this}}};O.prototype={init:function(e,t){this.element="span"===t?m(t):ut.createElementNS(At,t),this.renderer=e,this.attrSetters={}},opacity:1,animate:function(e,n,i){n=p(n,G,!0),pn(this),n?(n=t(n),i&&(n.complete=i),hn(this,e,n)):(this.attr(e),i&&i())},attr:function(e,t){var r,o,s,a,l,c,h,f=this.element,m=f.nodeName.toLowerCase(),g=this.renderer,v=this.attrSetters,y=this.shadows,b=this;if(i(e)&&u(t)&&(r=e,e={},e[r]=t),i(e))r=e,"circle"===m?r={x:"cx",y:"cy"}[r]||r:"strokeWidth"===r&&(r="stroke-width"),b=d(f,r)||this[r]||0,"d"!==r&&"visibility"!==r&&(b=parseFloat(b));else{for(r in e)if(l=!1,o=e[r],s=v[r]&&v[r].call(this,o,r),s!==!1){if(s!==W&&(o=s),"d"===r)o&&o.join&&(o=o.join(" ")),/(NaN| {2}|^$)/.test(o)&&(o="M 0 0");else if("x"===r&&"text"===m)for(s=0;s<f.childNodes.length;s++)a=f.childNodes[s],d(a,"x")===d(f,"x")&&d(a,"x",o);else if(!this.rotation||"x"!==r&&"y"!==r)if("fill"===r)o=g.color(o,f,r);else if("circle"!==m||"x"!==r&&"y"!==r)if("rect"===m&&"r"===r)d(f,{rx:o,ry:o}),l=!0;else if("translateX"===r||"translateY"===r||"rotation"===r||"verticalAlign"===r||"scaleX"===r||"scaleY"===r)l=h=!0;else if("stroke"===r)o=g.color(o,f,r);else if("dashstyle"===r){if(r="stroke-dasharray",o=o&&o.toLowerCase(),"solid"===o)o=Rt;else if(o){for(o=o.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),s=o.length;s--;)o[s]=n(o[s])*p(e["stroke-width"],this["stroke-width"]);o=o.join(",")}}else"width"===r?o=n(o):"align"===r?(r="text-anchor",o={left:"start",center:"middle",right:"end"}[o]):"title"===r&&(s=f.getElementsByTagName("title")[0],s||(s=ut.createElementNS(At,"title"),f.appendChild(s)),s.textContent=o);else r={x:"cx",y:"cy"}[r]||r;else h=!0;if("strokeWidth"===r&&(r="stroke-width"),("stroke-width"===r||"stroke"===r)&&(this[r]=o,this.stroke&&this["stroke-width"]?(d(f,"stroke",this.stroke),d(f,"stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===r&&0===o&&this.hasStroke&&(f.removeAttribute("stroke"),this.hasStroke=!1),l=!0),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(r)&&(c||(this.symbolAttr(e),c=!0),l=!0),y&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(r))for(s=y.length;s--;)d(y[s],r,"height"===r?gt(o-(y[s].cutHeight||0),0):o);("width"===r||"height"===r)&&"rect"===m&&0>o&&(o=0),this[r]=o,"text"===r?(o!==this.textStr&&delete this.bBox,this.textStr=o,this.added&&g.buildText(this)):l||d(f,r,o)}h&&this.updateTransform()}return b},addClass:function(e){var t=this.element,n=d(t,"class")||"";return n.indexOf(e)===-1&&d(t,"class",n+" "+e),this},symbolAttr:function(e){var t=this;rn("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(n){t[n]=p(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":Rt)},crisp:function(e,t,n,i,r){var o,s,a={},l={},e=e||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;s=pt(e)%2/2,l.x=ft(t||this.x||0)+s,l.y=ft(n||this.y||0)+s,l.width=ft((i||this.width||0)-2*s),l.height=ft((r||this.height||0)-2*s),l.strokeWidth=e;for(o in l)this[o]!==l[o]&&(this[o]=a[o]=l[o]);return a},css:function(t){var n,i=this.element,r=t&&t.width&&i.nodeName.toLowerCase()==="text",o="",s=function(e,t){return"-"+t.toLowerCase()};if(t&&t.color&&(t.fill=t.color),this.styles=t=e(this.styles,t),Pt&&r&&delete t.width,_t&&!Lt)r&&delete t.width,f(this.element,t);else{for(n in t)o+=n.replace(/([A-Z])/g,s)+":"+t[n]+";";d(i,"style",o)}return r&&this.added&&this.renderer.buildText(this),this},on:function(e,t){var n=this.element;return Ft&&"click"===e&&(n.ontouchstart=function(e){e.preventDefault(),t.call(n,e)}),n["on"+e]=t,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},htmlCss:function(t){var n=this.element;return(n=t&&n.tagName==="SPAN"&&t.width)&&(delete t.width,this.textWidth=n,this.updateTransform()),this.styles=e(this.styles,t),f(this.element,t),this},htmlGetBBox:function(){var e=this.element,t=this.bBox;return t||(e.nodeName==="text"&&(e.style.position="absolute"),t=this.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),t},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,i=this.translateX||0,r=this.translateY||0,o=this.x||0,s=this.y||0,a=this.textAlign||"left",l={left:0,center:.5,right:1}[a],c=a&&"left"!==a,d=this.shadows;if(f(t,{marginLeft:i,marginTop:r}),d&&rn(d,function(e){f(e,{marginLeft:i+1,marginTop:r+1})}),this.inverted&&rn(t.childNodes,function(n){e.invertChild(n,t)}),t.tagName==="SPAN"){var h,m,g,d=this.rotation;h=0;var v,y=1,b=0;g=n(this.textWidth);var w=this.xCorr||0,x=this.yCorr||0,k=[d,a,t.innerHTML,this.textWidth].join(",");k!==this.cTT&&(u(d)&&(h=d*kt,y=bt(h),b=wt(h),this.setSpanRotation(d,b,y)),h=p(this.elemWidth,t.offsetWidth),m=p(this.elemHeight,t.offsetHeight),h>g&&/[ \-]/.test(t.textContent||t.innerText)&&(f(t,{width:g+"px",display:"block",whiteSpace:"normal"}),h=g),g=e.fontMetrics(t.style.fontSize).b,w=0>y&&-h,x=0>b&&-m,v=0>y*b,w+=b*g*(v?1-l:l),x-=y*g*(d?v?l:1-l:1),c&&(w-=h*l*(0>y?-1:1),d&&(x-=m*l*(0>b?-1:1)),f(t,{textAlign:a})),this.xCorr=w,this.yCorr=x),f(t,{left:o+w+"px",top:s+x+"px"}),St&&(m=t.offsetHeight),this.cTT=k}}else this.alignOnAdd=!0},setSpanRotation:function(e){var t={};t[_t?"-ms-transform":St?"-webkit-transform":Dt?"MozTransform":Ct?"-o-transform":""]=t.transform="rotate("+e+"deg)",f(this.element,t)},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,n=this.scaleX,i=this.scaleY,r=this.inverted,o=this.rotation;r&&(e+=this.attr("width"),t+=this.attr("height")),e=["translate("+e+","+t+")"],r?e.push("rotate(90) scale(-1,1)"):o&&e.push("rotate("+o+" "+(this.x||0)+" "+(this.y||0)+")"),(u(n)||u(i))&&e.push("scale("+p(n,1)+" "+p(i,1)+")"),e.length&&d(this.element,"transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){var r,o,s,a,l={};return o=this.renderer,s=o.alignedObjects,e?(this.alignOptions=e,this.alignByTranslate=t,(!n||i(n))&&(this.alignTo=r=n||"renderer",c(s,this),s.push(this),n=null)):(e=this.alignOptions,t=this.alignByTranslate,r=this.alignTo),n=p(n,o[r],o),r=e.align,o=e.verticalAlign,s=(n.x||0)+(e.x||0),a=(n.y||0)+(e.y||0),("right"===r||"center"===r)&&(s+=(n.width-(e.width||0))/{right:1,center:2}[r]),l[t?"translateX":"x"]=pt(s),("bottom"===o||"middle"===o)&&(a+=(n.height-(e.height||0))/({bottom:1,middle:2}[o]||1)),l[t?"translateY":"y"]=pt(a),this[this.placed?"animate":"attr"](l),this.placed=!0,this.alignAttr=l,this},getBBox:function(){var t,n=this.bBox,i=this.renderer,r=this.rotation;t=this.element;var o=this.styles,s=r*kt;if(!n){if(t.namespaceURI===At||i.forExport){try{n=t.getBBox?e({},t.getBBox()):{width:t.offsetWidth,height:t.offsetHeight}}catch(a){}(!n||n.width<0)&&(n={width:0,height:0})}else n=this.htmlGetBBox();i.isSVG&&(i=n.width,t=n.height,_t&&o&&o.fontSize==="11px"&&t.toPrecision(3)==="22.7"&&(n.height=t=14),r&&(n.width=yt(t*wt(s))+yt(i*bt(s)),n.height=yt(t*bt(s))+yt(i*wt(s)))),this.bBox=n}return n},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.hide()}})},add:function(e){var t,i=this.renderer,r=e||i,o=r.element||i.box,s=o.childNodes,a=this.element,l=d(a,"zIndex");if(e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,this.textStr!==void 0&&i.buildText(this),l&&(r.handleZ=!0,l=n(l)),r.handleZ)for(r=0;r<s.length;r++)if(e=s[r],i=d(e,"zIndex"),e!==a&&(n(i)>l||!u(l)&&u(i))){o.insertBefore(a,e),t=!0;break}return t||o.appendChild(a),this.added=!0,un(this,"add"),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e,t,n=this,i=n.element||{},r=n.shadows,o=n.renderer.isSVG&&i.nodeName==="SPAN"&&i.parentNode;if(i.onclick=i.onmouseout=i.onmouseover=i.onmousemove=i.point=null,pn(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(t=0;t<n.stops.length;t++)n.stops[t]=n.stops[t].destroy();n.stops=null}for(n.safeRemoveChild(i),r&&rn(r,function(e){n.safeRemoveChild(e)});o&&o.childNodes.length===0;)i=o.parentNode,n.safeRemoveChild(o),o=i;n.alignTo&&c(n.renderer.alignedObjects,n);for(e in n)delete n[e];return null},shadow:function(e,t,n){var i,r,o,s,a,l,c=[],u=this.element;if(e){for(s=p(e.width,3),a=(e.opacity||.15)/s,l=this.parentInverted?"(-1,-1)":"("+p(e.offsetX,1)+", "+p(e.offsetY,1)+")",i=1;s>=i;i++)r=u.cloneNode(0),o=2*s+1-2*i,d(r,{isShadow:"true",stroke:e.color||"black","stroke-opacity":a*i,"stroke-width":o,transform:"translate"+l,fill:Rt}),n&&(d(r,"height",gt(d(r,"height")-o,0)),r.cutHeight=o),t?t.element.appendChild(r):u.parentNode.insertBefore(r,u),c.push(r);this.shadows=c}return this}};var gn=function(){this.init.apply(this,arguments)};gn.prototype={Element:O,init:function(e,t,n,i){var r,o,s=location;r=this.createElement("svg").attr({version:"1.1"}),o=r.element,e.appendChild(o),e.innerHTML.indexOf("xmlns")===-1&&d(o,"xmlns",At),this.isSVG=!0,this.box=o,this.boxWrapper=r,this.alignedObjects=[],this.url=(Dt||St)&&ut.getElementsByTagName("base").length?s.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(ut.createTextNode("Created with Highcharts 3.0.4")),this.defs=this.createElement("defs").add(),this.forExport=i,this.gradients={},this.setSize(t,n,!1);var a;Dt&&e.getBoundingClientRect&&(this.subPixelFix=t=function(){f(e,{left:0,top:0}),a=e.getBoundingClientRect(),f(e,{left:mt(a.left)-a.left+"px",top:mt(a.top)-a.top+"px"})},t(),ln(dt,"resize",t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),M(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&cn(dt,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(e){for(var t=e.element,i=this,r=i.forExport,o=p(e.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),s=t.childNodes,a=/style="([^"]+)"/,l=/href="(http[^"]+)"/,c=d(t,"x"),u=e.styles,h=u&&u.width&&n(u.width),m=u&&u.lineHeight,g=s.length;g--;)t.removeChild(s[g]);h&&!e.added&&this.box.appendChild(t),o[o.length-1]===""&&o.pop(),rn(o,function(n,o){var s,p=0,n=n.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");s=n.split("|||"),rn(s,function(n){if(""!==n||s.length===1){var g,v={},y=ut.createElementNS(At,"tspan");if(a.test(n)&&(g=n.match(a)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),d(y,"style",g)),l.test(n)&&!r&&(d(y,"onclick",'location.href="'+n.match(l)[1]+'"'),f(y,{cursor:"pointer"})),n=(n.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==n&&(y.appendChild(ut.createTextNode(n)),p?v.dx=0:v.x=c,d(y,v),!p&&o&&(!Lt&&r&&f(y,{display:"block"}),d(y,"dy",m||i.fontMetrics(/px$/.test(y.style.fontSize)?y.style.fontSize:u.fontSize).h,St&&y.offsetHeight)),t.appendChild(y),p++,h))for(var b,n=n.replace(/([^\^])-/g,"$1- ").split(" "),w=[];n.length||w.length;)delete e.bBox,b=e.getBBox().width,v=b>h,v&&n.length!==1?(y.removeChild(y.firstChild),w.unshift(n.pop())):(n=w,w=[],n.length&&(y=ut.createElementNS(At,"tspan"),d(y,{dy:m||16,x:c}),g&&d(y,"style",g),t.appendChild(y),b>h&&(h=b))),n.length&&y.appendChild(ut.createTextNode(n.join(" ").replace(/- /g,"-")))}})})},button:function(n,i,r,o,s,a,l){var c,u,d,h,p,f=this.label(n,i,r,null,null,null,null,null,"button"),m=0,n={x1:0,y1:0,x2:0,y2:1},s=t({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:n,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},s);return d=s.style,delete s.style,a=t(s,{stroke:"#68A",fill:{linearGradient:n,stops:[[0,"#FFF"],[1,"#ACF"]]}},a),h=a.style,delete a.style,l=t(s,{stroke:"#68A",fill:{linearGradient:n,stops:[[0,"#9BD"],[1,"#CDF"]]}},l),p=l.style,delete l.style,ln(f.element,_t?"mouseover":"mouseenter",function(){f.attr(a).css(h)}),ln(f.element,_t?"mouseout":"mouseleave",function(){c=[s,a,l][m],u=[d,h,p][m],f.attr(c).css(u)}),f.setState=function(e){(m=e)?2===e&&f.attr(l).css(p):f.attr(s).css(d)},f.on("click",function(){o.call(f)}).attr(s).css(e({cursor:"default"},d))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=pt(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=pt(e[2])+t%2/2),e},path:function(t){var n={fill:Rt};return o(t)?n.d=t:r(t)&&e(n,t),this.createElement("path").attr(n)},circle:function(e,t,n){return e=r(e)?e:{x:e,y:t,r:n},this.createElement("circle").attr(e)},arc:function(e,t,n,i,o,s){return r(e)&&(t=e.y,n=e.r,i=e.innerR,o=e.start,s=e.end,e=e.x),e=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:i||0,start:o||0,end:s||0}),e.r=n,e},rect:function(e,t,n,i,o,s){return o=r(e)?e.r:o,o=this.createElement("rect").attr({rx:o,ry:o,fill:Rt}),o.attr(r(e)?e:o.crisp(s,e,t,gt(n,0),gt(i,0)))},setSize:function(e,t,n){var i=this.alignedObjects,r=i.length;for(this.width=e,this.height=t,this.boxWrapper[p(n,!0)?"animate":"attr"]({width:e,height:t});r--;)i[r].align()},g:function(e){var t=this.createElement("g");return u(e)?t.attr({"class":"highcharts-"+e}):t},image:function(t,n,i,r,o){var s={preserveAspectRatio:Rt};return arguments.length>1&&e(s,{x:n,y:i,width:r,height:o}),s=this.createElement("image").attr(s),s.element.setAttributeNS?s.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):s.element.setAttribute("hc-svg-href",t),s},symbol:function(t,n,i,r,o,s){var a,l,c,u=this.symbols[t],u=u&&u(pt(n),pt(i),r,o,s),d=/^url\((.*?)\)$/;return u?(a=this.path(u),e(a,{symbolName:t,x:n,y:i,width:r,height:o}),s&&e(a,s)):d.test(t)&&(c=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(pt((r-t[0])/2),pt((o-t[1])/2)))},l=t.match(d)[1],t=Ot[l],a=this.image(l).attr({x:n,y:i}),a.isImg=!0,t?c(a,t):(a.attr({width:0,height:0}),m("img",{onload:function(){c(a,Ot[l]=[this.width,this.height])},src:l}))),a},symbols:{circle:function(e,t,n,i){var r=.166*n;return["M",e+n/2,t,"C",e+n+r,t,e+n+r,t+i,e+n/2,t+i,"C",e-r,t+i,e-r,t,e+n/2,t,"Z"]},square:function(e,t,n,i){return["M",e,t,"L",e+n,t,e+n,t+i,e,t+i,"Z"]},triangle:function(e,t,n,i){return["M",e+n/2,t,"L",e+n,t+i,e,t+i,"Z"]},"triangle-down":function(e,t,n,i){return["M",e,t,"L",e+n,t,e+n/2,t+i,"Z"]},diamond:function(e,t,n,i){return["M",e+n/2,t,"L",e+n,t+i/2,e+n/2,t+i,e,t+i/2,"Z"]},arc:function(e,t,n,i,r){var o=r.start,n=r.r||n||i,s=r.end-.001,i=r.innerR,a=r.open,l=bt(o),c=wt(o),u=bt(s),s=wt(s),r=r.end-o<xt?0:1;return["M",e+n*l,t+n*c,"A",n,n,0,r,1,e+n*u,t+n*s,a?"M":"L",e+i*u,t+i*s,"A",i,i,0,r,0,e+i*l,t+i*c,a?"":"Z"]}},clipRect:function(e,t,n,i){var r="highcharts-"+Nt++,o=this.createElement("clipPath").attr({id:r}).add(this.defs),e=this.rect(e,t,n,i,0).add(o);return e.id=r,e.clipPath=o,e},color:function(e,n,i){var r,s,a,l,c,h,p,f,m=this,g=/^rgba/,v=[];if(e&&e.linearGradient?s="linearGradient":e&&e.radialGradient&&(s="radialGradient"),s){i=e[s],a=m.gradients,c=e.stops,n=n.radialReference,o(i)&&(e[s]=i={x1:i[0],y1:i[1],x2:i[2],y2:i[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===s&&n&&!u(i.gradientUnits)&&(i=t(i,{cx:n[0]-n[2]/2+i.cx*n[2],cy:n[1]-n[2]/2+i.cy*n[2],r:i.r*n[2],gradientUnits:"userSpaceOnUse"}));for(f in i)"id"!==f&&v.push(f,i[f]);for(f in c)v.push(c[f]);return v=v.join(","),a[v]?e=a[v].id:(i.id=e="highcharts-"+Nt++,a[v]=l=m.createElement(s).attr(i).add(m.defs),l.stops=[],rn(c,function(e){g.test(e[1])?(r=mn(e[1]),h=r.get("rgb"),p=r.get("a")):(h=e[1],p=1),e=m.createElement("stop").attr({offset:e[0],"stop-color":h,"stop-opacity":p}).add(l),l.stops.push(e)})),"url("+m.url+"#"+e+")"}return g.test(e)?(r=mn(e),d(n,i+"-opacity",r.get("a")),r.get("rgb")):(n.removeAttribute(i+"-opacity"),e)
},text:function(e,t,n,i){var r=U.chart.style,o=Pt||!Lt&&this.forExport;return i&&!this.forExport?this.html(e,t,n):(t=pt(p(t,0)),n=pt(p(n,0)),e=this.createElement("text").attr({x:t,y:n,text:e}).css({fontFamily:r.fontFamily,fontSize:r.fontSize}),o&&e.css({position:"absolute"}),e.x=t,e.y=n,e)},html:function(t,n,i){var r=U.chart.style,o=this.createElement("span"),s=o.attrSetters,a=o.element,l=o.renderer;return s.text=function(e){return e!==a.innerHTML&&delete this.bBox,a.innerHTML=e,!1},s.x=s.y=s.align=function(e,t){return"align"===t&&(t="textAlign"),o[t]=e,o.htmlUpdateTransform(),!1},o.attr({text:t,x:pt(n),y:pt(i)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:r.fontFamily,fontSize:r.fontSize}),o.css=o.htmlCss,l.isSVG&&(o.add=function(t){var n,i=l.box.parentNode,r=[];if(t){if(n=t.div,!n){for(;t;)r.push(t),t=t.parentGroup;rn(r.reverse(),function(t){var r;n=t.div=t.div||m(Bt,{className:d(t.element,"class")},{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px"},n||i),r=n.style,e(t.attrSetters,{translateX:function(e){r.left=e+"px"},translateY:function(e){r.top=e+"px"},visibility:function(e,t){r[t]=e}})})}}else n=i;return n.appendChild(a),o.added=!0,o.alignOnAdd&&o.htmlUpdateTransform(),o}),o},fontMetrics:function(e){var e=n(e||11),e=24>e?e+4:pt(1.2*e),t=pt(.8*e);return{h:e,b:t}},label:function(n,i,r,o,s,a,l,c,d){function h(){var e,n;e=T.element.style,v=(void 0===y||void 0===b||_.styles.textAlign)&&T.getBBox(),_.width=(y||v.width||0)+2*D+M,_.height=(b||v.height||0)+2*D,k=D+C.fontMetrics(e&&e.fontSize).b,$&&(g||(e=pt(-S*D),n=c?-k:0,_.box=g=o?C.symbol(o,e,n,_.width,_.height):C.rect(e,n,_.width,_.height,0,L[Kt]),g.add(_)),g.isImg||g.attr(t({width:_.width,height:_.height},L)),L=null)}function p(){var e,t=_.styles,t=t&&t.textAlign,n=M+D*(1-S);e=c?0:k,!u(y)||"center"!==t&&"right"!==t||(n+={center:.5,right:1}[t]*(y-v.width)),(n!==T.x||e!==T.y)&&T.attr({x:n,y:e}),T.x=n,T.y=e}function f(e,t){g?g.attr(e,t):L[e]=t}function m(){T.add(_),_.attr({text:n,x:i,y:r}),g&&u(s)&&_.attr({anchorX:s,anchorY:a})}var g,v,y,b,w,x,k,$,C=this,_=C.g(d),T=C.text("",0,0,l).attr({zIndex:1}),S=0,D=3,M=0,A=0,L={},l=_.attrSetters;ln(_,"add",m),l.width=function(e){return y=e,!1},l.height=function(e){return b=e,!1},l.padding=function(e){return u(e)&&e!==D&&(D=e,p()),!1},l.paddingLeft=function(e){return u(e)&&e!==M&&(M=e,p()),!1},l.align=function(e){return S={left:0,center:.5,right:1}[e],!1},l.text=function(e,t){return T.attr(t,e),h(),p(),!1},l[Kt]=function(e,t){return $=!0,A=e%2/2,f(t,e),!1},l.stroke=l.fill=l.r=function(e,t){return"fill"===t&&($=!0),f(t,e),!1},l.anchorX=function(e,t){return s=e,f(t,e+A-w),!1},l.anchorY=function(e,t){return a=e,f(t,e-x),!1},l.x=function(e){return _.x=e,e-=S*((y||v.width)+D),w=pt(e),_.attr("translateX",w),!1},l.y=function(e){return x=_.y=pt(e),_.attr("translateY",x),!1};var E=_.css;return e(_,{css:function(e){if(e){var n={},e=t(e);rn("fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration".split(","),function(t){e[t]!==W&&(n[t]=e[t],delete e[t])}),T.css(n)}return E.call(_,e)},getBBox:function(){return{width:v.width+2*D,height:v.height+2*D,x:v.x-D,y:v.y-D}},shadow:function(e){return g&&g.shadow(e),_},destroy:function(){cn(_,"add",m),cn(_.element,"mouseenter"),cn(_.element,"mouseleave"),T&&(T=T.destroy()),g&&(g=g.destroy()),O.prototype.destroy.call(_),_=C=h=p=f=m=null}})}},V=gn;var vn;if(!Lt&&!Pt){Highcharts.VMLElement=vn={init:function(e,t){var n=["<",t,' filled="f" stroked="f"'],i=["position: ","absolute",";"],r=t===Bt;("shape"===t||r)&&i.push("left:0;top:0;width:1px;height:1px;"),i.push("visibility: ",r?"hidden":"visible"),n.push(' style="',i.join(""),'"/>'),t&&(n=r||"span"===t||"img"===t?n.join(""):e.prepVML(n),this.element=m(n)),this.renderer=e,this.attrSetters={}},add:function(e){var t=this.renderer,n=this.element,i=t.box,i=e?e.element||e:i;return e&&e.inverted&&t.invertChild(n,i),i.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),un(this,"add"),this},updateTransform:O.prototype.htmlUpdateTransform,setSpanRotation:function(e,t,n){f(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",n,", M12=",-t,", M21=",t,", M22=",n,", sizingMethod='auto expand')"].join(""):Rt})},attr:function(e,t){var n,r,o,a,l,c=this.element||{},h=c.style,p=c.nodeName,f=this.renderer,g=this.symbolName,v=this.shadows,y=this.attrSetters,b=this;if(i(e)&&u(t)&&(n=e,e={},e[n]=t),i(e))n=e,b="strokeWidth"===n||"stroke-width"===n?this.strokeweight:this[n];else for(n in e)if(r=e[n],l=!1,o=y[n]&&y[n].call(this,r,n),o!==!1&&null!==r){if(o!==W&&(r=o),g&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(n))a||(this.symbolAttr(e),a=!0),l=!0;else if("d"===n){r=r||[],this.d=r.join(" "),o=r.length,l=[];for(var w;o--;)s(r[o])?l[o]=pt(r[o]*10)-5:r[o]==="Z"?l[o]="x":(l[o]=r[o],!r.isArc||r[o]!=="wa"&&r[o]!=="at"||(w=r[o]==="wa"?1:-1,l[o+5]===l[o+7]&&(l[o+7]-=w),l[o+6]===l[o+8]&&(l[o+8]-=w)));if(r=l.join(" ")||"x",c.path=r,v)for(o=v.length;o--;)v[o].path=v[o].cutOff?this.cutOffPath(r,v[o].cutOff):r;l=!0}else if("visibility"===n){if(v)for(o=v.length;o--;)v[o].style[n]=r;"DIV"===p&&(r="hidden"===r?"-999em":0,Tt||(h[n]=r?"visible":"hidden"),n="top"),h[n]=r,l=!0}else"zIndex"===n?(r&&(h[n]=r),l=!0):nn(n,["x","y","width","height"])!==-1?(this[n]=r,"x"===n||"y"===n?n={x:"left",y:"top"}[n]:r=gt(0,r),this.updateClipping?(this[n]=r,this.updateClipping()):h[n]=r,l=!0):"class"===n&&"DIV"===p?c.className=r:"stroke"===n?(r=f.color(r,c,n),n="strokecolor"):"stroke-width"===n||"strokeWidth"===n?(c.stroked=r?!0:!1,n="strokeweight",this[n]=r,s(r)&&(r+="px")):"dashstyle"===n?((c.getElementsByTagName("stroke")[0]||m(f.prepVML(["<stroke/>"]),null,null,c))[n]=r||"solid",this.dashstyle=r,l=!0):"fill"===n?"SPAN"===p?h.color=r:"IMG"!==p&&(c.filled=r!==Rt?!0:!1,r=f.color(r,c,n,this),n="fillcolor"):"opacity"===n?l=!0:"shape"===p&&"rotation"===n?(this[n]=c.style[n]=r,c.style.left=-pt(wt(r*kt)+1)+"px",c.style.top=pt(bt(r*kt))+"px"):"translateX"===n||"translateY"===n||"rotation"===n?(this[n]=r,this.updateTransform(),l=!0):"text"===n&&(this.bBox=null,c.innerHTML=r,l=!0);l||(Tt?c[n]=r:d(c,n,r))}return b},clip:function(e){var t,n=this;return e?(t=e.members,c(t,n),t.push(n),n.destroyClip=function(){c(t,n)},e=e.getCSS(n)):(n.destroyClip&&n.destroyClip(),e={clip:Tt?"inherit":"rect(auto)"}),n.css(e)},css:O.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&A(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),O.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=dt.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var i,e=e.split(/[ ,]/);return i=e.length,(9===i||11===i)&&(e[i-4]=e[i-2]=n(e[i-2])-10*t),e.join(" ")},shadow:function(e,t,i){var r,o,s,a,l,c,u,d=[],h=this.element,f=this.renderer,g=h.style,v=h.path;if(v&&typeof v.value!="string"&&(v="x"),l=v,e){for(c=p(e.width,3),u=(e.opacity||.15)/c,r=1;3>=r;r++)a=2*c+1-2*r,i&&(l=this.cutOffPath(v.value,a+.5)),s=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',h.style.cssText,'" />'],o=m(f.prepVML(s),null,{left:n(g.left)+p(e.offsetX,1),top:n(g.top)+p(e.offsetY,1)}),i&&(o.cutOff=a+1),s=['<stroke color="',e.color||"black",'" opacity="',u*r,'"/>'],m(f.prepVML(s),null,null,o),t?t.element.appendChild(o):h.parentNode.insertBefore(o,h),d.push(o);this.shadows=d}return this}},vn=g(O,vn);var yn={Element:vn,isIE8:$t.indexOf("MSIE 8.0")>-1,init:function(e,t,n){var i,r;this.alignedObjects=[],i=this.createElement(Bt),r=i.element,r.style.position="relative",e.appendChild(i.element),this.isVML=!0,this.box=r,this.boxWrapper=i,this.setSize(t,n,!1),ut.namespaces.hcv||(ut.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),ut.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,n,i,o){var s=this.createElement(),a=r(t);return e(s,{members:[],left:a?t.x:t,top:a?t.y:n,width:a?t.width:i,height:a?t.height:o,getCSS:function(t){var n=t.element,i=n.nodeName,t=t.inverted,r=this.top-("shape"===i?n.offsetTop:0),o=this.left,n=o+this.width,s=r+this.height,r={clip:"rect("+pt(t?o:r)+"px,"+pt(t?s:n)+"px,"+pt(t?n:s)+"px,"+pt(t?r:o)+"px)"};return!t&&Tt&&"DIV"===i&&e(r,{width:n+"px",height:s+"px"}),r},updateClipping:function(){rn(s.members,function(e){e.css(s.getCSS(e))})}})},color:function(e,t,n,i){var r,o,s,a=this,l=/^rgba/,c=Rt;if(e&&e.linearGradient?s="gradient":e&&e.radialGradient&&(s="pattern"),s){var u,d,h,p,f,g,v,y,b=e.linearGradient||e.radialGradient,w="",e=e.stops,x=[],k=function(){o=['<fill colors="'+x.join(",")+'" opacity="',f,'" o:opacity2="',p,'" type="',s,'" ',w,'focus="100%" method="any" />'],m(a.prepVML(o),null,null,t)};if(h=e[0],y=e[e.length-1],h[0]>0&&e.unshift([0,h[1]]),y[0]<1&&e.push([1,y[1]]),rn(e,function(e,t){l.test(e[1])?(r=mn(e[1]),u=r.get("rgb"),d=r.get("a")):(u=e[1],d=1),x.push(e[0]*100+"% "+u),t?(f=d,g=u):(p=d,v=u)}),"fill"===n)if("gradient"===s)n=b.x1||b[0]||0,e=b.y1||b[1]||0,h=b.x2||b[2]||0,b=b.y2||b[3]||0,w='angle="'+(90-ht.atan((b-e)/(h-n))*180/xt)+'"',k();else{var $,c=b.r,C=2*c,_=2*c,T=b.cx,S=b.cy,D=t.radialReference,c=function(){D&&($=i.getBBox(),T+=(D[0]-$.x)/$.width-.5,S+=(D[1]-$.y)/$.height-.5,C*=D[2]/$.width,_*=D[2]/$.height),w='src="'+U.global.VMLRadialGradientURL+'" size="'+C+","+_+'" origin="0.5,0.5" position="'+T+","+S+'" color2="'+v+'" ',k()};i.added?c():ln(i,"add",c),c=g}else c=u}else l.test(e)&&t.tagName!=="IMG"?(r=mn(e),o=["<",n,' opacity="',r.get("a"),'"/>'],m(this.prepVML(o),null,null,t),c=r.get("rgb")):(c=t.getElementsByTagName(n),c.length&&(c[0].opacity=1,c[0].type="solid"),c=e);return c},prepVML:function(e){var t=this.isIE8,e=e.join("");return t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=e.indexOf('style="')===-1?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:"),e},text:gn.prototype.html,path:function(t){var n={coordsize:"10 10"};return o(t)?n.d=t:r(t)&&e(n,t),this.createElement("shape").attr(n)},circle:function(e,t,n){var i=this.symbol("circle");return r(e)&&(n=e.r,t=e.y,e=e.x),i.isCircle=!0,i.attr({x:e,y:t,width:2*n,height:2*n})},g:function(e){var t;return e&&(t={className:"highcharts-"+e,"class":"highcharts-"+e}),this.createElement(Bt).attr(t)},image:function(e,t,n,i,r){var o=this.createElement("img").attr({src:e});return arguments.length>1&&o.attr({x:t,y:n,width:i,height:r}),o},rect:function(e,t,n,i,o,s){r(e)&&(t=e.y,n=e.width,i=e.height,s=e.strokeWidth,e=e.x);var a=this.symbol("rect");return a.r=o,a.attr(a.crisp(s,e,t,gt(n,0),gt(i,0)))},invertChild:function(e,t){var i=t.style;f(e,{flip:"x",left:n(i.width)-1,top:n(i.height)-1,rotation:-90})},symbols:{arc:function(e,t,n,i,r){var o=r.start,s=r.end,a=r.r||n||i,n=r.innerR,i=bt(o),l=wt(o),c=bt(s),u=wt(s);return 0===s-o?["x"]:(o=["wa",e-a,t-a,e+a,t+a,e+a*i,t+a*l,e+a*c,t+a*u],r.open&&!n&&o.push("e","M",e,t),o.push("at",e-n,t-n,e+n,t+n,e+n*c,t+n*u,e+n*i,t+n*l,"x","e"),o.isArc=!0,o)},circle:function(e,t,n,i,r){return r&&r.isCircle&&(e-=n/2,t-=i/2),["wa",e,t,e+n,t+i,e+n,t+i/2,e+n,t+i/2,"e"]},rect:function(e,t,n,i,r){var o,s=e+n,a=t+i;return u(r)&&r.r?(o=vt(r.r,n,i),s=["M",e+o,t,"L",s-o,t,"wa",s-2*o,t,s,t+2*o,s-o,t,s,t+o,"L",s,a-o,"wa",s-2*o,a-2*o,s,a,s,a-o,s-o,a,"L",e+o,a,"wa",e,a-2*o,e+2*o,a,e+o,a,e,a-o,"L",e,t+o,"wa",e,t,e+2*o,t+2*o,e,t+o,e+o,t,"x","e"]):s=gn.prototype.symbols.square.apply(0,arguments),s}}};Highcharts.VMLRenderer=vn=function(){this.init.apply(this,arguments)},vn.prototype=t(gn.prototype,yn),V=vn}var bn;Pt&&(Highcharts.CanVGRenderer=vn=function(){At="http://www.w3.org/1999/xhtml"},vn.prototype.symbols={},bn=function(){function e(){var e,n=t.length;for(e=0;n>e;e++)t[e]();t=[]}var t=[];return{push:function(n,i){t.length===0&&tn(i,e),t.push(n)}}}(),V=vn),N.prototype={addLabel:function(){var t,n=this.axis,i=n.options,r=n.chart,o=n.horiz,a=n.categories,c=n.series[0]&&n.series[0].names,d=this.pos,h=i.labels,f=n.tickPositions,o=o&&a&&!h.step&&!h.staggerLines&&!h.rotation&&r.plotWidth/f.length||!o&&(r.optionsMarginLeft||r.chartWidth*.33),m=d===f[0],g=d===f[f.length-1],c=a?p(a[d],c&&c[d],d):d,a=this.label,f=f.info;n.isDatetimeAxis&&f&&(t=i.dateTimeLabelFormats[f.higherRanks[d]||f.unitName]),this.isFirst=m,this.isLast=g,i=n.labelFormatter.call({axis:n,chart:r,isFirst:m,isLast:g,dateTimeLabelFormat:t,value:n.isLog?E(l(c)):c}),d=o&&{width:gt(1,pt(o-2*(h.padding||10)))+"px"},d=e(d,h.style),u(a)?a&&a.attr({text:i}).css(d):(o={align:n.labelAlign},s(h.rotation)&&(o.rotation=h.rotation),this.label=u(i)&&h.enabled?r.renderer.text(i,0,0,h.useHTML).attr(o).css(d).add(n.labelGroup):null)},getLabelSize:function(){var e=this.label,t=this.axis;return e?(this.labelBBox=e.getBBox())[t.horiz?"height":"width"]:0},getLabelSides:function(){var e=this.axis,t=this.labelBBox.width,e=t*{left:0,center:.5,right:1}[e.labelAlign]-e.options.labels.x;return[-e,t-e]},handleOverflow:function(e,t){var n=!0,i=this.axis,r=i.chart,o=this.isFirst,s=this.isLast,a=t.x,l=i.reversed,c=i.tickPositions;if(o||s){var u=this.getLabelSides(),d=u[0],u=u[1],r=r.plotLeft,h=r+i.len,c=(i=i.ticks[c[e+(o?1:-1)]])&&i.label.xy&&i.label.xy.x+i.getLabelSides()[o?0:1];o&&!l||s&&l?r>a+d&&(a=r-d,i&&a+u>c&&(n=!1)):a+u>h&&(a=h-u,i&&c>a+d&&(n=!1)),t.x=a}return n},getPosition:function(e,t,n,i){var r=this.axis,o=r.chart,s=i&&o.oldChartHeight||o.chartHeight;return{x:e?r.translate(t+n,null,null,i)+r.transB:r.left+r.offset+(r.opposite?(i&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:e?s-r.bottom+r.offset-(r.opposite?r.height:0):s-r.translate(t+n,null,null,i)-r.transB}},getLabelPosition:function(e,t,n,i,r,o,s,a){var l=this.axis,c=l.transA,d=l.reversed,h=l.staggerLines,p=l.chart.renderer.fontMetrics(r.style.fontSize).b,f=r.rotation,e=e+r.x-(o&&i?o*c*(d?-1:1):0),t=t+r.y-(o&&!i?o*c*(d?1:-1):0);return f&&l.side===2&&(t-=p-p*bt(f*kt)),!u(r.y)&&!f&&(t+=p-n.getBBox().height/2),h&&(t+=s/(a||1)%h*(l.labelOffset/h)),{x:e,y:t}},getMarkPath:function(e,t,n,i,r,o){return o.crispLine(["M",e,t,"L",e+(r?0:-n),t+(r?n:0)],i)},render:function(e,t,n){var i=this.axis,r=i.options,o=i.chart.renderer,s=i.horiz,a=this.type,l=this.label,c=this.pos,u=r.labels,d=this.gridLine,h=a?a+"Grid":"grid",f=a?a+"Tick":"tick",m=r[h+"LineWidth"],g=r[h+"LineColor"],v=r[h+"LineDashStyle"],y=r[f+"Length"],h=r[f+"Width"]||0,b=r[f+"Color"],w=r[f+"Position"],f=this.mark,x=u.step,k=!0,$=i.tickmarkOffset,C=this.getPosition(s,c,$,t),_=C.x,C=C.y,T=s&&_===i.pos||!s&&C===i.pos+i.len?-1:1,S=i.staggerLines;this.isActive=!0,m&&(c=i.getPlotLinePath(c+$,m*T,t,!0),d===W&&(d={stroke:g,"stroke-width":m},v&&(d.dashstyle=v),a||(d.zIndex=1),t&&(d.opacity=0),this.gridLine=d=m?o.path(c).attr(d).add(i.gridGroup):null),!t&&d&&c&&d[this.isNew?"attr":"animate"]({d:c,opacity:n})),h&&y&&("inside"===w&&(y=-y),i.opposite&&(y=-y),t=this.getMarkPath(_,C,y,h*T,s,o),f?f.animate({d:t,opacity:n}):this.mark=o.path(t).attr({stroke:b,"stroke-width":h,opacity:n}).add(i.axisGroup)),l&&!isNaN(_)&&(l.xy=C=this.getLabelPosition(_,C,l,s,u,$,e,x),this.isFirst&&!p(r.showFirstLabel,1)||this.isLast&&!p(r.showLastLabel,1)?k=!1:!S&&s&&u.overflow==="justify"&&!this.handleOverflow(e,C)&&(k=!1),x&&e%x&&(k=!1),k&&!isNaN(C.y)?(C.opacity=n,l[this.isNew?"attr":"animate"](C),this.isNew=!1):l.attr("y",-9999))},destroy:function(){M(this,this.axis)}},I.prototype={render:function(){var e,n=this,i=n.axis,r=i.horiz,o=(i.pointRange||0)/2,s=n.options,l=s.label,c=n.label,d=s.width,h=s.to,f=s.from,m=u(f)&&u(h),g=s.value,v=s.dashStyle,y=n.svgElem,b=[],w=s.color,x=s.zIndex,k=s.events,$=i.chart.renderer;if(i.isLog&&(f=a(f),h=a(h),g=a(g)),d)b=i.getPlotLinePath(g,d),o={stroke:w,"stroke-width":d},v&&(o.dashstyle=v);else{if(!m)return;f=gt(f,i.min-o),h=vt(h,i.max+o),b=i.getPlotBandPath(f,h,s),o={fill:w},s.borderWidth&&(o.stroke=s.borderColor,o["stroke-width"]=s.borderWidth)}if(u(x)&&(o.zIndex=x),y)b?y.animate({d:b},null,y.onGetPath):(y.hide(),y.onGetPath=function(){y.show()});else if(b&&b.length&&(n.svgElem=y=$.path(b).attr(o).add(),k))for(e in s=function(e){y.on(e,function(t){k[e].apply(n,[t])})},k)s(e);return l&&u(l.text)&&b&&b.length&&i.width>0&&i.height>0?(l=t({align:r&&m&&"center",x:r?!m&&4:10,verticalAlign:!r&&m&&"middle",y:r?m?16:10:m?6:-4,rotation:r&&!m&&90},l),c||(n.label=c=$.text(l.text,0,0,l.useHTML).attr({align:l.textAlign||l.align,rotation:l.rotation,zIndex:x}).css(l.style).add()),i=[b[1],b[4],p(b[6],b[1])],b=[b[2],b[5],p(b[7],b[2])],r=S(i),m=S(b),c.align(l,!1,{x:r,y:m,width:D(i)-r,height:D(b)-m}),c.show()):c&&c.hide(),n},destroy:function(){c(this.axis.plotLinesAndBands,this),delete this.axis,M(this)}},z.prototype={destroy:function(){M(this,this.axis)},setTotal:function(e){this.cum=this.total=e},addValue:function(e){this.setTotal(E(this.total+e))},render:function(e){var t=this.options,n=t.format,n=n?w(n,this):t.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,0,0,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},cacheExtremes:function(e,t){this.points[e.index]=t},setOffset:function(e,t){var n=this.axis,i=n.chart,r=i.inverted,o=this.isNegative,s=n.translate(this.percent?100:this.total,0,0,0,1),n=n.translate(0),n=yt(s-n),a=i.xAxis[0].translate(this.x)+e,l=i.plotHeight,o={x:r?o?s:s-n:a,y:r?l-a-t:o?l-s-n:l-s,width:r?n:t,height:r?t:n};(r=this.label)&&(r.align(this.alignOptions,null,o),o=r.alignAttr,r.attr({visibility:this.options.crop===!1||i.isInsidePlot(o.x,o.y)?Lt?"inherit":"visible":"hidden"}))}},B.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Jt,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return v(this.total,-1)},style:Jt.style}},defaultLeftAxisOptions:{labels:{x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-5},title:{rotation:0}},init:function(e,t){var n=t.isX;this.horiz=e.inverted?!n:n,this.xOrY=(this.isXAxis=n)?"x":"y",this.opposite=t.opposite,this.side=this.horiz?this.opposite?0:2:this.opposite?1:3,this.setOptions(t);var i=this.options,r=i.type;this.labelFormatter=i.labels.formatter||this.defaultLabelFormatter,this.userOptions=t,this.minPixelPadding=0,this.chart=e,this.reversed=i.reversed,this.zoomEnabled=i.zoomEnabled!==!1,this.categories=i.categories||"category"===r,this.isLog="logarithmic"===r,this.isDatetimeAxis="datetime"===r,this.isLinked=u(i.linkedTo),this.tickmarkOffset=this.categories&&i.tickmarkPlacement==="between"?.5:0,this.ticks={},this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=i.minRange||i.maxZoom,this.range=i.range,this.offset=i.offset||0,this.stacks={},this.oldStacks={},this.stacksMax={},this._stacksTouched=0,this.min=this.max=null;var o,i=this.options.events;nn(this,e.axes)===-1&&(e.axes.push(this),e[n?"xAxis":"yAxis"].push(this)),this.series=this.series||[],e.inverted&&n&&this.reversed===W&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(o in i)ln(this,o,i[o]);this.isLog&&(this.val2lin=a,this.lin2val=l)},setOptions:function(e){this.options=t(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],t(U[this.isXAxis?"xAxis":"yAxis"],e))},update:function(n,i){var r=this.chart,n=r.options[this.xOrY+"Axis"][this.options.index]=t(this.userOptions,n);this.destroy(!0),this._addedPlotLB=!1,this.init(r,e(n,{events:W})),r.isDirtyBox=!0,p(i,!0)&&r.redraw()},remove:function(e){var t=this.chart,n=this.xOrY+"Axis";rn(this.series,function(e){e.remove(!1)}),c(t.axes,this),c(t[n],this),t.options[n].splice(this.options.index,1),rn(t[n],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,p(e,!0)&&t.redraw()},defaultLabelFormatter:function(){var e,t=this.axis,n=this.value,i=t.categories,r=this.dateTimeLabelFormat,o=U.lang.numericSymbols,s=o&&o.length,a=t.options.labels.format,t=t.isLog?n:t.tickInterval;if(a)e=w(a,this);else if(i)e=n;else if(r)e=X(r,n);else if(s&&t>=1e3)for(;s--&&e===W;)i=Math.pow(1e3,s+1),t>=i&&o[s]!==null&&(e=v(n/i,-1)+o[s]);return e===W&&(e=n>=1e3?v(n,0):v(n,-1)),e},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=null,e.stacksMax={},e.buildStacks(),rn(e.series,function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var i,r=n.options;i=r.threshold,e.hasVisibleSeries=!0,e.isLog&&0>=i&&(i=null),e.isXAxis?(i=n.xData,i.length&&(e.dataMin=vt(p(e.dataMin,i[0]),S(i)),e.dataMax=gt(p(e.dataMax,i[0]),D(i)))):(r=r.stacking,e.usePercentage="percent"===r,e.usePercentage&&(e.dataMin=0,e.dataMax=99),n.getExtremes(),r=n.dataMax,n=n.dataMin,!e.usePercentage&&u(n)&&u(r)&&(e.dataMin=vt(p(e.dataMin,n),n),e.dataMax=gt(p(e.dataMax,r),r)),u(i)&&(e.dataMin>=i?(e.dataMin=i,e.ignoreMinPadding=!0):e.dataMax<i&&(e.dataMax=i,e.ignoreMaxPadding=!0)))}})},translate:function(e,t,n,i,r,o){var a=this.len,l=1,c=0,u=i?this.oldTransA:this.transA,i=i?this.oldMin:this.min,d=this.minPixelPadding,r=(this.options.ordinal||this.isLog&&r)&&this.lin2val;return u||(u=this.transA),n&&(l*=-1,c=a),this.reversed&&(l*=-1,c-=l*a),t?(e=e*l+c,e-=d,e=e/u+i,r&&(e=this.lin2val(e))):(r&&(e=this.val2lin(e)),"between"===o&&(o=.5),e=l*(e-i)*u+c+l*d+(s(o)?u*o*this.pointRange:0)),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,i){var r,o,s,a,l=this.chart,c=this.left,u=this.top,e=this.translate(e,null,null,n),d=n&&l.oldChartHeight||l.chartHeight,h=n&&l.oldChartWidth||l.chartWidth;return r=this.transB,n=o=pt(e+r),r=s=pt(d-e-r),isNaN(e)?a=!0:this.horiz?(r=u,s=d-this.bottom,(c>n||n>c+this.width)&&(a=!0)):(n=c,o=h-this.right,(u>r||r>u+this.height)&&(a=!0)),a&&!i?null:l.renderer.crispLine(["M",n,r,"L",o,s],t||0)},getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t),i=this.getPlotLinePath(e);return i&&n?i.push(n[4],n[5],n[1],n[2]):i=null,i},getLinearTickPositions:function(e,t,n){for(var i,t=E(ft(t/e)*e),n=E(mt(n/e)*e),r=[];n>=t&&(r.push(t),t=E(t+e),t!==i);)i=t;return r},getLogTickPositions:function(e,t,n,i){var r=this.options,o=this.len,s=[];if(i||(this._minorAutoInterval=null),e>=.5)e=pt(e),s=this.getLinearTickPositions(e,t,n);else if(e>=.08)for(var c,u,d,h,f,o=ft(t),r=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];n+1>o&&!f;o++)for(u=r.length,c=0;u>c&&!f;c++)d=a(l(o)*r[c]),d>t&&(!i||n>=h)&&s.push(h),h>n&&(f=!0),h=d;else t=l(t),n=l(n),e=r[i?"minorTickInterval":"tickInterval"],e=p("auto"===e?null:e,this._minorAutoInterval,(n-t)*(r.tickPixelInterval/(i?5:1))/((i?o/this.tickPositions.length:o)||1)),e=k(e,null,x(e)),s=an(this.getLinearTickPositions(e,t,n),a),i||(this._minorAutoInterval=e/5);return i||(this.tickInterval=e),s},getMinorTickPositions:function(){var e,t=this.options,n=this.tickPositions,i=this.minorTickInterval,r=[];if(this.isLog)for(e=n.length,t=1;e>t;t++)r=r.concat(this.getLogTickPositions(i,n[t-1],n[t],!0));else if(this.isDatetimeAxis&&t.minorTickInterval==="auto")r=r.concat(C($(i),this.min,this.max,t.startOfWeek)),r[0]<this.min&&r.shift();else for(n=this.min+(n[0]-this.min)%i;n<=this.max;n+=i)r.push(n);return r},adjustForMinRange:function(){var e,t,n,i,r,o,s=this.options,a=this.min,l=this.max,c=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===W&&!this.isLog&&(u(s.min)||u(s.max)?this.minRange=null:(rn(this.series,function(e){for(r=e.xData,n=o=e.xIncrement?1:r.length-1;n>0;n--)i=r[n]-r[n-1],(t===W||t>i)&&(t=i)}),this.minRange=vt(5*t,this.dataMax-this.dataMin))),l-a<this.minRange){var d=this.minRange;e=(d-l+a)/2,e=[a-e,p(s.min,a-e)],c&&(e[2]=this.dataMin),a=D(e),l=[a+d,p(s.max,a+d)],c&&(l[2]=this.dataMax),l=S(l),d>l-a&&(e[0]=l-d,e[1]=p(s.min,l-d),a=D(e))}this.min=a,this.max=l},setAxisTranslation:function(e){var t,n=this.max-this.min,r=0,o=0,s=0,a=this.linkedParent,l=this.transA;this.isXAxis&&(a?(o=a.minPointOffset,s=a.pointRangePadding):rn(this.series,function(e){var a=e.pointRange,l=e.options.pointPlacement,c=e.closestPointRange;a>n&&(a=0),r=gt(r,a),o=gt(o,i(l)?0:a/2),s=gt(s,"on"===l?0:a),!e.noSharedTooltip&&u(c)&&(t=u(t)?vt(t,c):c)}),a=this.ordinalSlope&&t?this.ordinalSlope/t:1,this.minPointOffset=o*=a,this.pointRangePadding=s*=a,this.pointRange=vt(r,n),this.closestPointRange=t),e&&(this.oldTransA=l),this.translationSlope=this.transA=l=this.len/(n+s||1),this.transB=this.horiz?this.left:this.bottom,this.minPixelPadding=l*o},setTickPositions:function(e){var t=this,n=t.chart,i=t.options,r=t.isLog,o=t.isDatetimeAxis,s=t.isXAxis,l=t.isLinked,c=t.options.tickPositioner,d=i.maxPadding,h=i.minPadding,f=i.tickInterval,m=i.minTickInterval,g=i.tickPixelInterval,v=t.categories;l?(t.linkedParent=n[s?"xAxis":"yAxis"][i.linkedTo],n=t.linkedParent.getExtremes(),t.min=p(n.min,n.dataMin),t.max=p(n.max,n.dataMax),i.type!==t.linkedParent.options.type&&L(11,1)):(t.min=p(t.userMin,i.min,t.dataMin),t.max=p(t.userMax,i.max,t.dataMax)),r&&(!e&&vt(t.min,p(t.dataMin,t.min))<=0&&L(10,1),t.min=E(a(t.min)),t.max=E(a(t.max))),t.range&&(t.userMin=t.min=gt(t.min,t.max-t.range),t.userMax=t.max,e)&&(t.range=null),t.beforePadding&&t.beforePadding(),t.adjustForMinRange(),!v&&!t.usePercentage&&!l&&u(t.min)&&u(t.max)&&(n=t.max-t.min)&&(u(i.min)||u(t.userMin)||!h||!(t.dataMin<0)&&t.ignoreMinPadding||(t.min-=n*h),u(i.max)||u(t.userMax)||!d||!(t.dataMax>0)&&t.ignoreMaxPadding||(t.max+=n*d)),t.tickInterval=t.min===t.max||t.min===void 0||t.max===void 0?1:l&&!f&&g===t.linkedParent.options.tickPixelInterval?t.linkedParent.tickInterval:p(f,v?1:(t.max-t.min)*g/(t.len||1)),s&&!e&&rn(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)}),t.setAxisTranslation(!0),t.beforeSetTickPositions&&t.beforeSetTickPositions(),t.postProcessTickInterval&&(t.tickInterval=t.postProcessTickInterval(t.tickInterval)),t.pointRange&&(t.tickInterval=gt(t.pointRange,t.tickInterval)),!f&&t.tickInterval<m&&(t.tickInterval=m),o||r||f||(t.tickInterval=k(t.tickInterval,null,x(t.tickInterval),i)),t.minorTickInterval=i.minorTickInterval==="auto"&&t.tickInterval?t.tickInterval/5:i.minorTickInterval,t.tickPositions=e=i.tickPositions?[].concat(i.tickPositions):c&&c.apply(t,[t.min,t.max]),e||(e=o?(t.getNonLinearTimeTicks||C)($(t.tickInterval,i.units),t.min,t.max,i.startOfWeek,t.ordinalPositions,t.closestPointRange,!0):r?t.getLogTickPositions(t.tickInterval,t.min,t.max):t.getLinearTickPositions(t.tickInterval,t.min,t.max),t.tickPositions=e),l||(r=e[0],o=e[e.length-1],l=t.minPointOffset||0,i.startOnTick?t.min=r:t.min-l>r&&e.shift(),i.endOnTick?t.max=o:t.max+l<o&&e.pop(),e.length===1&&(t.min-=.001,t.max+=.001))},setMaxTicks:function(){var e=this.chart,t=e.maxTicks||{},n=this.tickPositions,i=this._maxTicksKey=[this.xOrY,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&n&&n.length>(t[i]||0)&&this.options.alignTicks!==!1&&(t[i]=n.length),e.maxTicks=t},adjustTickAmount:function(){var e=this._maxTicksKey,t=this.tickPositions,n=this.chart.maxTicks;if(n&&n[e]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1){var i=this.tickAmount,r=t.length;if(this.tickAmount=e=n[e],e>r){for(;t.length<e;)t.push(E(t[t.length-1]+this.tickInterval));this.transA*=(r-1)/(e-1),this.max=t[t.length-1]}u(i)&&e!==i&&(this.isDirty=!0)}},setScale:function(){var e,t,n,i,r=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),i=this.len!==this.oldAxisLength,rn(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(n=!0)}),i||n||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(e in r)for(t in r[e])r[e][t].total=null;this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=i||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis){this.oldStacks&&(r=this.stacks=this.oldStacks);for(e in r)for(t in r[e])r[e][t].cum=r[e][t].total}this.setMaxTicks()},setExtremes:function(t,n,i,r,o){var s=this,a=s.chart,i=p(i,!0),o=e(o,{min:t,max:n});un(s,"setExtremes",o,function(){s.userMin=t,s.userMax=n,s.isDirtyExtremes=!0,i&&a.redraw(r)})},zoom:function(e,t){return this.allowZoomOutside||(u(this.dataMin)&&e<=this.dataMin&&(e=W),u(this.dataMax)&&t>=this.dataMax&&(t=W)),this.displayBtn=e!==W||t!==W,this.setExtremes(e,t,!1,W,{trigger:"zoom"}),!0},setAxisSize:function(){var e,t,n=this.chart,i=this.options,r=i.offsetLeft||0,o=i.offsetRight||0,s=this.horiz;this.left=t=p(i.left,n.plotLeft+r),this.top=e=p(i.top,n.plotTop),this.width=r=p(i.width,n.plotWidth-r+o),this.height=i=p(i.height,n.plotHeight),this.bottom=n.chartHeight-i-e,this.right=n.chartWidth-r-t,this.len=gt(s?r:i,0),this.pos=s?t:e},getExtremes:function(){var e=this.isLog;return{min:e?E(l(this.min)):this.min,max:e?E(l(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,n=t?l(this.min):this.min,t=t?l(this.max):this.max;return n>e||null===e?e=n:e>t&&(e=t),this.translate(e,0,1,0,1)},addPlotBand:function(e){this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=new I(this,e).render(),i=this.userOptions;return t&&(i[t]=i[t]||[],i[t].push(e)),this.plotLinesAndBands.push(n),n},autoLabelAlign:function(e){return e=(p(e,0)-this.side*90+720)%360,e>15&&165>e?"right":e>195&&345>e?"left":"center"},getOffset:function(){var e,t,n,i,r,o,s,a=this,l=a.chart,c=l.renderer,d=a.options,h=a.tickPositions,f=a.ticks,m=a.horiz,g=a.side,v=l.inverted?[1,0,3,2][g]:g,y=0,b=0,w=d.title,x=d.labels,k=0,$=l.axisOffset,C=l.clipOffset,_=[-1,1,1,-1][g],T=1,S=p(x.maxStaggerLines,5);if(a.hasData=e=a.hasVisibleSeries||u(a.min)&&u(a.max)&&!!h,a.showAxis=l=e||p(d.showEmpty,!0),a.staggerLines=a.horiz&&x.staggerLines,a.axisGroup||(a.gridGroup=c.g("grid").attr({zIndex:d.gridZIndex||1}).add(),a.axisGroup=c.g("axis").attr({zIndex:d.zIndex||2}).add(),a.labelGroup=c.g("axis-labels").attr({zIndex:x.zIndex||7}).add()),e||a.isLinked){if(a.labelAlign=p(x.align||a.autoLabelAlign(x.rotation)),rn(h,function(e){f[e]?f[e].addLabel():f[e]=new N(a,e)}),a.horiz&&!a.staggerLines&&S&&!x.rotation){for(n=a.reversed?[].concat(h).reverse():h;S>T;){for(e=[],i=!1,x=0;x<n.length;x++)r=n[x],o=(o=f[r].label&&f[r].label.bBox)?o.width:0,s=x%T,o&&(r=a.translate(r),e[s]!==W&&r<e[s]&&(i=!0),e[s]=r+o);if(!i)break;T++}T>1&&(a.staggerLines=T)}rn(h,function(e){(0===g||2===g||{1:"left",3:"right"}[g]===a.labelAlign)&&(k=gt(f[e].getLabelSize(),k))}),a.staggerLines&&(k*=a.staggerLines,a.labelOffset=k)}else for(n in f)f[n].destroy(),delete f[n];w&&w.text&&w.enabled!==!1&&(a.axisTitle||(a.axisTitle=c.text(w.text,0,0,w.useHTML).attr({zIndex:7,rotation:w.rotation||0,align:w.textAlign||{low:"left",middle:"center",high:"right"}[w.align]}).css(w.style).add(a.axisGroup),a.axisTitle.isNew=!0),l&&(y=a.axisTitle.getBBox()[m?"height":"width"],b=p(w.margin,m?5:10),t=w.offset),a.axisTitle[l?"show":"hide"]()),a.offset=_*p(d.offset,$[g]),a.axisTitleMargin=p(t,k+b+(2!==g&&k&&_*d.labels[m?"y":"x"])),$[g]=gt($[g],a.axisTitleMargin+y+_*a.offset),C[v]=gt(C[v],d.lineWidth)},getLinePath:function(e){var t=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i;return this.lineTop=i=t.chartHeight-this.bottom-(n?this.height:0)+i,n||(e*=-1),t.renderer.crispLine(["M",r?this.left:o,r?i:this.top,"L",r?t.chartWidth-this.right:o,r?i:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,i=this.top,r=this.len,o=this.options.title,s=e?t:i,a=this.opposite,l=this.offset,c=n(o.style.fontSize||12),r={low:s+(e?0:r),middle:s+r/2,high:s+(e?r:0)}[o.align],t=(e?i+this.height:t)+(e?1:-1)*(a?-1:1)*this.axisTitleMargin+(this.side===2?c:0);
return{x:e?r:t+(a?this.width:0)+l+(o.x||0),y:e?t-(a?this.height:0)+l:r+(o.y||0)}},render:function(){var e,t=this,n=t.chart,i=n.renderer,r=t.options,o=t.isLog,s=t.isLinked,a=t.tickPositions,c=t.axisTitle,d=t.stacks,h=t.ticks,p=t.minorTicks,f=t.alternateBands,m=r.stackLabels,g=r.alternateGridColor,v=t.tickmarkOffset,y=r.lineWidth,b=n.hasRendered&&u(t.oldMin)&&!isNaN(t.oldMin);e=t.hasData;var w,x,k=t.showAxis;if(rn([h,p,f],function(e){for(var t in e)e[t].isActive=!1}),(e||s)&&(t.minorTickInterval&&!t.categories&&rn(t.getMinorTickPositions(),function(e){p[e]||(p[e]=new N(t,e,"minor")),b&&p[e].isNew&&p[e].render(null,!0),p[e].render(null,!1,1)}),a.length&&(rn(a.slice(1).concat([a[0]]),function(e,n){n=n===a.length-1?0:n+1,(!s||e>=t.min&&e<=t.max)&&(h[e]||(h[e]=new N(t,e)),b&&h[e].isNew&&h[e].render(n,!0),h[e].render(n,!1,1))}),v&&t.min===0&&(h[-1]||(h[-1]=new N(t,-1,null,!0)),h[-1].render(-1))),g&&rn(a,function(e,n){0===n%2&&e<t.max&&(f[e]||(f[e]=new I(t)),w=e+v,x=a[n+1]!==W?a[n+1]+v:t.max,f[e].options={from:o?l(w):w,to:o?l(x):x,color:g},f[e].render(),f[e].isActive=!0)}),t._addedPlotLB||(rn((r.plotLines||[]).concat(r.plotBands||[]),function(e){t.addPlotBandOrLine(e)}),t._addedPlotLB=!0)),rn([h,p,f],function(e){var t,i,r=[],o=G?G.duration||500:0,s=function(){for(i=r.length;i--;)e[r[i]]&&!e[r[i]].isActive&&(e[r[i]].destroy(),delete e[r[i]])};for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,r.push(t));e!==f&&n.hasRendered&&o?o&&setTimeout(s,o):s()}),y&&(e=t.getLinePath(y),t.axisLine?t.axisLine.animate({d:e}):t.axisLine=i.path(e).attr({stroke:r.lineColor,"stroke-width":y,zIndex:7}).add(t.axisGroup),t.axisLine[k?"show":"hide"]()),c&&k&&(c[c.isNew?"attr":"animate"](t.getTitlePosition()),c.isNew=!1),m&&m.enabled){var $,C,r=t.stackTotalGroup;r||(t.stackTotalGroup=r=i.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),r.translate(n.plotLeft,n.plotTop);for($ in d)for(C in i=d[$])i[C].render(r)}t.isDirty=!1},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=t.length;r--;)t[r].id===e&&t[r].destroy();rn([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(t){for(r=t.length;r--;)t[r].id===e&&c(t,t[r])})},setTitle:function(e,t){this.update({title:e},t)},redraw:function(){var e=this.chart.pointer;e.reset&&e.reset(!0),this.render(),rn(this.plotLinesAndBands,function(e){e.render()}),rn(this.series,function(e){e.isDirty=!0})},buildStacks:function(){this.isXAxis||rn(this.series,function(e){e.setStackedPoints()})},setCategories:function(e,t){this.update({categories:e},t)},destroy:function(e){var t,n=this,i=n.stacks,r=n.plotLinesAndBands;e||cn(n);for(t in i)M(i[t]),i[t]=null;for(rn([n.ticks,n.minorTicks,n.alternateBands],function(e){M(e)}),e=r.length;e--;)r[e].destroy();rn("stackTotalGroup,axisLine,axisGroup,gridGroup,labelGroup,axisTitle".split(","),function(e){n[e]&&(n[e]=n[e].destroy())})}},R.prototype={init:function(e,t){var i=t.borderWidth,r=t.style,o=n(r.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape,null,null,t.useHTML,null,"tooltip").attr({padding:o,fill:t.backgroundColor,"stroke-width":i,r:t.borderRadius,zIndex:8}).css(r).css({padding:0}).hide().add(),Pt||this.label.shadow(t.shadow),this.shared=t.shared},destroy:function(){rn(this.crosshairs,function(e){e&&e.destroy()}),this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,n,i,r){var o=this,s=o.now,a=o.options.animation!==!1&&!o.isHidden;e(s,{x:a?(2*s.x+t)/3:t,y:a?(s.y+n)/2:n,anchorX:a?(2*s.anchorX+i)/3:i,anchorY:a?(s.anchorY+r)/2:r}),o.label.attr(s),a&&(yt(t-s.x)>1||yt(n-s.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(t,n,i,r)},32))},hide:function(){var e,t=this;clearTimeout(this.hideTimer),this.isHidden||(e=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){t.label.fadeOut(),t.isHidden=!0},p(this.options.hideDelay,500)),e&&rn(e,function(e){e.setState()}),this.chart.hoverPoints=null)},hideCrosshairs:function(){rn(this.crosshairs,function(e){e&&e.hide()})},getAnchor:function(e,t){var n,i,r=this.chart,o=r.inverted,s=r.plotTop,a=0,l=0,e=h(e);return n=e[0].tooltipPos,this.followPointer&&t&&(t.chartX===W&&(t=r.pointer.normalize(t)),n=[t.chartX-r.plotLeft,t.chartY-s]),n||(rn(e,function(e){i=e.series.yAxis,a+=e.plotX,l+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!o&&i?i.top-s:0)}),a/=e.length,l/=e.length,n=[o?r.plotWidth-l:a,this.shared&&!o&&e.length>1&&t?t.chartY-s:o?r.plotHeight-a:l]),an(n,pt)},getPosition:function(e,t,n){var i,r=this.chart,o=r.plotLeft,s=r.plotTop,a=r.plotWidth,l=r.plotHeight,c=p(this.options.distance,12),u=n.plotX,n=n.plotY,r=u+o+(r.inverted?c:-e-c),d=n-t+s+15;return 7>r&&(r=o+gt(u,0)+c),r+e>o+a&&(r-=r+e-(o+a),d=n-t+s-c,i=!0),s+5>d&&(d=s+5,i&&n>=d&&d+t>=n&&(d=n+s+c)),d+t>s+l&&(d=gt(s,s+l-t-c)),{x:r,y:d}},defaultFormatter:function(e){var t,n=this.points||h(this),i=n[0].series;return t=[i.tooltipHeaderFormatter(n[0])],rn(n,function(e){i=e.series,t.push(i.tooltipFormatter&&i.tooltipFormatter(e)||e.point.tooltipFormatter(i.tooltipOptions.pointFormat))}),t.push(e.options.footerFormat||""),t.join("")},refresh:function(e,t){var n,i,r,o,s=this.chart,l=this.label,c=this.options,u={},d=[];o=c.formatter||this.defaultFormatter;var f,u=s.hoverPoints,m=c.crosshairs;if(r=this.shared,clearTimeout(this.hideTimer),this.followPointer=h(e)[0].series.tooltipOptions.followPointer,i=this.getAnchor(e,t),n=i[0],i=i[1],!r||e.series&&e.series.noSharedTooltip?u=e.getLabelConfig():(s.hoverPoints=e,u&&rn(u,function(e){e.setState()}),rn(e,function(e){e.setState("hover"),d.push(e.getLabelConfig())}),u={x:e[0].category,y:e[0].y},u.points=d,e=e[0]),o=o.call(u,this),u=e.series,r=r||!u.isCartesian||u.tooltipOutsidePlot||s.isInsidePlot(n,i),o!==!1&&r?(this.isHidden&&(pn(l),l.attr("opacity",1).show()),l.attr({text:o}),f=c.borderColor||e.color||u.color||"#606060",l.attr({stroke:f}),this.updatePosition({plotX:n,plotY:i}),this.isHidden=!1):this.hide(),m)for(m=h(m),l=m.length;l--;)u=e.series,c=u[l?"yAxis":"xAxis"],m[l]&&c&&(r=l?p(e.stackY,e.y):e.x,c.isLog&&(r=a(r)),u.modifyValue&&(r=u.modifyValue(r)),c=c.getPlotLinePath(r,1),this.crosshairs[l]?this.crosshairs[l].attr({d:c,visibility:"visible"}):(r={"stroke-width":m[l].width||1,stroke:m[l].color||"#C0C0C0",zIndex:m[l].zIndex||2},m[l].dashStyle&&(r.dashstyle=m[l].dashStyle),this.crosshairs[l]=s.renderer.path(c).attr(r).add()));un(s,"tooltipRefresh",{text:o,x:n+s.plotLeft,y:i+s.plotTop,borderColor:f})},updatePosition:function(e){var t=this.chart,n=this.label,n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(pt(n.x),pt(n.y),e.plotX+t.plotLeft,e.plotY+t.plotTop)}},H.prototype={init:function(e,t){var n,i=Pt?"":t.chart.zoomType,r=e.inverted;this.options=t,this.chart=e,this.zoomX=n=/x/.test(i),this.zoomY=i=/y/.test(i),this.zoomHor=n&&!r||i&&r,this.zoomVert=i&&!r||n&&r,this.pinchDown=[],this.lastValidTouch={},t.tooltip.enabled&&(e.tooltip=new R(e,t.tooltip)),this.setDOMEvents()},normalize:function(t){var n,i,t=t||dt.event;return t.target||(t.target=t.srcElement),t=dn(t),i=t.touches?t.touches.item(0):t,this.chartPosition=n=sn(this.chart.container),e(t,{chartX:pt(p(i.pageX,i.clientX)-n.left),chartY:pt(p(i.pageY,i.clientY)-n.top)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return rn(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})}),t},getIndex:function(e){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},runPointActions:function(e){var t,n,i,r=this.chart,o=r.series,s=r.tooltip,a=r.hoverPoint,l=r.hoverSeries,c=r.chartWidth,u=this.getIndex(e);if(s&&this.options.tooltip.shared&&(!l||!l.noSharedTooltip)){for(t=[],n=o.length,i=0;n>i;i++)o[i].visible&&o[i].options.enableMouseTracking!==!1&&!o[i].noSharedTooltip&&o[i].tooltipPoints.length&&(r=o[i].tooltipPoints[u],r.series)&&(r._dist=yt(u-r.clientX),c=vt(c,r._dist),t.push(r));for(n=t.length;n--;)t[n]._dist>c&&t.splice(n,1);t.length&&t[0].clientX!==this.hoverX&&(s.refresh(t,e),this.hoverX=t[0].clientX)}l&&l.tracker?(r=l.tooltipPoints[u])&&r!==a&&r.onMouseOver(e):s&&s.followPointer&&!s.isHidden&&(e=s.getAnchor([{}],e),s.updatePosition({plotX:e[0],plotY:e[1]}))},reset:function(e){var t=this.chart,n=t.hoverSeries,i=t.hoverPoint,r=t.tooltip,t=r&&r.shared?t.hoverPoints:i;(e=e&&r&&t)&&h(t)[0].plotX===W&&(e=!1),e?r.refresh(t):(i&&i.onMouseOut(),n&&n.onMouseOut(),r&&(r.hide(),r.hideCrosshairs()),this.hoverX=null)},scaleGroups:function(e,t){var n,i=this.chart;rn(i.series,function(r){n=e||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(t?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))}),i.clipRect.attr(t||i.clipBox)},pinchTranslateDirection:function(e,t,n,i,r,o,s){var a,l,c,u=this.chart,d=e?"x":"y",h=e?"X":"Y",p="chart"+h,f=e?"width":"height",m=u["plot"+(e?"Left":"Top")],g=1,v=u.inverted,y=u.bounds[e?"h":"v"],b=t.length===1,w=t[0][p],x=n[0][p],k=!b&&t[1][p],$=!b&&n[1][p],n=function(){!b&&yt(w-k)>20&&(g=yt(x-$)/yt(w-k)),l=(m-x)/g+w,a=u["plot"+(e?"Width":"Height")]/g};n(),t=l,t<y.min?(t=y.min,c=!0):t+a>y.max&&(t=y.max-a,c=!0),c?(x-=.8*(x-s[d][0]),b||($-=.8*($-s[d][1])),n()):s[d]=[x,$],v||(o[d]=l-m,o[f]=a),o=v?1/g:g,r[f]=a,r[d]=t,i[v?e?"scaleY":"scaleX":"scale"+h]=g,i["translate"+h]=o*m+(x-o*w)},pinch:function(t){var n=this,i=n.chart,r=n.pinchDown,o=i.tooltip&&i.tooltip.options.followTouchMove,s=t.touches,a=s.length,l=n.lastValidTouch,c=n.zoomHor||n.pinchHor,u=n.zoomVert||n.pinchVert,d=c||u,h=n.selectionMarker,p={},f={};t.type==="touchstart"&&(o||d)&&t.preventDefault(),an(s,function(e){return n.normalize(e)}),t.type==="touchstart"?(rn(s,function(e,t){r[t]={chartX:e.chartX,chartY:e.chartY}}),l.x=[r[0].chartX,r[1]&&r[1].chartX],l.y=[r[0].chartY,r[1]&&r[1].chartY],rn(i.axes,function(e){if(e.zoomEnabled){var t=i.bounds[e.horiz?"h":"v"],n=e.minPixelPadding,r=e.toPixels(e.dataMin),o=e.toPixels(e.dataMax),s=vt(r,o),r=gt(r,o);t.min=vt(e.pos,s-n),t.max=gt(e.pos+e.len,r+n)}})):r.length&&(h||(n.selectionMarker=h=e({destroy:It},i.plotBox)),c&&n.pinchTranslateDirection(!0,r,s,p,h,f,l),u&&n.pinchTranslateDirection(!1,r,s,p,h,f,l),n.hasPinched=d,n.scaleGroups(p,f),!d&&o&&1===a&&this.runPointActions(n.normalize(t)))},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,this.mouseDownY=e.chartY},drag:function(e){var t,n=this.chart,i=n.options.chart,r=e.chartX,e=e.chartY,o=this.zoomHor,s=this.zoomVert,a=n.plotLeft,l=n.plotTop,c=n.plotWidth,u=n.plotHeight,d=this.mouseDownX,h=this.mouseDownY;a>r?r=a:r>a+c&&(r=a+c),l>e?e=l:e>l+u&&(e=l+u),this.hasDragged=Math.sqrt(Math.pow(d-r,2)+Math.pow(h-e,2)),this.hasDragged>10&&(t=n.isInsidePlot(d-a,h-l),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&t&&!this.selectionMarker&&(this.selectionMarker=n.renderer.rect(a,l,o?1:c,s?1:u,0).attr({fill:i.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&o&&(o=r-d,this.selectionMarker.attr({width:yt(o),x:(o>0?0:o)+d})),this.selectionMarker&&s&&(o=e-h,this.selectionMarker.attr({height:yt(o),y:(o>0?0:o)+h})),t&&!this.selectionMarker&&i.panning&&n.pan(r))},drop:function(t){var n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,o={xAxis:[],yAxis:[],originalEvent:t.originalEvent||t},s=this.selectionMarker,a=s.x,l=s.y;(this.hasDragged||i)&&(rn(n.axes,function(e){if(e.zoomEnabled){var t=e.horiz,n=e.toValue(t?a:l),t=e.toValue(t?a+s.width:l+s.height);!isNaN(n)&&!isNaN(t)&&(o[e.xOrY+"Axis"].push({axis:e,min:vt(n,t),max:gt(n,t)}),r=!0)}}),r&&un(n,"selection",o,function(t){n.zoom(e(t,i?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),i&&this.scaleGroups()}n&&(f(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){this.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition,i=t.hoverSeries,e=dn(e);n&&i&&i.isCartesian&&!t.isInsidePlot(e.pageX-n.left-t.plotLeft,e.pageY-n.top-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){this.reset(),this.chartPosition=null},onContainerMouseMove:function(e){var t=this.chart,e=this.normalize(e);e.returnValue=!1,t.mouseIsDown==="mousedown"&&this.drag(e),t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){for(var n;e;){if(n=d(e,"class")){if(n.indexOf(t)!==-1)return!0;if(n.indexOf("highcharts-container")!==-1)return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries;!t||t.options.stickyTracking||this.inClass(e.toElement||e.relatedTarget,"highcharts-tooltip")||t.onMouseOut()},onContainerClick:function(t){var n,i,r,o=this.chart,s=o.hoverPoint,a=o.plotLeft,l=o.plotTop,c=o.inverted,t=this.normalize(t);t.cancelBubble=!0,o.cancelClick||(s&&this.inClass(t.target,"highcharts-tracker")?(n=this.chartPosition,i=s.plotX,r=s.plotY,e(s,{pageX:n.left+a+(c?o.plotWidth-r:i),pageY:n.top+l+(c?o.plotHeight-i:r)}),un(s.series,"click",e(t,{point:s})),o.hoverPoint&&s.firePointEvent("click",t)):(e(t,this.getCoordinates(t)),o.isInsidePlot(t.chartX-a,t.chartY-l)&&un(o,"click",t)))},onContainerTouchStart:function(e){var t=this.chart;e.touches.length===1?(e=this.normalize(e),t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)?(this.runPointActions(e),this.pinch(e)):this.reset()):e.touches.length===2&&this.pinch(e)},onContainerTouchMove:function(e){(e.touches.length===1||e.touches.length===2)&&this.pinch(e)},onDocumentTouchEnd:function(e){this.drop(e)},setDOMEvents:function(){var e,t=this,n=t.chart.container;this._events=e=[[n,"onmousedown","onContainerMouseDown"],[n,"onmousemove","onContainerMouseMove"],[n,"onclick","onContainerClick"],[n,"mouseleave","onContainerMouseLeave"],[ut,"mousemove","onDocumentMouseMove"],[ut,"mouseup","onDocumentMouseUp"]],Ft&&e.push([n,"ontouchstart","onContainerTouchStart"],[n,"ontouchmove","onContainerTouchMove"],[ut,"touchend","onDocumentTouchEnd"]),rn(e,function(e){t["_"+e[2]]=function(n){t[e[2]](n)},e[1].indexOf("on")===0?e[0][e[1]]=t["_"+e[2]]:ln(e[0],e[1],t["_"+e[2]])})},destroy:function(){var e=this;rn(e._events,function(t){t[1].indexOf("on")===0?t[0][t[1]]=null:cn(t[0],t[1],e["_"+t[2]])}),delete e._events,clearInterval(e.tooltipTimeout)}},Y.prototype={init:function(e,i){var r=this,o=i.itemStyle,s=p(i.padding,8),a=i.itemMarginTop||0;this.options=i,i.enabled&&(r.baseline=n(o.fontSize)+3+a,r.itemStyle=o,r.itemHiddenStyle=t(o,i.itemHiddenStyle),r.itemMarginTop=a,r.padding=s,r.initialItemX=s,r.initialItemY=s-5,r.maxItemWidth=0,r.chart=e,r.itemHeight=0,r.lastLineHeight=0,r.render(),ln(r.chart,"endResize",function(){r.positionCheckboxes()}))},colorizeItem:function(e,t){var n,i=this.options,r=e.legendItem,o=e.legendLine,s=e.legendSymbol,a=this.itemHiddenStyle.color,i=t?i.itemStyle.color:a,l=t?e.color:a,a=e.options&&e.options.marker,c={stroke:l,fill:l};if(r&&r.css({fill:i,color:i}),o&&o.attr({stroke:l}),s){if(a&&s.isMarker)for(n in a=e.convertAttribs(a))r=a[n],r!==W&&(c[n]=r);s.attr(c)}},positionItem:function(e){var t=this.options,n=t.symbolPadding,t=!t.rtl,i=e._legendItemPos,r=i[0],i=i[1],o=e.checkbox;e.legendGroup&&e.legendGroup.translate(t?r:this.legendWidth-r-2*n-4,i),o&&(o.x=r,o.y=i)},destroyItem:function(e){var t=e.checkbox;rn(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&A(e.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy()),e&&(this.group=e.destroy())},positionCheckboxes:function(e){var t,n=this.group.alignAttr,i=this.clipHeight||this.legendHeight;n&&(t=n.translateY,rn(this.allItems,function(r){var o,s=r.checkbox;s&&(o=t+s.y+(e||0)+3,f(s,{left:n.translateX+r.legendItemWidth+s.x-20+"px",top:o+"px",display:o>t-6&&t+i-6>o?"":Rt}))}))},renderTitle:function(){var e=this.padding,t=this.options.title,n=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),e=this.title.getBBox(),n=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},renderItem:function(e){var n,i=this,r=i.chart,o=r.renderer,s=i.options,a=s.layout==="horizontal",l=s.symbolWidth,c=s.symbolPadding,u=i.itemStyle,d=i.itemHiddenStyle,h=i.padding,f=a?p(s.itemDistance,8):0,g=!s.rtl,v=s.width,y=s.itemMarginBottom||0,b=i.itemMarginTop,x=i.initialItemX,k=e.legendItem,$=e.series||e,C=$.options,_=C.showCheckbox,T=s.useHTML;!k&&(e.legendGroup=o.g("legend-item").attr({zIndex:1}).add(i.scrollGroup),$.drawLegendSymbol(i,e),e.legendItem=k=o.text(s.labelFormat?w(s.labelFormat,e):s.labelFormatter.call(e),g?l+c:-c,i.baseline,T).css(t(e.visible?u:d)).attr({align:g?"left":"right",zIndex:2}).add(e.legendGroup),(T?k:e.legendGroup).on("mouseover",function(){e.setState("hover"),k.css(i.options.itemHoverStyle)}).on("mouseout",function(){k.css(e.visible?u:d),e.setState()}).on("click",function(t){var n=function(){e.setVisible()},t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,n):un(e,"legendItemClick",t,n)}),i.colorizeItem(e,e.visible),C&&_)&&(e.checkbox=m("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},s.itemCheckboxStyle,r.container),ln(e.checkbox,"click",function(t){un(e,"checkboxClick",{checked:t.target.checked},function(){e.select()})})),o=k.getBBox(),n=e.legendItemWidth=s.itemWidth||l+c+o.width+f+(_?20:0),s=n,i.itemHeight=l=o.height,a&&i.itemX-x+s>(v||r.chartWidth-2*h-x)&&(i.itemX=x,i.itemY+=b+i.lastLineHeight+y,i.lastLineHeight=0),i.maxItemWidth=gt(i.maxItemWidth,s),i.lastItemY=b+i.itemY+y,i.lastLineHeight=gt(l,i.lastLineHeight),e._legendItemPos=[i.itemX,i.itemY],a?i.itemX+=s:(i.itemY+=b+l+y,i.lastLineHeight=l),i.offsetWidth=v||gt((a?i.itemX-x-f:s)+h,i.offsetWidth)},render:function(){var t,n,i,r,o=this,s=o.chart,a=s.renderer,l=o.group,c=o.box,d=o.options,h=o.padding,p=d.borderWidth,f=d.backgroundColor;o.itemX=o.initialItemX,o.itemY=o.initialItemY,o.offsetWidth=0,o.lastItemY=0,l||(o.group=l=a.g("legend").attr({zIndex:7}).add(),o.contentGroup=a.g().attr({zIndex:1}).add(l),o.scrollGroup=a.g().add(o.contentGroup)),o.renderTitle(),t=[],rn(s.series,function(e){var n=e.options;n.showInLegend&&!u(n.linkedTo)&&(t=t.concat(e.legendItems||(n.legendType==="point"?e.data:e)))}),T(t,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),d.reversed&&t.reverse(),o.allItems=t,o.display=n=!!t.length,rn(t,function(e){o.renderItem(e)}),i=d.width||o.offsetWidth,r=o.lastItemY+o.lastLineHeight+o.titleHeight,r=o.handleOverflow(r),(p||f)&&(i+=h,r+=h,c?i>0&&r>0&&(c[c.isNew?"attr":"animate"](c.crisp(null,null,null,i,r)),c.isNew=!1):(o.box=c=a.rect(0,0,i,r,d.borderRadius,p||0).attr({stroke:d.borderColor,"stroke-width":p||0,fill:f||Rt}).add(l).shadow(d.shadow),c.isNew=!0),c[n?"show":"hide"]()),o.legendWidth=i,o.legendHeight=r,rn(t,function(e){o.positionItem(e)}),n&&l.align(e({width:i,height:r},d),!0,"spacingBox"),s.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t=this,n=this.chart,i=n.renderer,r=this.options,o=r.y,o=n.spacingBox.height+(r.verticalAlign==="top"?-o:o)-this.padding,s=r.maxHeight,a=this.clipRect,l=r.navigation,c=p(l.animation,!0),u=l.arrowSize||12,d=this.nav;return r.layout==="horizontal"&&(o/=2),s&&(o=vt(o,s)),e>o&&!r.useHTML?(this.clipHeight=n=o-20-this.titleHeight,this.pageCount=mt(e/n),this.currentPage=p(this.currentPage,1),this.fullHeight=e,a||(a=t.clipRect=i.clipRect(0,0,9999,0),t.contentGroup.clip(a)),a.attr({height:n}),d||(this.nav=d=i.g().attr({zIndex:1}).add(this.group),this.up=i.symbol("triangle",0,0,u,u).on("click",function(){t.scroll(-1,c)}).add(d),this.pager=i.text("",15,10).css(l.style).add(d),this.down=i.symbol("triangle-down",0,0,u,u).on("click",function(){t.scroll(1,c)}).add(d)),t.scroll(0),e=o):d&&(a.attr({height:n.chartHeight}),d.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var n=this.pageCount,i=this.currentPage+e,r=this.clipHeight,o=this.options.navigation,s=o.activeColor,a=o.inactiveColor,o=this.pager,l=this.padding;i>n&&(i=n),i>0&&(t!==W&&P(t,this.chart),this.nav.attr({translateX:l,translateY:r+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===i?a:s}).css({cursor:1===i?"default":"pointer"}),o.attr({text:i+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:i===n?a:s}).css({cursor:i===n?"default":"pointer"}),r=-vt(r*(i-1),this.fullHeight-r+l)+1,this.scrollGroup.animate({translateY:r}),o.attr({text:i+"/"+n}),this.currentPage=i,this.positionCheckboxes(r))}},j.prototype={init:function(e,n){var i,o=e.series;e.series=null,i=t(U,e),i.series=e.series=o;var o=i.chart,s=o.margin,s=r(s)?s:[s,s,s,s];this.optionsMarginTop=p(o.marginTop,s[0]),this.optionsMarginRight=p(o.marginRight,s[1]),this.optionsMarginBottom=p(o.marginBottom,s[2]),this.optionsMarginLeft=p(o.marginLeft,s[3]),s=o.events,this.bounds={h:{},v:{}},this.callback=n,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.hasCartesianSeries=o.showAxes;var a,l=this;if(l.index=zt.length,zt.push(l),o.reflow!==!1&&ln(l,"load",function(){l.initReflow()}),s)for(a in s)ln(l,a,s[a]);l.xAxis=[],l.yAxis=[],l.animation=Pt?!1:p(o.animation,!0),l.pointCount=0,l.counters=new _,l.firstRender()},initSeries:function(e){var t=this.options.chart;return(t=Zt[e.type||t.type||t.defaultSeriesType])||L(17,!0),t=new t,t.init(this,e),t},addSeries:function(e,t,n){var i,r=this;return e&&(t=p(t,!0),un(r,"addSeries",{options:e},function(){i=r.initSeries(e),r.isDirtyLegend=!0,t&&r.redraw(n)})),i},addAxis:function(e,n,i,r){var o=n?"xAxis":"yAxis",s=this.options;new B(this,t(e,{index:this[o].length,isX:n})),s[o]=h(s[o]||{}),s[o].push(e),p(i,!0)&&this.redraw(r)},isInsidePlot:function(e,t,n){var i=n?t:e,e=n?e:t;return i>=0&&i<=this.plotWidth&&e>=0&&e<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&rn(this.axes,function(e){e.adjustTickAmount()}),this.maxTicks=null},redraw:function(e){var t,n,i=this.axes,r=this.series,o=this.pointer,s=this.legend,a=this.isDirtyLegend,l=this.isDirtyBox,c=r.length,u=c,d=this.renderer,h=d.isHidden(),p=[];for(P(e,this),h&&this.cloneRenderTo(),this.layOutTitles();u--;)if(e=r[u],e.options.stacking&&(t=!0,e.isDirty)){n=!0;break}if(n)for(u=c;u--;)e=r[u],e.options.stacking&&(e.isDirty=!0);rn(r,function(e){e.isDirty&&e.options.legendType==="point"&&(a=!0)}),a&&s.options.enabled&&(s.render(),this.isDirtyLegend=!1),t&&this.getStacks(),this.hasCartesianSeries&&(this.isResizing||(this.maxTicks=null,rn(i,function(e){e.setScale()})),this.adjustTickAmounts(),this.getMargins(),rn(i,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,p.push(function(){un(e,"afterSetExtremes",e.getExtremes())})),(e.isDirty||l||t)&&(e.redraw(),l=!0)})),l&&this.drawChartBox(),rn(r,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),o&&o.reset&&o.reset(!0),d.draw(),un(this,"redraw"),h&&this.cloneRenderTo(!0),rn(p,function(e){e.call()})},showLoading:function(t){var n=this.options,i=this.loadingDiv,r=n.loading;i||(this.loadingDiv=i=m(Bt,{className:"highcharts-loading"},e(r.style,{zIndex:10,display:Rt}),this.container),this.loadingSpan=m("span",null,r.labelStyle,i)),this.loadingSpan.innerHTML=t||n.lang.loading,this.loadingShown||(f(i,{opacity:0,display:"",left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px"}),hn(i,{opacity:r.style.opacity},{duration:r.showDuration||0}),this.loadingShown=!0)},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&hn(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){f(t,{display:Rt})}}),this.loadingShown=!1},get:function(e){var t,n,i=this.axes,r=this.series;for(t=0;t<i.length;t++)if(i[t].options.id===e)return i[t];for(t=0;t<r.length;t++)if(r[t].options.id===e)return r[t];for(t=0;t<r.length;t++)for(n=r[t].points||[],i=0;i<n.length;i++)if(n[i].id===e)return n[i];return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis=h(t.xAxis||{}),t=t.yAxis=h(t.yAxis||{});rn(n,function(e,t){e.index=t,e.isX=!0}),rn(t,function(e,t){e.index=t}),n=n.concat(t),rn(n,function(t){new B(e,t)}),e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];return rn(this.series,function(t){e=e.concat(on(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return on(this.series,function(e){return e.selected})},getStacks:function(){var e=this;rn(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),rn(e.series,function(t){!t.options.stacking||t.visible!==!0&&e.options.chart.ignoreHiddenSeries!==!1||(t.stackKey=t.type+p(t.options.stack,""))})},showResetZoom:function(){var e=this,t=U.lang,n=e.options.chart.resetZoomButton,i=n.theme,r=i.states,o=n.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},i,r&&r.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,o)},zoomOut:function(){var e=this;un(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t,n,i=this.pointer,o=!1;!e||e.resetSelection?rn(this.axes,function(e){t=e.zoom()}):rn(e.xAxis.concat(e.yAxis),function(e){var n=e.axis,r=n.isXAxis;(i[r?"zoomX":"zoomY"]||i[r?"pinchX":"pinchY"])&&(t=n.zoom(e.min,e.max),n.displayBtn&&(o=!0))}),n=this.resetZoomButton,o&&!n?this.showResetZoom():!o&&r(n)&&(this.resetZoomButton=n.destroy()),t&&this.redraw(p(this.options.chart.animation,e&&e.animation,this.pointCount<100))},pan:function(e){var t=this.xAxis[0],n=this.mouseDownX,i=t.pointRange/2,r=t.getExtremes(),o=t.translate(n-e,!0)+i,n=t.translate(n+this.plotWidth-e,!0)-i;(i=this.hoverPoints)&&rn(i,function(e){e.setState()}),t.series.length&&o>vt(r.dataMin,r.min)&&n<gt(r.dataMax,r.max)&&t.setExtremes(o,n,!0,!1,{trigger:"pan"}),this.mouseDownX=e,f(this.container,{cursor:"move"})},setTitle:function(e,n){var i,r,o=this,s=o.options;r=s.title=t(s.title,e),i=s.subtitle=t(s.subtitle,n),s=i,rn([["title",e,r],["subtitle",n,s]],function(e){var t=e[0],n=o[t],i=e[1],e=e[2];n&&i&&(o[t]=n=n.destroy()),e&&e.text&&!n&&(o[t]=o.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,"class":"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add())}),o.layOutTitles()},layOutTitles:function(){var t=0,n=this.title,i=this.subtitle,r=this.options,o=r.title,r=r.subtitle,s=this.spacingBox.width-44;!n||(n.css({width:(o.width||s)+"px"}).align(e({y:15},o),!1,"spacingBox"),o.floating||o.verticalAlign)||(t=n.getBBox().height,t>=18&&25>=t&&(t=15)),i&&(i.css({width:(r.width||s)+"px"}).align(e({y:t+o.margin},r),!1,"spacingBox"),!r.floating&&!r.verticalAlign&&(t=mt(t+i.getBBox().height))),this.titleOffset=t},getChartSize:function(){var e=this.options.chart,t=this.renderToClone||this.renderTo;this.containerWidth=en(t,"width"),this.containerHeight=en(t,"height"),this.chartWidth=gt(0,e.width||this.containerWidth||600),this.chartHeight=gt(0,p(e.height,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,n=this.container;e?t&&(this.renderTo.appendChild(n),A(t),delete this.renderToClone):(n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=t=this.renderTo.cloneNode(0),f(t,{position:"absolute",top:"-9999px",display:"block"}),ut.body.appendChild(t),n&&t.appendChild(n))},getContainer:function(){var t,r,o,s,a=this.options.chart;this.renderTo=t=a.renderTo,s="highcharts-"+Nt++,i(t)&&(this.renderTo=t=ut.getElementById(t)),t||L(13,!0),r=n(d(t,"data-highcharts-chart")),!isNaN(r)&&zt[r]&&zt[r].destroy(),d(t,"data-highcharts-chart",this.index),t.innerHTML="",t.offsetWidth||this.cloneRenderTo(),this.getChartSize(),r=this.chartWidth,o=this.chartHeight,this.container=t=m(Bt,{className:"highcharts-container"+(a.className?" "+a.className:""),id:s},e({position:"relative",overflow:"hidden",width:r+"px",height:o+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},a.style),this.renderToClone||t),this._cursor=t.style.cursor,this.renderer=a.forExport?new gn(t,r,o,!0):new V(t,r,o),Pt&&this.renderer.create(this,t,r,o)},getMargins:function(){var e,t=this.options.chart,n=t.spacingTop,i=t.spacingRight,r=t.spacingBottom,t=t.spacingLeft,o=this.legend,s=this.optionsMarginTop,a=this.optionsMarginLeft,l=this.optionsMarginRight,c=this.optionsMarginBottom,d=this.options.legend,h=p(d.margin,10),f=d.x,m=d.y,g=d.align,v=d.verticalAlign,y=this.titleOffset;this.resetMargins(),e=this.axisOffset,y&&!u(s)&&(this.plotTop=gt(this.plotTop,y+this.options.title.margin+n)),o.display&&!d.floating&&("right"===g?u(l)||(this.marginRight=gt(this.marginRight,o.legendWidth-f+h+i)):"left"===g?u(a)||(this.plotLeft=gt(this.plotLeft,o.legendWidth+f+h+t)):"top"===v?u(s)||(this.plotTop=gt(this.plotTop,o.legendHeight+m+h+n)):"bottom"!==v||u(c)||(this.marginBottom=gt(this.marginBottom,o.legendHeight-m+h+r))),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),this.hasCartesianSeries&&rn(this.axes,function(e){e.getOffset()}),u(a)||(this.plotLeft+=e[3]),u(s)||(this.plotTop+=e[0]),u(c)||(this.marginBottom+=e[2]),u(l)||(this.marginRight+=e[1]),this.setChartSize()},initReflow:function(){function e(e){var o=i.width||en(r,"width"),s=i.height||en(r,"height"),e=e?e.target:dt;n.hasUserSize||!o||!s||e!==dt&&e!==ut||((o!==n.containerWidth||s!==n.containerHeight)&&(clearTimeout(t),n.reflowTimeout=t=setTimeout(function(){n.container&&(n.setSize(o,s,!1),n.hasUserSize=null)},100)),n.containerWidth=o,n.containerHeight=s)}var t,n=this,i=n.options.chart,r=n.renderTo;ln(dt,"resize",e),ln(n,"destroy",function(){cn(dt,"resize",e)})},setSize:function(e,t,n){var i,r,o,s=this;s.isResizing+=1,o=function(){s&&un(s,"endResize",null,function(){s.isResizing-=1})},P(n,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,u(e)&&(s.chartWidth=i=gt(0,pt(e)),s.hasUserSize=!!i),u(t)&&(s.chartHeight=r=gt(0,pt(t))),f(s.container,{width:i+"px",height:r+"px"}),s.setChartSize(!0),s.renderer.setSize(i,r,n),s.maxTicks=null,rn(s.axes,function(e){e.isDirty=!0,e.setScale()}),rn(s.series,function(e){e.isDirty=!0}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.getMargins(),s.redraw(n),s.oldChartHeight=null,un(s,"resize"),G===!1?o():setTimeout(o,G&&G.duration||500)},setChartSize:function(e){var t,n,i,r,o=this.inverted,s=this.renderer,a=this.chartWidth,l=this.chartHeight,c=this.options.chart,u=c.spacingTop,d=c.spacingRight,h=c.spacingBottom,p=c.spacingLeft,f=this.clipOffset;this.plotLeft=t=pt(this.plotLeft),this.plotTop=n=pt(this.plotTop),this.plotWidth=i=gt(0,pt(a-t-this.marginRight)),this.plotHeight=r=gt(0,pt(l-n-this.marginBottom)),this.plotSizeX=o?r:i,this.plotSizeY=o?i:r,this.plotBorderWidth=o=c.plotBorderWidth||0,this.spacingBox=s.spacingBox={x:p,y:u,width:a-p-d,height:l-u-h},this.plotBox=s.plotBox={x:t,y:n,width:i,height:r},s=mt(gt(o,f[3])/2),a=mt(gt(o,f[0])/2),this.clipBox={x:s,y:a,width:ft(this.plotSizeX-gt(o,f[1])/2-s),height:ft(this.plotSizeY-gt(o,f[2])/2-a)},e||rn(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this.options.chart,t=e.spacingRight,n=e.spacingBottom,i=e.spacingLeft;this.plotTop=p(this.optionsMarginTop,e.spacingTop),this.marginRight=p(this.optionsMarginRight,t),this.marginBottom=p(this.optionsMarginBottom,n),this.plotLeft=p(this.optionsMarginLeft,i),this.axisOffset=[0,0,0,0],this.clipOffset=[0,0,0,0]},drawChartBox:function(){var e,t=this.options.chart,n=this.renderer,i=this.chartWidth,r=this.chartHeight,o=this.chartBackground,s=this.plotBackground,a=this.plotBorder,l=this.plotBGImage,c=t.borderWidth||0,u=t.backgroundColor,d=t.plotBackgroundColor,h=t.plotBackgroundImage,p=t.plotBorderWidth||0,f=this.plotLeft,m=this.plotTop,g=this.plotWidth,v=this.plotHeight,y=this.plotBox,b=this.clipRect,w=this.clipBox;e=c+(t.shadow?8:0),(c||u)&&(o?o.animate(o.crisp(null,null,null,i-e,r-e)):(o={fill:u||Rt},c&&(o.stroke=t.borderColor,o["stroke-width"]=c),this.chartBackground=n.rect(e/2,e/2,i-e,r-e,t.borderRadius,c).attr(o).add().shadow(t.shadow))),d&&(s?s.animate(y):this.plotBackground=n.rect(f,m,g,v,0).attr({fill:d}).add().shadow(t.plotShadow)),h&&(l?l.animate(y):this.plotBGImage=n.image(h,f,m,g,v).add()),b?b.animate({width:w.width,height:w.height}):this.clipRect=n.clipRect(w),p&&(a?a.animate(a.crisp(null,f,m,g,v)):this.plotBorder=n.rect(f,m,g,v,0,p).attr({stroke:t.plotBorderColor,"stroke-width":p,zIndex:1}).add()),this.isDirtyBox=!1
},propFromSeries:function(){var e,t,n,i=this,r=i.options.chart,o=i.options.series;rn(["inverted","angular","polar"],function(s){for(e=Zt[r.type||r.defaultSeriesType],n=i[s]||r[s]||e&&e.prototype[s],t=o&&o.length;!n&&t--;)(e=Zt[o[t].type])&&e.prototype[s]&&(n=!0);i[s]=n})},render:function(){var t,i=this,r=i.axes,o=i.renderer,s=i.options,a=s.labels,l=s.credits;i.setTitle(),i.legend=new Y(i,s.legend),i.getStacks(),rn(r,function(e){e.setScale()}),i.getMargins(),i.maxTicks=null,rn(r,function(e){e.setTickPositions(!0),e.setMaxTicks()}),i.adjustTickAmounts(),i.getMargins(),i.drawChartBox(),i.hasCartesianSeries&&rn(r,function(e){e.render()}),i.seriesGroup||(i.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),rn(i.series,function(e){e.translate(),e.setTooltipPoints(),e.render()}),a.items&&rn(a.items,function(t){var r=e(a.style,t.style),s=n(r.left)+i.plotLeft,l=n(r.top)+i.plotTop+12;delete r.left,delete r.top,o.text(t.html,s,l).attr({zIndex:2}).css(r).add()}),l.enabled&&!i.credits&&(t=l.href,i.credits=o.text(l.text,0,0).on("click",function(){t&&(location.href=t)}).attr({align:l.position.align,zIndex:8}).css(l.style).add().align(l.position)),i.hasRendered=!0},destroy:function(){var e,t=this,n=t.axes,i=t.series,r=t.container,o=r&&r.parentNode;for(un(t,"destroy"),zt[t.index]=W,t.renderTo.removeAttribute("data-highcharts-chart"),cn(t),e=n.length;e--;)n[e]=n[e].destroy();for(e=i.length;e--;)i[e]=i[e].destroy();rn("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(e){var n=t[e];n&&n.destroy&&(t[e]=n.destroy())}),r&&(r.innerHTML="",cn(r),o&&A(r));for(e in t)delete t[e]},isReadyToRender:function(){var e=this;return!Lt&&dt==dt.top&&ut.readyState!=="complete"||Pt&&!dt.canvg?(Pt?bn.push(function(){e.firstRender()},e.options.global.canvasToolsURL):ut.attachEvent("onreadystatechange",function(){ut.detachEvent("onreadystatechange",e.firstRender),ut.readyState==="complete"&&e.firstRender()}),!1):!0},firstRender:function(){var e=this,t=e.options,n=e.callback;e.isReadyToRender()&&(e.getContainer(),un(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),rn(t.series||[],function(t){e.initSeries(t)}),un(e,"beforeRender"),e.pointer=new H(e,t),e.render(),e.renderer.draw(),n&&n.apply(e,[e]),rn(e.callbacks,function(t){t.apply(e,[e])}),e.cloneRenderTo(!0),un(e,"load"))}},j.prototype.callbacks=[];var wn=function(){};wn.prototype={init:function(e,t,n){return this.series=e,this.applyOptions(t,n),this.pointAttr={},e.options.colorByPoint&&(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter++],e.colorCounter===t.length)&&(e.colorCounter=0),e.chart.pointCount++,this},applyOptions:function(t,n){var i=this.series,r=i.pointValKey,t=wn.prototype.optionsToObject.call(this,t);return e(this,t),this.options=this.options?e(this.options,t):t,r&&(this.y=this[r]),this.x===W&&i&&(this.x=n===W?i.autoIncrement():n),this},optionsToObject:function(e){var t,n=this.series,i=n.pointArrayMap||["y"],r=i.length,s=0,a=0;if("number"==typeof e||null===e)t={y:e};else if(o(e))for(t={},e.length>r&&(n=typeof e[0],"string"===n?t.name=e[0]:"number"===n&&(t.x=e[0]),s++);r>a;)t[i[a++]]=e[s++];else"object"==typeof e&&(t=e,e.dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return t},destroy:function(){var e,t=this.series.chart,n=t.hoverPoints;t.pointCount--,n&&(this.setState(),c(n,this),!n.length)&&(t.hoverPoints=null),this===t.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(cn(this),this.destroyElements()),this.legendItem&&t.legend.destroyItem(this);for(e in this)this[e]=null},destroyElements:function(){for(var e,t="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),n=6;n--;)e=t[n],this[e]&&(this[e]=this[e].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(e,t){var n=this,i=n.series,r=i.chart,e=p(e,!n.selected);n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e,i.options.data[nn(n,i.data)]=n.options,n.setState(e&&"select"),t||rn(r.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,i.options.data[nn(e,i.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e){var t=this.series,n=t.chart,i=n.tooltip,r=n.hoverPoint;r&&r!==this&&r.onMouseOut(),this.firePointEvent("mouseOver"),i&&(!i.shared||t.noSharedTooltip)&&i.refresh(this,e),this.setState("hover"),n.hoverPoint=this},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;t&&nn(this,t)!==-1||(this.firePointEvent("mouseOut"),this.setState(),e.hoverPoint=null)},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,i=p(n.valueDecimals,""),r=n.valuePrefix||"",o=n.valueSuffix||"";return rn(t.pointArrayMap||["y"],function(t){t="{point."+t,(r||o)&&(e=e.replace(t+"}",r+t+"}"+o)),e=e.replace(t+"}",t+":,."+i+"f}")}),w(e,{point:this,series:this.series})},update:function(e,t,n){var i,o=this,s=o.series,a=o.graphic,l=s.data,c=s.chart,u=s.options,t=p(t,!0);o.firePointEvent("update",{options:e},function(){o.applyOptions(e),r(e)&&(s.getAttribs(),a&&a.attr(o.pointAttr[s.state])),i=nn(o,l),s.xData[i]=o.x,s.yData[i]=s.toYData?s.toYData(o):o.y,s.zData[i]=o.z,u.data[i]=o.options,s.isDirty=s.isDirtyData=c.isDirtyBox=!0,u.legendType==="point"&&c.legend.destroyItem(o),t&&c.redraw(n)})},remove:function(e,t){var n,i=this,r=i.series,o=r.chart,s=r.data;P(t,o),e=p(e,!0),i.firePointEvent("remove",null,function(){n=nn(i,s),s.splice(n,1),r.options.data.splice(n,1),r.xData.splice(n,1),r.yData.splice(n,1),r.zData.splice(n,1),i.destroy(),r.isDirty=!0,r.isDirtyData=!0,e&&o.redraw()})},firePointEvent:function(e,t,n){var i=this,r=this.series.options;(r.point.events[e]||i.options&&i.options.events&&i.options.events[e])&&this.importEvents(),"click"===e&&r.allowPointSelect&&(n=function(e){i.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),un(this,e,t,n)},importEvents:function(){if(!this.hasImportedEvents){var e,n=t(this.series.options.point,this.options).events;this.events=n;for(e in n)ln(this,e,n[e]);this.hasImportedEvents=!0}},setState:function(e){var n=this.plotX,i=this.plotY,r=this.series,o=r.options.states,s=fn[r.type].marker&&r.options.marker,a=s&&!s.enabled,l=s&&s.states[e],c=l&&l.enabled===!1,u=r.stateMarkerGraphic,d=this.marker||{},h=r.chart,p=this.pointAttr,e=e||"";e===this.state||this.selected&&"select"!==e||o[e]&&o[e].enabled===!1||e&&(c||a&&!l.enabled)||(this.graphic?(o=s&&this.graphic.symbolName&&p[e].r,this.graphic.attr(t(p[e],o?{x:n-o,y:i-o,width:2*o,height:2*o}:{}))):(e&&l&&(o=l.radius,d=d.symbol||r.symbol,u&&u.currentSymbol!==d&&(u=u.destroy()),u?u.attr({x:n-o,y:i-o}):(r.stateMarkerGraphic=u=h.renderer.symbol(d,n-o,i-o,2*o,2*o).attr(p[e]).add(r.markerGroup),u.currentSymbol=d)),u&&u[e&&h.isInsidePlot(n,i)?"show":"hide"]()),this.state=e)}};var xn=function(){};xn.prototype={isCartesian:!0,type:"line",pointClass:wn,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},colorCounter:0,init:function(t,n){var r,o,s=t.series;this.chart=t,this.options=n=this.setOptions(n),this.bindAxes(),e(this,{name:n.name,state:"",pointAttr:{},visible:n.visible!==!1,selected:n.selected===!0}),Pt&&(n.animation=!1),o=n.events;for(r in o)ln(this,r,o[r]);(o&&o.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(t.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.setData(n.data,!1),this.isCartesian&&(t.hasCartesianSeries=!0),s.push(this),this._i=s.length-1,T(s,function(e,t){return p(e.options.index,e._i)-p(t.options.index,e._i)}),rn(s,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)}),r=n.linkedTo,this.linkedSeries=[],i(r)&&(r=":previous"===r?s[this.index-1]:t.get(r))&&(r.linkedSeries.push(this),this.linkedParent=r)},bindAxes:function(){var e,t=this,n=t.options,i=t.chart;t.isCartesian&&rn(["xAxis","yAxis"],function(r){rn(i[r],function(i){e=i.options,(n[r]===e.index||n[r]!==W&&n[r]===e.id||n[r]===W&&e.index===0)&&(i.series.push(t),t[r]=i,i.isDirty=!0)}),t[r]||L(18,!0)})},autoIncrement:function(){var e=this.options,t=this.xIncrement,t=p(t,e.pointStart,0);return this.pointInterval=p(this.pointInterval,e.pointInterval,1),this.xIncrement=t+this.pointInterval,t},getSegments:function(){var e,t=-1,n=[],i=this.points,r=i.length;if(r)if(this.options.connectNulls){for(e=r;e--;)i[e].y===null&&i.splice(e,1);i.length&&(n=[i])}else rn(i,function(e,o){e.y===null?(o>t+1&&n.push(i.slice(t+1,o)),t=o):o===r-1&&n.push(i.slice(t+1,o+1))});this.segments=n},setOptions:function(e){var n=this.chart.options,i=n.plotOptions,r=i[this.type];return this.userOptions=e,e=t(r,i.series,e),this.tooltipOptions=t(n.tooltip,e.tooltip),r.marker===null&&delete e.marker,e},getColor:function(){var e,t=this.options,n=this.userOptions,i=this.chart.options.colors,r=this.chart.counters;e=t.color||fn[this.type].color,e||t.colorByPoint||(u(n._colorIndex)?t=n._colorIndex:(n._colorIndex=r.color,t=r.color++),e=i[t]),this.color=e,r.wrapColor(i.length)},getSymbol:function(){var e=this.userOptions,t=this.options.marker,n=this.chart,i=n.options.symbols,n=n.counters;this.symbol=t.symbol,this.symbol||(u(e._symbolIndex)?e=e._symbolIndex:(e._symbolIndex=n.symbol,e=n.symbol++),this.symbol=i[e]),/^url/.test(this.symbol)&&(t.radius=0),n.wrapSymbol(i.length)},drawLegendSymbol:function(e){var t,n=this.options,i=n.marker,r=e.options;t=r.symbolWidth;var o=this.chart.renderer,s=this.legendGroup,e=e.baseline-pt(o.fontMetrics(r.itemStyle.fontSize).b*.3);n.lineWidth&&(r={"stroke-width":n.lineWidth},n.dashStyle&&(r.dashstyle=n.dashStyle),this.legendLine=o.path(["M",0,e,"L",t,e]).attr(r).add(s)),i&&i.enabled&&(n=i.radius,this.legendSymbol=t=o.symbol(this.symbol,t/2-n,e-n,2*n,2*n).add(s),t.isMarker=!0)},addPoint:function(e,t,n,i){var r=this.options,o=this.data,s=this.graph,a=this.area,l=this.chart,c=this.xData,u=this.yData,d=this.zData,h=this.names,f=s&&s.shift||0,m=r.data;P(i,l),n&&rn([s,a,this.graphNeg,this.areaNeg],function(e){e&&(e.shift=f+1)}),a&&(a.isArea=!0),t=p(t,!0),i={series:this},this.pointClass.prototype.applyOptions.apply(i,[e]),c.push(i.x),u.push(this.toYData?this.toYData(i):i.y),d.push(i.z),h&&(h[i.x]=i.name),m.push(e),r.legendType==="point"&&this.generatePoints(),n&&(o[0]&&o[0].remove?o[0].remove(!1):(o.shift(),c.shift(),u.shift(),d.shift(),m.shift())),this.isDirtyData=this.isDirty=!0,t&&(this.getAttribs(),l.redraw())},setData:function(e,t){var n,r=this.points,a=this.options,l=this.chart,c=null,u=this.xAxis,d=u&&u.categories&&!u.categories.length?[]:null;this.xIncrement=null,this.pointRange=u&&u.categories?1:a.pointRange,this.colorCounter=0;var h=[],f=[],m=[],g=e?e.length:[];n=p(a.turboThreshold,1e3);var v=this.pointArrayMap,v=v&&v.length,y=!!this.toYData;if(n&&g>n){for(n=0;null===c&&g>n;)c=e[n],n++;if(s(c)){for(c=p(a.pointStart,0),a=p(a.pointInterval,1),n=0;g>n;n++)h[n]=c,f[n]=e[n],c+=a;this.xIncrement=c}else if(o(c))if(v)for(n=0;g>n;n++)a=e[n],h[n]=a[0],f[n]=a.slice(1,v+1);else for(n=0;g>n;n++)a=e[n],h[n]=a[0],f[n]=a[1]}else for(n=0;g>n;n++)e[n]!==W&&(a={series:this},this.pointClass.prototype.applyOptions.apply(a,[e[n]]),h[n]=a.x,f[n]=y?this.toYData(a):a.y,m[n]=a.z,d&&a.name)&&(d[a.x]=a.name);for(i(f[0])&&L(14,!0),this.data=[],this.options.data=e,this.xData=h,this.yData=f,this.zData=m,this.names=d,n=r&&r.length||0;n--;)r[n]&&r[n].destroy&&r[n].destroy();u&&(u.minRange=u.userMinRange),this.isDirty=this.isDirtyData=l.isDirtyBox=!0,p(t,!0)&&l.redraw(!1)},remove:function(e,t){var n=this,i=n.chart,e=p(e,!0);n.isRemoving||(n.isRemoving=!0,un(n,"remove",null,function(){n.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,e&&i.redraw(t)})),n.isRemoving=!1},processData:function(e){var t,n=this.xData,i=this.yData,r=n.length;t=0;var o,s,a=this.xAxis,l=this.options,c=l.cropThreshold,u=this.isCartesian;if(u&&!this.isDirty&&!a.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(u&&this.sorted&&(!c||r>c||this.forceCrop)&&(e=a.min,a=a.max,n[r-1]<e||n[0]>a?(n=[],i=[]):(n[0]<e||n[r-1]>a)&&(t=this.cropData(this.xData,this.yData,e,a),n=t.xData,i=t.yData,t=t.start,o=!0)),a=n.length-1;a>=0;a--)r=n[a]-n[a-1],r>0&&(s===W||s>r)?s=r:0>r&&this.requireSorting&&L(15);this.cropped=o,this.cropStart=t,this.processedXData=n,this.processedYData=i,l.pointRange===null&&(this.pointRange=s||1),this.closestPointRange=s},cropData:function(e,t,n,i){var r,o=e.length,s=0,a=o;for(r=0;o>r;r++)if(e[r]>=n){s=gt(0,r-1);break}for(;o>r;r++)if(e[r]>i){a=r+1;break}return{xData:e.slice(s,a),yData:t.slice(s,a),start:s,end:a}},generatePoints:function(){var e,t,n,i,r=this.options.data,o=this.data,s=this.processedXData,a=this.processedYData,l=this.pointClass,c=s.length,u=this.cropStart||0,d=this.hasGroupedData,p=[];for(o||d||(o=[],o.length=r.length,o=this.data=o),i=0;c>i;i++)t=u+i,d?p[i]=(new l).init(this,[s[i]].concat(h(a[i]))):(o[t]?n=o[t]:r[t]!==W&&(o[t]=n=(new l).init(this,r[t],s[i])),p[i]=n);if(o&&(c!==(e=o.length)||d))for(i=0;e>i;i++)i===u&&!d&&(i+=c),o[i]&&(o[i].destroyElements(),o[i].plotX=W);this.data=o,this.points=p},setStackedPoints:function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var e,t,n,i,r,o,s=this.processedXData,a=this.processedYData,l=a.length,c=this.options,u=c.threshold,d=c.stack,c=c.stacking,h=this.stackKey,p="-"+h,f=this.yAxis,m=f.stacks,g=f.oldStacks,v=f.stacksMax;for(r=0;l>r;r++)t=s[r],o=a[r],i=(e=u>o)?p:h,v[i]||(v[i]=o),m[i]||(m[i]={}),m[i][t]||(g[i]&&g[i][t]?(m[i][t]=g[i][t],m[i][t].total=null):m[i][t]=new z(f,f.options.stackLabels,e,t,d,c)),n=m[i][t],t=n.total,n.addValue(o),n.cacheExtremes(this,[t,t+o]),n.total>v[i]&&!e?v[i]=n.total:n.total<v[i]&&e&&(v[i]=n.total);f.oldStacks={}}},getExtremes:function(){var e,t,n,i=this.xAxis,r=this.yAxis,o=this.stackKey,s=this.options,a=s.threshold,l=this.processedXData,c=this.processedYData,d=c.length,h=[],f=0,m=i.min,i=i.max;if(s.stacking&&(t=r.stacksMax["-"+o]||a,n=r.stacksMax[o]||a),!u(t)||!u(n)){for(s=0;d>s;s++)if(e=l[s],o=c[s],a=null!==o&&o!==W&&(!r.isLog||o.length||o>0),e=this.getExtremesFromAll||this.cropped||(l[s+1]||e)>=m&&(l[s-1]||e)<=i,a&&e)if(a=o.length)for(;a--;)o[a]!==null&&(h[f++]=o[a]);else h[f++]=o;t=p(t,S(h)),n=p(n,D(h))}this.dataMin=t,this.dataMax=n},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e=this.options,t=e.stacking,n=this.xAxis,i=n.categories,r=this.yAxis,o=this.points,a=o.length,l=!!this.modifyValue,c=e.pointPlacement,d="between"===c||s(c),h=e.threshold,e=0;a>e;e++){var f,m=o[e],g=m.x,v=m.y,y=m.low,b=r.stacks[(h>v?"-":"")+this.stackKey];r.isLog&&0>=v&&(m.y=v=null),m.plotX=n.translate(g,0,0,0,1,c),t&&this.visible&&b&&b[g]&&(b=b[g],f=b.total,b.cum=y=b.cum-v,v=y+v,b.cum===0&&(y=p(h,r.min)),r.isLog&&0>=y&&(y=null),"percent"===t&&(y=f?100*y/f:0,v=f?100*v/f:0),m.percentage=f?m.y*100/f:0,m.total=m.stackTotal=f,m.stackY=v,b.setOffset(this.pointXOffset||0,this.barW||0)),m.yBottom=u(y)?r.translate(y,0,1,0,1):null,l&&(v=this.modifyValue(v,m)),m.plotY="number"==typeof v&&1/0!==v?pt(r.translate(v,0,1,0,1)*10)/10:W,m.clientX=d?n.translate(g,0,0,0,1):m.plotX,m.negative=m.y<(h||0),m.category=i&&i[m.x]!==W?i[m.x]:m.x}this.getSegments()},setTooltipPoints:function(e){var t,n,i,r,o,s=[],a=(t=this.xAxis)?t.tooltipLen||t.len:this.chart.plotSizeX,l=[];if(this.options.enableMouseTracking!==!1){for(e&&(this.tooltipPoints=null),rn(this.segments||this.points,function(e){s=s.concat(e)}),t&&t.reversed&&(s=s.reverse()),this.orderTooltipPoints&&this.orderTooltipPoints(s),e=s.length,o=0;e>o;o++)for(i=s[o],r=s[o+1],t=s[o-1]?n+1:0,n=s[o+1]?vt(gt(0,ft((i.clientX+(r?r.wrappedClientX||r.clientX:a))/2)),a):a;t>=0&&n>=t;)l[t++]=i;this.tooltipPoints=l}},tooltipHeaderFormatter:function(e){var t,n=this.tooltipOptions,i=n.xDateFormat,r=n.dateTimeLabelFormats,o=this.xAxis,a=o&&o.options.type==="datetime",n=n.headerFormat,o=o&&o.closestPointRange;if(a&&!i)if(o){for(t in Z)if(Z[t]>=o){i=r[t];break}}else i=r.day;return a&&i&&s(e.key)&&(n=n.replace("{point.key}","{point.key:"+i+"}")),w(n,{point:e,series:this})},onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&un(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,i=t.hoverPoint;i&&i.onMouseOut(),this&&e.events.mouseOut&&un(this,"mouseOut"),n&&!e.stickyTracking&&(!n.shared||this.noSharedTooltip)&&n.hide(),this.setState(),t.hoverSeries=null},animate:function(t){var n,i=this,o=i.chart,s=o.renderer;n=i.options.animation;var a,l=o.clipBox,c=o.inverted;n&&!r(n)&&(n=fn[i.type].animation),a="_sharedClip"+n.duration+n.easing,t?(t=o[a],n=o[a+"m"],t||(o[a]=t=s.clipRect(e(l,{width:0})),o[a+"m"]=n=s.clipRect(-99,c?-o.plotLeft:-o.plotTop,99,c?o.chartWidth:o.chartHeight)),i.group.clip(t),i.markerGroup.clip(n),i.sharedClipKey=a):((t=o[a])&&(t.animate({width:o.plotSizeX},n),o[a+"m"].animate({width:o.plotSizeX+99},n)),i.animate=null,i.animationTimeout=setTimeout(function(){i.afterAnimate()},n.duration))},afterAnimate:function(){var e=this.chart,t=this.sharedClipKey,n=this.group;n&&this.options.clip!==!1&&(n.clip(e.clipRect),this.markerGroup.clip()),setTimeout(function(){t&&e[t]&&(e[t]=e[t].destroy(),e[t+"m"]=e[t+"m"].destroy())},100)},drawPoints:function(){var t,n,i,r,o,s,a,l,c,u,d=this.points,h=this.chart,f=this.options.marker,m=this.markerGroup;if(f.enabled||this._hasPointMarkers)for(r=d.length;r--;)o=d[r],n=ft(o.plotX),i=o.plotY,c=o.graphic,a=o.marker||{},t=f.enabled&&a.enabled===W||a.enabled,u=h.isInsidePlot(pt(n),i,h.inverted),t&&i!==W&&!isNaN(i)&&o.y!==null?(t=o.pointAttr[o.selected?"select":""],s=t.r,a=p(a.symbol,this.symbol),l=a.indexOf("url")===0,c?c.attr({visibility:u?Lt?"inherit":"visible":"hidden"}).animate(e({x:n-s,y:i-s},c.symbolName?{width:2*s,height:2*s}:{})):u&&(s>0||l)&&(o.graphic=h.renderer.symbol(a,n-s,i-s,2*s,2*s).attr(t).add(m))):c&&(o.graphic=c.destroy())},convertAttribs:function(e,t,n,i){var r,o,s=this.pointAttrToOptions,a={},e=e||{},t=t||{},n=n||{},i=i||{};for(r in s)o=s[r],a[r]=p(e[o],t[r],n[r],i[r]);return a},getAttribs:function(){var t,n,i,r=this,o=r.options,s=fn[r.type].marker?o.marker:o,a=s.states,l=a.hover,c=r.color,d={stroke:c,fill:c},h=r.points||[],p=[],f=r.pointAttrToOptions,m=o.negativeColor;for(o.marker?(l.radius=l.radius||s.radius+2,l.lineWidth=l.lineWidth||s.lineWidth+1):l.color=l.color||mn(l.color||c).brighten(l.brightness).get(),p[""]=r.convertAttribs(s,d),rn(["hover","select"],function(e){p[e]=r.convertAttribs(a[e],p[""])}),r.pointAttr=p,c=h.length;c--;){if(d=h[c],(s=d.options&&d.options.marker||d.options)&&s.enabled===!1&&(s.radius=0),d.negative&&m&&(d.color=d.fillColor=m),t=o.colorByPoint||d.color,d.options)for(i in f)u(s[f[i]])&&(t=!0);t?(s=s||{},n=[],a=s.states||{},t=a.hover=a.hover||{},o.marker||(t.color=mn(t.color||d.color).brighten(t.brightness||l.brightness).get()),n[""]=r.convertAttribs(e({color:d.color},s),p[""]),n.hover=r.convertAttribs(a.hover,p.hover,n[""]),n.select=r.convertAttribs(a.select,p.select,n[""]),d.negative&&o.marker&&m&&(n[""].fill=n.hover.fill=n.select.fill=r.convertAttribs({fillColor:m}).fill)):n=p,d.pointAttr=n}},update:function(n,i){var r=this.chart,o=this.type,n=t(this.userOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},n);this.remove(!1),e(this,Zt[n.type||o].prototype),this.init(r,n),p(i,!0)&&r.redraw(!1)},destroy:function(){var e,t,n,i,r,o=this,s=o.chart,a=/AppleWebKit\/533/.test($t),l=o.data||[];for(un(o,"destroy"),cn(o),rn(["xAxis","yAxis"],function(e){(r=o[e])&&(c(r.series,o),r.isDirty=r.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),t=l.length;t--;)(n=l[t])&&n.destroy&&n.destroy();o.points=null,clearTimeout(o.animationTimeout),rn("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(t){o[t]&&(e=a&&"group"===t?"hide":"destroy",o[t][e]())}),s.hoverSeries===o&&(s.hoverSeries=null),c(s.series,o);for(i in o)delete o[i]},drawDataLabels:function(){var e,n,i,r,o=this,s=o.options.dataLabels,a=o.points;(s.enabled||o._hasPointLabels)&&(o.dlProcessOptions&&o.dlProcessOptions(s),r=o.plotGroup("dataLabelsGroup","data-labels",o.visible?"visible":"hidden",s.zIndex||6),n=s,rn(a,function(a){var l,c,d,h=a.dataLabel,f=a.connector,m=!0;if(e=a.options&&a.options.dataLabels,l=n.enabled||e&&e.enabled,h&&!l)a.dataLabel=h.destroy();else if(l){if(s=t(n,e),l=s.rotation,c=a.getLabelConfig(),i=s.format?w(s.format,c):s.formatter.call(c,s),s.style.color=p(s.color,s.style.color,o.color,"black"),h)u(i)?(h.attr({text:i}),m=!1):(a.dataLabel=h=h.destroy(),f&&(a.connector=f.destroy()));else if(u(i)){h={fill:s.backgroundColor,stroke:s.borderColor,"stroke-width":s.borderWidth,r:s.borderRadius||0,rotation:l,padding:s.padding,zIndex:1};for(d in h)h[d]===W&&delete h[d];h=a.dataLabel=o.chart.renderer[l?"text":"label"](i,0,-999,null,null,null,s.useHTML).attr(h).css(s.style).add(r).shadow(s.shadow)}h&&o.alignDataLabel(a,h,s,null,m)}}))},alignDataLabel:function(t,n,i,r,o){var s=this.chart,a=s.inverted,l=p(t.plotX,-999),c=p(t.plotY,-999),t=n.getBBox(),r=e({x:a?s.plotWidth-c:l,y:pt(a?s.plotHeight-l:c),width:0,height:0},r);e(i,{width:t.width,height:t.height}),i.rotation?(r={align:i.align,x:r.x+i.x+r.width/2,y:r.y+i.y+r.height/2},n[o?"attr":"animate"](r)):(n.align(i,null,r),r=n.alignAttr),n.attr({visibility:i.crop===!1||s.isInsidePlot(r.x,r.y)&&s.isInsidePlot(r.x+t.width,r.y+t.height)?s.renderer.isSVG?"inherit":"visible":"hidden"})},getSegmentPath:function(e){var t=this,n=[],i=t.options.step;return rn(e,function(r,o){var s,a=r.plotX,l=r.plotY;t.getPointSpline?n.push.apply(n,t.getPointSpline(e,r,o)):(n.push(o?"L":"M"),i&&o&&(s=e[o-1],"right"===i?n.push(s.plotX,l):"center"===i?n.push((s.plotX+a)/2,s.plotY,(s.plotX+a)/2,l):n.push(a,s.plotY)),n.push(r.plotX,r.plotY))}),n},getGraphPath:function(){var e,t=this,n=[],i=[];return rn(t.segments,function(r){e=t.getSegmentPath(r),r.length>1?n=n.concat(e):i.push(r[0])}),t.singlePoints=i,t.graphPath=n},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color]],i=t.lineWidth,r=t.dashStyle,o=this.getGraphPath(),s=t.negativeColor;s&&n.push(["graphNeg",s]),rn(n,function(n,s){var a=n[0],l=e[a];l?(pn(l),l.animate({d:o})):i&&o.length&&(l={stroke:n[1],"stroke-width":i,zIndex:1},r&&(l.dashstyle=r),e[a]=e.chart.renderer.path(o).attr(l).add(e.group).shadow(!s&&t.shadow))})},clipNeg:function(){var e,t=this.options,n=this.chart,i=n.renderer,r=t.negativeColor||t.negativeFillColor,o=this.graph,s=this.area,a=this.posClip,l=this.negClip;e=n.chartWidth;var c=n.chartHeight,u=gt(e,c),d=this.yAxis;r&&(o||s)&&(r=pt(d.toPixels(t.threshold||0,!0)),t={x:0,y:0,width:u,height:r},u={x:0,y:r,width:u,height:u},n.inverted&&(t.height=u.y=n.plotWidth-r,i.isVML&&(t={x:n.plotWidth-r-n.plotLeft,y:0,width:e,height:c},u={x:r+n.plotLeft-e,y:0,width:n.plotLeft+r,height:e})),d.reversed?(n=u,e=t):(n=t,e=u),a?(a.animate(n),l.animate(e)):(this.posClip=a=i.clipRect(n),this.negClip=l=i.clipRect(e),o&&this.graphNeg&&(o.clip(a),this.graphNeg.clip(l)),s&&(s.clip(a),this.areaNeg.clip(l))))},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};rn(["group","markerGroup"],function(n){t[n]&&t[n].attr(e).invert()})}var t=this,n=t.chart;t.xAxis&&(ln(n,"resize",e),ln(t,"destroy",function(){cn(n,"resize",e)}),e(),t.invertGroups=e)},plotGroup:function(e,t,n,i,r){var o=this[e],s=!o;return s&&(this[e]=o=this.chart.renderer.g(t).attr({visibility:n,zIndex:i||.1}).add(r)),o[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){return{translateX:this.xAxis?this.xAxis.left:this.chart.plotLeft,translateY:this.yAxis?this.yAxis.top:this.chart.plotTop,scaleX:1,scaleY:1}},render:function(){var e,t=this.chart,n=this.options,i=n.animation&&!!this.animate&&t.renderer.isSVG,r=this.visible?"visible":"hidden",o=n.zIndex,s=this.hasRendered,a=t.seriesGroup;e=this.plotGroup("group","series",r,o,a),this.markerGroup=this.plotGroup("markerGroup","markers",r,o,a),i&&this.animate(!0),this.getAttribs(),e.inverted=this.isCartesian?t.inverted:!1,this.drawGraph&&(this.drawGraph(),this.clipNeg()),this.drawDataLabels(),this.drawPoints(),this.options.enableMouseTracking!==!1&&this.drawTracker(),t.inverted&&this.invertGroups(),n.clip!==!1&&!this.sharedClipKey&&!s&&e.clip(t.clipRect),i?this.animate():s||this.afterAnimate(),this.isDirty=this.isDirtyData=!1,this.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,n=this.group,i=this.xAxis,r=this.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:p(i&&i.left,e.plotLeft),translateY:p(r&&r.top,e.plotTop)})),this.translate(),this.setTooltipPoints(!0),this.render(),t&&un(this,"updatedData")},setState:function(e){var t=this.options,n=this.graph,i=this.graphNeg,r=t.states,t=t.lineWidth,e=e||"";this.state!==e&&(this.state=e,r[e]&&r[e].enabled===!1||(e&&(t=r[e].lineWidth||t+1),n&&!n.dashstyle&&(e={"stroke-width":t},n.attr(e),i&&i.attr(e))))},setVisible:function(e,t){var n,i=this,r=i.chart,o=i.legendItem,s=r.options.chart.ignoreHiddenSeries,a=i.visible;n=(i.visible=e=i.userOptions.visible=e===W?!a:e)?"show":"hide",rn(["group","dataLabelsGroup","markerGroup","tracker"],function(e){i[e]&&i[e][n]()}),r.hoverSeries===i&&i.onMouseOut(),o&&r.legend.colorizeItem(i,e),i.isDirty=!0,i.options.stacking&&rn(r.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),rn(i.linkedSeries,function(t){t.setVisible(e,!1)}),s&&(r.isDirtyBox=!0),t!==!1&&r.redraw(),un(i,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===W?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),un(this,e?"select":"unselect")},drawTracker:function(){var e,t=this,n=t.options,i=n.trackByArea,r=[].concat(i?t.areaPath:t.graphPath),o=r.length,s=t.chart,a=s.pointer,l=s.renderer,c=s.options.tooltip.snap,u=t.tracker,d=n.cursor,d=d&&{cursor:d},h=t.singlePoints,p=function(){s.hoverSeries!==t&&t.onMouseOver()};if(o&&!i)for(e=o+1;e--;)r[e]==="M"&&r.splice(e+1,0,r[e+1]-c,r[e+2],"L"),(e&&r[e]==="M"||e===o)&&r.splice(e,0,"L",r[e-2]+c,r[e-1]);for(e=0;e<h.length;e++)o=h[e],r.push("M",o.plotX-c,o.plotY,"L",o.plotX+c,o.plotY);u?u.attr({d:r}):(t.tracker=u=l.path(r).attr({"class":"highcharts-tracker","stroke-linejoin":"round",visibility:t.visible?"visible":"hidden",stroke:Ht,fill:i?Ht:Rt,"stroke-width":n.lineWidth+(i?0:2*c),zIndex:2}).addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(e){a.onTrackerMouseOut(e)}).css(d).add(t.markerGroup),Ft&&u.on("touchstart",p))}},Jt=g(xn),Zt.line=Jt,fn.area=t(Qt,{threshold:0}),Jt=g(xn,{type:"area",getSegments:function(){var e,t,n,i,r,o=[],s=[],a=[],l=this.xAxis,c=this.yAxis,u=c.stacks[this.stackKey],d={},h=this.points;if(this.options.stacking&&!this.cropped){for(i=0;i<h.length;i++)d[h[i].x]=h[i];for(r in u)a.push(+r);a.sort(function(e,t){return e-t}),rn(a,function(i){d[i]?s.push(d[i]):(e=l.translate(i),n=u[i].percent?u[i].total?u[i].cum*100/u[i].total:0:u[i].cum,t=c.toPixels(n,!0),s.push({y:null,plotX:e,clientX:e,plotY:t,yBottom:t,onMouseOver:It}))}),s.length&&o.push(s)}else xn.prototype.getSegments.call(this),o=this.segments;this.segments=o},getSegmentPath:function(e){var t,n=xn.prototype.getSegmentPath.call(this,e),i=[].concat(n),r=this.options;if(n.length===3&&i.push("L",n[1],n[2]),r.stacking&&!this.closedStacks)for(t=e.length-1;t>=0;t--)t<e.length-1&&r.step&&i.push(e[t+1].plotX,e[t].yBottom),i.push(e[t].plotX,e[t].yBottom);else this.closeSegment(i,e);return this.areaPath=this.areaPath.concat(i),n},closeSegment:function(e,t){var n=this.yAxis.getThreshold(this.options.threshold);e.push("L",t[t.length-1].plotX,n,"L",t[0].plotX,n)},drawGraph:function(){this.areaPath=[],xn.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,i=n.negativeColor,r=n.negativeFillColor,o=[["area",this.color,n.fillColor]];(i||r)&&o.push(["areaNeg",i,r]),rn(o,function(i){var r=i[0],o=e[r];o?o.animate({d:t}):e[r]=e.chart.renderer.path(t).attr({fill:p(i[2],mn(i[1]).setOpacity(p(n.fillOpacity,.75)).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:function(e,t){t.legendSymbol=this.chart.renderer.rect(0,e.baseline-11,e.options.symbolWidth,12,2).attr({zIndex:3}).add(t.legendGroup)}}),Zt.area=Jt,fn.spline=t(Qt),vn=g(xn,{type:"spline",getPointSpline:function(e,t,n){var i,r,o,s,a=t.plotX,l=t.plotY,c=e[n-1],u=e[n+1];if(c&&u){e=c.plotY,o=u.plotX;var d,u=u.plotY;i=(1.5*a+c.plotX)/2.5,r=(1.5*l+e)/2.5,o=(1.5*a+o)/2.5,s=(1.5*l+u)/2.5,d=(s-r)*(o-a)/(o-i)+l-s,r+=d,s+=d,r>e&&r>l?(r=gt(e,l),s=2*l-r):e>r&&l>r&&(r=vt(e,l),s=2*l-r),s>u&&s>l?(s=gt(u,l),r=2*l-s):u>s&&l>s&&(s=vt(u,l),r=2*l-s),t.rightContX=o,t.rightContY=s}return n?(t=["C",c.rightContX||c.plotX,c.rightContY||c.plotY,i||a,r||l,a,l],c.rightContX=c.rightContY=null):t=["M",a,l],t}}),Zt.spline=vn,fn.areaspline=t(fn.area),yn=Jt.prototype,vn=g(vn,{type:"areaspline",closedStacks:!0,getSegmentPath:yn.getSegmentPath,closeSegment:yn.closeSegment,drawGraph:yn.drawGraph,drawLegendSymbol:yn.drawLegendSymbol}),Zt.areaspline=vn,fn.column=t(Qt,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0}),vn=g(xn,{type:"column",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},trackerGroups:["group","dataLabelsGroup"],init:function(){xn.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&rn(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e,t,n=this,i=n.options,r=n.xAxis,o=n.yAxis,s=r.reversed,a={},l=0;i.grouping===!1?l=1:rn(n.chart.series,function(i){var r=i.options,s=i.yAxis;i.type===n.type&&i.visible&&o.len===s.len&&o.pos===s.pos&&(r.stacking?(e=i.stackKey,a[e]===W&&(a[e]=l++),t=a[e]):r.grouping!==!1&&(t=l++),i.columnIndex=t)});var r=vt(yt(r.transA)*(r.ordinalSlope||i.pointRange||r.closestPointRange||1),r.len),c=r*i.groupPadding,d=(r-2*c)/l,h=i.pointWidth,i=u(h)?(d-h)/2:d*i.pointPadding,h=p(h,d-2*i);return n.columnMetrics={width:h,offset:i+(c+((s?l-(n.columnIndex||0):n.columnIndex)||0)*d-r/2)*(s?-1:1)}},translate:function(){var e=this.chart,t=this.options,n=t.borderWidth,i=this.yAxis,r=this.translatedThreshold=i.getThreshold(t.threshold),o=p(t.minPointLength,5),t=this.getColumnMetrics(),s=t.width,a=this.barW=mt(gt(s,1+2*n)),l=this.pointXOffset=t.offset;xn.prototype.translate.apply(this),rn(this.points,function(t){var c=vt(gt(-999,t.plotY),i.len+999),u=p(t.yBottom,r),d=t.plotX+l,h=mt(vt(c,u)),c=mt(gt(c,u)-h);yt(c)<o&&o&&(c=o,h=pt(yt(h-r)>o?u-o:r-(i.translate(t.y,0,1,0,1)<=r?o:0))),t.barX=d,t.pointWidth=s,t.shapeType="rect",t.shapeArgs=t=e.renderer.Element.prototype.crisp.call(0,n,d,h,a,c),n%2&&(t.y-=1,t.height+=1)})},getSymbol:It,drawLegendSymbol:Jt.prototype.drawLegendSymbol,drawGraph:It,drawPoints:function(){var e,n=this,i=n.options,r=n.chart.renderer;rn(n.points,function(o){var s=o.plotY,a=o.graphic;s===W||isNaN(s)||o.y===null?a&&(o.graphic=a.destroy()):(e=o.shapeArgs,a?(pn(a),a.animate(t(e))):o.graphic=r[o.shapeType](e).attr(o.pointAttr[o.selected?"select":""]).add(n.group).shadow(i.shadow,null,i.stacking&&!i.borderRadius))})},drawTracker:function(){var e=this,t=e.chart,n=t.pointer,i=e.options.cursor,r=i&&{cursor:i},o=function(n){var i,r=n.target;for(t.hoverSeries!==e&&e.onMouseOver();r&&!i;)i=r.point,r=r.parentNode;i!==W&&i!==t.hoverPoint&&i.onMouseOver(n)};rn(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),e._hasTracking?e._hasTracking=!0:rn(e.trackerGroups,function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",function(e){n.onTrackerMouseOut(e)}).css(r),Ft)&&e[t].on("touchstart",o)})},alignDataLabel:function(e,n,i,r,o){var s=this.chart,a=s.inverted,l=e.dlBox||e.shapeArgs,c=e.below||e.plotY>p(this.translatedThreshold,s.plotSizeY),u=p(i.inside,!!this.options.stacking);l&&(r=t(l),a&&(r={x:s.plotWidth-r.y-r.height,y:s.plotHeight-r.x-r.width,width:r.height,height:r.width}),!u)&&(a?(r.x+=c?0:r.width,r.width=0):(r.y+=c?r.height:0,r.height=0)),i.align=p(i.align,!a||u?"center":c?"right":"left"),i.verticalAlign=p(i.verticalAlign,a||u?"middle":c?"top":"bottom"),xn.prototype.alignDataLabel.call(this,e,n,i,r,o)},animate:function(e){var t=this.yAxis,n=this.options,i=this.chart.inverted,r={};Lt&&(e?(r.scaleY=.001,e=vt(t.pos+t.len,gt(t.pos,t.toPixels(n.threshold))),i?r.translateX=e-t.len:r.translateY=e,this.group.attr(r)):(r.scaleY=1,r[i?"translateX":"translateY"]=t.pos,this.group.animate(r,this.options.animation),this.animate=null))
},remove:function(){var e=this,t=e.chart;t.hasRendered&&rn(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),xn.prototype.remove.apply(e,arguments)}}),Zt.column=vn,fn.bar=t(fn.column),yn=g(vn,{type:"bar",inverted:!0}),Zt.bar=yn,fn.scatter=t(Qt,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1}),yn=g(xn,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],drawTracker:vn.prototype.drawTracker,setTooltipPoints:It}),Zt.scatter=yn,fn.pie=t(Qt,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),Qt={type:"pie",isCartesian:!1,pointClass:g(wn,{init:function(){wn.prototype.init.apply(this,arguments);var t,n=this;return n.y<0&&(n.y=null),e(n,{visible:n.visible!==!1,name:p(n.name,"Slice")}),t=function(e){n.slice(e.type==="select")},ln(n,"select",t),ln(n,"unselect",t),n},setVisible:function(e){var t,n=this,i=n.series,r=i.chart;n.visible=n.options.visible=e=e===W?!n.visible:e,i.options.data[nn(n,i.data)]=n.options,t=e?"show":"hide",rn(["graphic","dataLabel","connector","shadowGroup"],function(e){n[e]&&n[e][t]()}),n.legendItem&&r.legend.colorizeItem(n,e),!i.isDirty&&i.options.ignoreHiddenPoint&&(i.isDirty=!0,r.redraw())},slice:function(e,t,n){var i=this.series;P(n,i.chart),p(t,!0),this.sliced=this.options.sliced=e=u(e)?e:!this.sliced,i.options.data[nn(this,i.data)]=this.options,e=e?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(e),this.shadowGroup&&this.shadowGroup.animate(e)}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:It,animate:function(e){var t=this,n=t.points,i=t.startAngleRad;e||(rn(n,function(e){var n=e.graphic,e=e.shapeArgs;n&&(n.attr({r:t.center[3]/2,start:i,end:i}),n.animate({r:e.r,start:e.start,end:e.end},t.options.animation))}),t.animate=null)},setData:function(e,t){xn.prototype.setData.call(this,e,!1),this.processData(),this.generatePoints(),p(t,!0)&&this.chart.redraw()},generatePoints:function(){var e,t,n,i,r=0,o=this.options.ignoreHiddenPoint;for(xn.prototype.generatePoints.call(this),t=this.points,n=t.length,e=0;n>e;e++)i=t[e],r+=o&&!i.visible?0:i.y;for(this.total=r,e=0;n>e;e++)i=t[e],i.percentage=i.y/r*100,i.total=r},getCenter:function(){var e,t,i=this.options,r=this.chart,o=2*(i.slicedOffset||0),s=r.plotWidth-2*o,a=r.plotHeight-2*o,r=i.center,i=[p(r[0],"50%"),p(r[1],"50%"),i.size||"100%",i.innerSize||0],l=vt(s,a);return an(i,function(i,r){return t=/%$/.test(i),e=2>r||2===r&&t,(t?[s,a,l,l][r]*n(i)/100:i)+(e?o:0)})},translate:function(e){this.generatePoints();var t,n,i,r,o,s=0,a=this.options,l=a.slicedOffset,c=l+a.borderWidth,u=this.startAngleRad=xt/180*((a.startAngle||0)%360-90),d=this.points,h=2*xt,p=a.dataLabels.distance,a=a.ignoreHiddenPoint,f=d.length;for(e||(this.center=e=this.getCenter()),this.getX=function(t,n){return i=ht.asin((t-e[1])/(e[2]/2+p)),e[0]+(n?-1:1)*bt(i)*(e[2]/2+p)},r=0;f>r;r++)o=d[r],t=pt(1e3*(u+s*h))/1e3,(!a||o.visible)&&(s+=o.percentage/100),n=pt(1e3*(u+s*h))/1e3,o.shapeType="arc",o.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:t,end:n},i=(n+t)/2,i>.75*h&&(i-=2*xt),o.slicedTranslation={translateX:pt(bt(i)*l),translateY:pt(wt(i)*l)},t=bt(i)*e[2]/2,n=wt(i)*e[2]/2,o.tooltipPos=[e[0]+.7*t,e[1]+.7*n],o.half=h/4>i?0:1,o.angle=i,c=vt(c,p/2),o.labelPos=[e[0]+t+bt(i)*p,e[1]+n+wt(i)*p,e[0]+t+bt(i)*c,e[1]+n+wt(i)*c,e[0]+t,e[1]+n,0>p?"center":o.half?"right":"left",i];this.setTooltipPoints()},drawGraph:null,drawPoints:function(){var t,n,i,r,o=this,s=o.chart.renderer,a=o.options.shadow;a&&!o.shadowGroup&&(o.shadowGroup=s.g("shadow").add(o.group)),rn(o.points,function(l){n=l.graphic,r=l.shapeArgs,i=l.shadowGroup,a&&!i&&(i=l.shadowGroup=s.g("shadow").add(o.shadowGroup)),t=l.sliced?l.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(t),n?n.animate(e(r,t)):l.graphic=n=s.arc(r).setRadialReference(o.center).attr(l.pointAttr[l.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(t).add(o.group).shadow(a,i),l.visible===!1&&l.setVisible(!1)})},drawDataLabels:function(){var e,t,n,i,r,o,s,a,l,c,u,d,h=this,f=h.data,m=h.chart,g=h.options.dataLabels,v=p(g.connectorPadding,10),y=p(g.connectorWidth,1),b=m.plotWidth,m=m.plotHeight,w=p(g.softConnector,!0),x=g.distance,k=h.center,$=k[2]/2,C=k[1],_=x>0,T=[[],[]],S=[0,0,0,0],M=function(e,t){return t.y-e.y},A=function(e,t){e.sort(function(e,n){return e.angle!==void 0&&(n.angle-e.angle)*t})};if(h.visible&&(g.enabled||h._hasPointLabels)){for(xn.prototype.drawDataLabels.apply(h),rn(f,function(e){e.dataLabel&&T[e.half].push(e)}),u=0;!s&&f[u];)s=f[u]&&f[u].dataLabel&&(f[u].dataLabel.getBBox().height||21),u++;for(u=2;u--;){var L,f=[],E=[],P=T[u],F=P.length;if(A(P,u-.5),x>0){for(d=C-$-x;C+$+x>=d;d+=s)f.push(d);if(r=f.length,F>r){for(e=[].concat(P),e.sort(M),d=F;d--;)e[d].rank=d;for(d=F;d--;)P[d].rank>=r&&P.splice(d,1);F=P.length}for(d=0;F>d;d++){e=P[d],o=e.labelPos,e=9999;var O,N;for(N=0;r>N;N++)O=yt(f[N]-o[1]),e>O&&(e=O,L=N);if(d>L&&f[d]!==null)L=d;else for(F-d+L>r&&f[d]!==null&&(L=r-F+d);f[L]===null;)L++;E.push({i:L,y:f[L]}),f[L]=null}E.sort(M)}for(d=0;F>d;d++)e=P[d],o=e.labelPos,i=e.dataLabel,c=e.visible===!1?"hidden":"visible",e=o[1],x>0?(r=E.pop(),L=r.i,l=r.y,(e>l&&f[L+1]!==null||l>e&&f[L-1]!==null)&&(l=e)):l=e,a=g.justify?k[0]+(u?-1:1)*($+x):h.getX(0===L||L===f.length-1?e:l,u),i._attr={visibility:c,align:o[6]},i._pos={x:a+g.x+({left:v,right:-v}[o[6]]||0),y:l+g.y-10},i.connX=a,i.connY=l,this.options.size===null&&(r=i.width,v>a-r?S[3]=gt(pt(r-a+v),S[3]):a+r>b-v&&(S[1]=gt(pt(a+r-b+v),S[1])),0>l-s/2?S[0]=gt(pt(-l+s/2),S[0]):l+s/2>m&&(S[2]=gt(pt(l+s/2-m),S[2])))}(D(S)===0||this.verifyDataLabelOverflow(S))&&(this.placeDataLabels(),_&&y&&rn(this.points,function(e){t=e.connector,o=e.labelPos,(i=e.dataLabel)&&i._pos?(c=i._attr.visibility,a=i.connX,l=i.connY,n=w?["M",a+(o[6]==="left"?5:-5),l,"C",a,l,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],"L",o[4],o[5]]:["M",a+(o[6]==="left"?5:-5),l,"L",o[2],o[3],"L",o[4],o[5]],t?(t.animate({d:n}),t.attr("visibility",c)):e.connector=t=h.chart.renderer.path(n).attr({"stroke-width":y,stroke:g.connectorColor||e.color||"#606060",visibility:c}).add(h.group)):t&&(e.connector=t.destroy())}))}},verifyDataLabelOverflow:function(e){var t,n=this.center,i=this.options,r=i.center,o=i=i.minSize||80;return r[0]!==null?o=gt(n[2]-gt(e[1],e[3]),i):(o=gt(n[2]-e[1]-e[3],i),n[0]+=(e[3]-e[1])/2),r[1]!==null?o=gt(vt(o,n[2]-gt(e[0],e[2])),i):(o=gt(vt(o,n[2]-e[0]-e[2]),i),n[1]+=(e[0]-e[2])/2),o<n[2]?(n[2]=o,this.translate(n),rn(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels()):t=!0,t},placeDataLabels:function(){rn(this.points,function(e){var t,e=e.dataLabel;e&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-999}))})},alignDataLabel:It,drawTracker:vn.prototype.drawTracker,drawLegendSymbol:Jt.prototype.drawLegendSymbol,getSymbol:It},Qt=g(xn,Qt),Zt.pie=Qt,e(Highcharts,{Axis:B,Chart:j,Color:mn,Legend:Y,Pointer:H,Point:wn,Tick:N,Tooltip:R,Renderer:V,Series:xn,SVGElement:O,SVGRenderer:gn,arrayMin:S,arrayMax:D,charts:zt,dateFormat:X,format:w,pathAnim:K,getOptions:function(){return U},hasBidiBug:Et,isTouchDevice:Mt,numberFormat:v,seriesTypes:Zt,setOptions:function(e){return U=t(U,e),F(),U},addEvent:ln,removeEvent:cn,createElement:m,discardElement:A,css:f,each:rn,extend:e,map:an,merge:t,pick:p,splat:h,extendClass:g,pInt:n,wrap:b,svg:Lt,canvas:Pt,vml:!Lt&&!Pt,product:"Highcharts",version:"3.0.4"})}(),function(e){var t,n=e.Chart,i=e.addEvent,r=e.removeEvent,o=e.createElement,s=e.discardElement,a=e.css,l=e.merge,c=e.each,u=e.extend,d=Math.max,h=document,p=window,f=e.isTouchDevice,m=e.Renderer.prototype.symbols,g=e.getOptions();u(g.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),g.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:"none",color:"#303030",fontSize:f?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}},g.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},e.post=function(e,t){var n,i;i=o("form",{method:"post",action:e,enctype:"multipart/form-data"},{display:"none"},h.body);for(n in t)o("input",{type:"hidden",name:n,value:t[n]},null,i);i.submit(),s(i)},u(n.prototype,{getSVG:function(t){var n,i,r,a,d=this,p=l(d.options,t);return h.createElementNS||(h.createElementNS=function(e,t){return h.createElement(t)}),t=o("div",null,{position:"absolute",top:"-9999em",width:d.chartWidth+"px",height:d.chartHeight+"px"},h.body),i=d.renderTo.style.width,a=d.renderTo.style.height,i=p.exporting.sourceWidth||p.chart.width||/px$/.test(i)&&parseInt(i,10)||600,a=p.exporting.sourceHeight||p.chart.height||/px$/.test(a)&&parseInt(a,10)||400,u(p.chart,{animation:!1,renderTo:t,forExport:!0,width:i,height:a}),p.exporting.enabled=!1,p.series=[],c(d.series,function(e){r=l(e.options,{animation:!1,showCheckbox:!1,visible:e.visible}),r.isInternal||p.series.push(r)}),n=new e.Chart(p,d.callback),c(["xAxis","yAxis"],function(e){c(d[e],function(t,i){var r=n[e][i],o=t.getExtremes(),s=o.userMin,o=o.userMax;r&&(void 0!==s||void 0!==o)&&r.setExtremes(s,o,!0,!1)})}),i=n.container.innerHTML,p=null,n.destroy(),s(t),i=i.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/&nbsp;/g,"Â ").replace(/&shy;/g,"Â­").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(e){return e.toLowerCase()}),i=i.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},exportChart:function(t,n){var t=t||{},i=this.options.exporting,i=this.getSVG(l({chart:{borderRadius:0}},i.chartOptions,n,{exporting:{sourceWidth:t.sourceWidth||i.sourceWidth,sourceHeight:t.sourceHeight||i.sourceHeight}})),t=l(this.options.exporting,t);e.post(t.url,{filename:t.filename||"chart",type:t.type,width:t.width||0,scale:t.scale||2,svg:i})},print:function(){var e=this,t=e.container,n=[],i=t.parentNode,r=h.body,o=r.childNodes;e.isPrinting||(e.isPrinting=!0,c(o,function(e,t){e.nodeType===1&&(n[t]=e.style.display,e.style.display="none")}),r.appendChild(t),p.focus(),p.print(),setTimeout(function(){i.appendChild(t),c(o,function(e,t){e.nodeType===1&&(e.style.display=n[t])}),e.isPrinting=!1},1e3))},contextMenu:function(e,t,n,r,s,l,h){var p,f,m,g=this,v=g.options.navigation,y=v.menuItemStyle,b=g.chartWidth,w=g.chartHeight,x="cache-"+e,k=g[x],$=d(s,l);k||(g[x]=k=o("div",{className:e},{position:"absolute",zIndex:1e3,padding:$+"px"},g.container),p=o("div",null,u({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},v.menuStyle),k),f=function(){a(k,{display:"none"}),h&&h.setState(0),g.openMenu=!1},i(k,"mouseleave",function(){m=setTimeout(f,500)}),i(k,"mouseenter",function(){clearTimeout(m)}),i(document,"mousedown",function(t){g.pointer.inClass(t.target,e)||f()}),c(t,function(e){if(e){var t=e.separator?o("hr",null,null,p):o("div",{onmouseover:function(){a(this,v.menuItemHoverStyle)},onmouseout:function(){a(this,y)},onclick:function(){f(),e.onclick.apply(g,arguments)},innerHTML:e.text||g.options.lang[e.textKey]},u({cursor:"pointer"},y),p);g.exportDivElements.push(t)}}),g.exportDivElements.push(p,k),g.exportMenuWidth=k.offsetWidth,g.exportMenuHeight=k.offsetHeight),t={display:"block"},n+g.exportMenuWidth>b?t.right=b-n-s-$+"px":t.left=n-$+"px",r+l+g.exportMenuHeight>w&&h.alignOptions.verticalAlign!=="top"?t.bottom=w-r-$+"px":t.top=r+l-$+"px",a(k,t),g.openMenu=!0},addButton:function(n){var i,r,o=this,s=o.renderer,a=l(o.options.navigation.buttonOptions,n),c=a.onclick,d=a.menuItems,h={stroke:a.symbolStroke,fill:a.symbolFill},p=a.symbolSize||12;if(o.btnCount||(o.btnCount=0),o.exportDivElements||(o.exportDivElements=[],o.exportSVGElements=[]),a.enabled!==!1){var f,m=a.theme,g=m.states,v=g&&g.hover,g=g&&g.select;delete m.states,c?f=function(){c.apply(o,arguments)}:d&&(f=function(){o.contextMenu(r.menuClassName,d,r.translateX,r.translateY,r.width,r.height,r),r.setState(2)}),a.text&&a.symbol?m.paddingLeft=e.pick(m.paddingLeft,25):a.text||u(m,{width:a.width,height:a.height,padding:0}),r=s.button(a.text,0,0,f,m,v,g).attr({title:o.options.lang[a._titleKey],"stroke-linecap":"round"}),r.menuClassName=n.menuClassName||"highcharts-menu-"+o.btnCount++,a.symbol&&(i=s.symbol(a.symbol,a.symbolX-p/2,a.symbolY-p/2,p,p).attr(u(h,{"stroke-width":a.symbolStrokeWidth||1,zIndex:1})).add(r)),r.add().align(u(a,{width:r.width,x:e.pick(a.x,t)}),!0,"spacingBox"),t+=(r.width+a.buttonSpacing)*(a.align==="right"?-1:1),o.exportSVGElements.push(r,i)}},destroyExport:function(e){var t,n,e=e.target;for(t=0;t<e.exportSVGElements.length;t++)(n=e.exportSVGElements[t])&&(n.onclick=n.ontouchstart=null,e.exportSVGElements[t]=n.destroy());for(t=0;t<e.exportDivElements.length;t++)n=e.exportDivElements[t],r(n,"mouseleave"),e.exportDivElements[t]=n.onmouseout=n.onmouseover=n.ontouchstart=n.onclick=null,s(n)}}),m.menu=function(e,t,n,i){return["M",e,t+2.5,"L",e+n,t+2.5,"M",e,t+i/2+.5,"L",e+n,t+i/2+.5,"M",e,t+i-1.5,"L",e+n,t+i-1.5]},n.prototype.callbacks.push(function(e){var n,r=e.options.exporting,o=r.buttons;if(t=0,r.enabled!==!1){for(n in o)e.addButton(o[n]);i(e,"destroy",e.destroyExport)}})}(Highcharts),!function(e){function t(e,t){return function(n){return l(e.call(this,n),t)}}function n(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function i(){}function r(e){s(this,e)}function o(e){var t=e.years||e.year||e.y||0,n=e.months||e.month||e.M||0,i=e.weeks||e.week||e.w||0,r=e.days||e.day||e.d||0,o=e.hours||e.hour||e.h||0,s=e.minutes||e.minute||e.m||0,a=e.seconds||e.second||e.s||0,l=e.milliseconds||e.millisecond||e.ms||0;this._input=e,this._milliseconds=l+1e3*a+6e4*s+36e5*o,this._days=r+7*i,this._months=n+12*t,this._data={},this._bubble()}function s(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function a(e){return 0>e?Math.ceil(e):Math.floor(e)}function l(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function c(e,t,n,i){var r,o,s=t._milliseconds,a=t._days,l=t._months;s&&e._d.setTime(+e._d+s*n),(a||l)&&(r=e.minute(),o=e.hour()),a&&e.date(e.date()+a*n),l&&e.month(e.month()+l*n),s&&!i&&P.updateOffset(e),(a||l)&&(e.minute(r),e.hour(o))}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(e,t){var n,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),o=0;for(n=0;i>n;n++)~~e[n]!==~~t[n]&&o++;return o+r}function h(e){return e?rt[e]||e.toLowerCase().replace(/(.)s$/,"$1"):e}function p(e,t){return t.abbr=e,I[e]||(I[e]=new i),I[e].set(t),I[e]}function f(e){if(!e)return P.fn._lang;if(!I[e]&&z)try{require("./lang/"+e)}catch(t){return P.fn._lang}return I[e]}function m(e){return e.match(/\[.*\]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function g(e){var t,n,i=e.match(H);for(t=0,n=i.length;n>t;t++)i[t]=lt[i[t]]?lt[i[t]]:m(i[t]);return function(r){var o="";for(t=0;n>t;t++)o+=i[t]instanceof Function?i[t].call(r,e):i[t];return o}}function v(e,t){function n(t){return e.lang().longDateFormat(t)||t}for(var i=5;i--&&Y.test(t);)t=t.replace(Y,n);return ot[t]||(ot[t]=g(t)),ot[t](e)}function y(e,t){switch(e){case"DDDD":return V;case"YYYY":return q;case"YYYYY":return U;case"S":case"SS":case"SSS":case"DDD":return W;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return X;case"a":case"A":return f(t._l)._meridiemParse;case"X":return Z;case"Z":case"ZZ":return G;case"T":return K;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return j;default:return new RegExp(e.replace("\\",""))}}function b(e){var t=(G.exec(e)||[])[0],n=(t+"").match(tt)||["-",0,0],i=+(60*n[1])+~~n[2];return"+"===n[0]?-i:i}function w(e,t,n){var i,r=n._a;switch(e){case"M":case"MM":r[1]=null==t?0:~~t-1;break;case"MMM":case"MMMM":i=f(n._l).monthsParse(t),null!=i?r[1]=i:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=t&&(r[2]=~~t);break;case"YY":r[0]=~~t+(~~t>68?1900:2e3);break;case"YYYY":case"YYYYY":r[0]=~~t;break;case"a":case"A":n._isPm=f(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":r[3]=~~t;break;case"m":case"mm":r[4]=~~t;break;case"s":case"ss":r[5]=~~t;break;case"S":case"SS":case"SSS":r[6]=~~(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=b(t)}null==t&&(n._isValid=!1)}function x(e){var t,n,i=[];if(!e._d){for(t=0;7>t;t++)e._a[t]=i[t]=null==e._a[t]?2===t?1:0:e._a[t];i[3]+=~~((e._tzm||0)/60),i[4]+=~~((e._tzm||0)%60),n=new Date(0),e._useUTC?(n.setUTCFullYear(i[0],i[1],i[2]),n.setUTCHours(i[3],i[4],i[5],i[6])):(n.setFullYear(i[0],i[1],i[2]),n.setHours(i[3],i[4],i[5],i[6])),e._d=n}}function k(e){var t,n,i=e._f.match(H),r=e._i;for(e._a=[],t=0;t<i.length;t++)n=(y(i[t],e).exec(r)||[])[0],n&&(r=r.slice(r.indexOf(n)+n.length)),lt[i[t]]&&w(i[t],n,e);r&&(e._il=r),e._isPm&&e._a[3]<12&&(e._a[3]+=12),e._isPm===!1&&12===e._a[3]&&(e._a[3]=0),x(e)}function $(e){var t,n,i,o,a,l=99;for(o=0;o<e._f.length;o++)t=s({},e),t._f=e._f[o],k(t),n=new r(t),a=d(t._a,n.toArray()),n._il&&(a+=n._il.length),l>a&&(l=a,i=n);s(e,i)}function C(e){var t,n=e._i,i=Q.exec(n);if(i){for(e._f="YYYY-MM-DD"+(i[2]||" "),t=0;4>t;t++)if(et[t][1].exec(n)){e._f+=et[t][0];break}G.exec(n)&&(e._f+=" Z"),k(e)}else e._d=new Date(n)}function _(t){var n=t._i,i=B.exec(n);n===e?t._d=new Date:i?t._d=new Date(+i[1]):"string"==typeof n?C(t):u(n)?(t._a=n.slice(0),x(t)):t._d=n instanceof Date?new Date(+n):new Date(n)}function T(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function S(e,t,n){var i=N(Math.abs(e)/1e3),r=N(i/60),o=N(r/60),s=N(o/24),a=N(s/365),l=45>i&&["s",i]||1===r&&["m"]||45>r&&["mm",r]||1===o&&["h"]||22>o&&["hh",o]||1===s&&["d"]||25>=s&&["dd",s]||45>=s&&["M"]||345>s&&["MM",N(s/30)]||1===a&&["y"]||["yy",a];return l[2]=t,l[3]=e>0,l[4]=n,T.apply({},l)}function D(e,t,n){var i,r=n-t,o=n-e.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=P(e).add("d",o),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function M(e){var t=e._i,n=e._f;return null===t||""===t?null:("string"==typeof t&&(e._i=t=f().preparse(t)),P.isMoment(t)?(e=s({},t),e._d=new Date(+t._d)):n?u(n)?$(e):k(e):_(e),new r(e))}function A(e,t){P.fn[e]=P.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),P.updateOffset(this),this):this._d["get"+n+t]()}}function L(e){P.duration.fn[e]=function(){return this._data[e]}}function E(e,t){P.duration.fn["as"+e]=function(){return+this/t}}for(var P,F,O="2.1.0",N=Math.round,I={},z="undefined"!=typeof module&&module.exports,B=/^\/?Date\((\-?\d+)/i,R=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,H=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,Y=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,j=/\d\d?/,W=/\d{1,3}/,V=/\d{3}/,q=/\d{1,4}/,U=/[+\-]?\d{1,6}/,X=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,G=/Z|[\+\-]\d\d:?\d\d/i,K=/T/i,Z=/[\+\-]?\d+(\.\d{1,3})?/,Q=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,J="YYYY-MM-DDTHH:mm:ssZ",et=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],tt=/([\+\-]|\d\d)/gi,nt="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),it={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},rt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},ot={},st="DDD w W M D d".split(" "),at="M D H h m s w W".split(" "),lt={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},gg:function(){return l(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return l(this.weekYear(),5)},GG:function(){return l(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return l(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return l(~~(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+l(~~(e/60),2)+":"+l(~~e%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+l(~~(10*e/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};st.length;)F=st.pop(),lt[F+"o"]=n(lt[F],F);for(;at.length;)F=at.pop(),lt[F+F]=t(lt[F],2);for(lt.DDDD=t(lt.DDD,3),i.prototype={set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,i;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=P([2e3,t]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(i.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=P([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"%s ago",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return D(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},P=function(e,t,n){return M({_i:e,_f:t,_l:n,_isUTC:!1})},P.utc=function(e,t,n){return M({_useUTC:!0,_isUTC:!0,_l:n,_i:e,_f:t})},P.unix=function(e){return P(1e3*e)},P.duration=function(e,t){var n,i,r=P.isDuration(e),s="number"==typeof e,a=r?e._input:s?{}:e,l=R.exec(e);return s?t?a[t]=e:a.milliseconds=e:l&&(n="-"===l[1]?-1:1,a={y:0,d:~~l[2]*n,h:~~l[3]*n,m:~~l[4]*n,s:~~l[5]*n,ms:~~l[6]*n}),i=new o(a),r&&e.hasOwnProperty("_lang")&&(i._lang=e._lang),i},P.version=O,P.defaultFormat=J,P.updateOffset=function(){},P.lang=function(e,t){return e?(t?p(e,t):I[e]||f(e),P.duration.fn._lang=P.fn._lang=f(e),void 0):P.fn._lang._abbr},P.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),f(e)},P.isMoment=function(e){return e instanceof r},P.isDuration=function(e){return e instanceof o},P.fn=r.prototype={clone:function(){return P(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return v(P(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!d(this._a,(this._isUTC?P.utc(this._a):P(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=v(this,e||P.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?P.duration(+t,e):P.duration(e,t),c(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?P.duration(+t,e):P.duration(e,t),c(this,n,-1),this},diff:function(e,t,n){var i,r,o=this._isUTC?P(e).zone(this._offset||0):P(e).local(),s=6e4*(this.zone()-o.zone());return t=h(t),"year"===t||"month"===t?(i=432e5*(this.daysInMonth()+o.daysInMonth()),r=12*(this.year()-o.year())+(this.month()-o.month()),r+=(this-P(this).startOf("month")-(o-P(o).startOf("month")))/i,r-=6e4*(this.zone()-P(this).startOf("month").zone()-(o.zone()-P(o).startOf("month").zone()))/i,"year"===t&&(r/=12)):(i=this-o,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-s)/864e5:"week"===t?(i-s)/6048e5:i),n?r:a(r)},from:function(e,t){return P.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(P(),e)},calendar:function(){var e=this.diff(P().startOf("day"),"days",!0),t=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(t,this))},isLeapYear:function(){var e=this.year();return 0===e%4&&0!==e%100||0===e%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?"string"==typeof e&&(e=this.lang().weekdaysParse(e),"number"!=typeof e)?this:this.add({d:e-t}):t},month:function(e){var t,n=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(t=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(t,this.daysInMonth())),P.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(e){switch(e=h(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),this},endOf:function(e){return this.startOf(e).add(e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+P(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+P(e).startOf(t)},isSame:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)===+P(e).startOf(t)},min:function(e){return e=P.apply(null,arguments),this>e?this:e},max:function(e){return e=P.apply(null,arguments),e>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=b(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,t!==e&&c(this,P.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return P.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(e){var t=N((P(this).startOf("day")-P(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},weekYear:function(e){var t=D(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=D(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=D(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},lang:function(t){return t===e?this._lang:(this._lang=f(t),this)}},F=0;F<nt.length;F++)A(nt[F].toLowerCase().replace(/s$/,""),nt[F]);A("year","FullYear"),P.fn.days=P.fn.day,P.fn.months=P.fn.month,P.fn.weeks=P.fn.week,P.fn.isoWeeks=P.fn.isoWeek,P.fn.toJSON=P.fn.toISOString,P.duration.fn=o.prototype={_bubble:function(){var e,t,n,i,r=this._milliseconds,o=this._days,s=this._months,l=this._data;l.milliseconds=r%1e3,e=a(r/1e3),l.seconds=e%60,t=a(e/60),l.minutes=t%60,n=a(t/60),l.hours=n%24,o+=a(n/24),l.days=o%30,s+=a(o/30),l.months=s%12,i=a(s/12),l.years=i},weeks:function(){return a(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*~~(this._months/12)},humanize:function(e){var t=+this,n=S(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=P.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=P.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=h(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=h(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:P.fn.lang};for(F in it)it.hasOwnProperty(F)&&(E(F,it[F]),L(F.toLowerCase()));E("Weeks",6048e5),P.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},P.lang("en",{ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";
return e+n}}),z&&(module.exports=P),"undefined"==typeof ender&&(this.moment=P),"function"==typeof define&&define.amd&&define("moment",[],function(){return P})}.call(this),!function(e){var t=function(t,n,i){var r,o="object"==typeof n;this.startDate=moment().startOf("day"),this.endDate=moment().startOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerIncrement=30,this.timePicker12Hour=!0,this.ranges={},this.opens="right",this.buttonClasses=["btn","btn-small"],this.applyClass="btn-success",this.cancelClass="btn-default",this.format="DD MMM YYYY",this.separator=" - ",this.locale={applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:moment()._lang._weekdaysMin.slice(),monthNames:moment()._lang._monthsShort.slice(),firstDay:0},this.cb=function(){},this.element=e(t),this.element.hasClass("pull-right")&&(this.opens="left"),this.element.is("input")?this.element.on({click:e.proxy(this.show,this),focus:e.proxy(this.show,this)}):this.element.on("click",e.proxy(this.show,this)),r=this.locale,o&&(typeof n.locale=="object"&&e.each(r,function(e,t){r[e]=n.locale[e]||t}),n.applyClass&&(this.applyClass=n.applyClass),n.cancelClass&&(this.cancelClass=n.cancelClass));var s='<div class="daterangepicker dropdown-menu"><div class="range_inputs"><div class="timeRange">TIMERANGE</div><div class="daterangepicker_start_input" style="float: left"><label for="daterangepicker_start">'+this.locale.fromLabel+":</label>"+'<input class="input-mini" type="text" name="daterangepicker_start" value="" disabled="disabled" />'+"</div>"+'<div class="daterangepicker_end_input" style="float: left; padding-left: 11px">'+'<label for="daterangepicker_end">'+this.locale.toLabel+":</label>"+'<input class="input-mini" type="text" name="daterangepicker_end" value="" disabled="disabled" />'+"</div>"+"</div>"+'<div class="clr"></div>'+'<div class="calendar left"></div>'+'<div class="calendar right"></div>'+'<div class="ranges">'+"</div>"+'<div class="clr"></div>'+'<div class="submitBtnCal">'+'<button class="'+this.applyClass+' applyBtn" disabled="disabled">'+this.locale.applyLabel+"</button>&nbsp;"+'<button class="'+this.cancelClass+' cancelBtn">'+this.locale.cancelLabel+"</button>"+"</div>";if(this.container=e(s).appendTo("body"),o){if(typeof n.format=="string"&&(this.format=n.format),typeof n.separator=="string"&&(this.separator=n.separator),typeof n.startDate=="string"&&(this.startDate=moment(n.startDate,this.format)),typeof n.endDate=="string"&&(this.endDate=moment(n.endDate,this.format)),typeof n.minDate=="string"&&(this.minDate=moment(n.minDate,this.format)),typeof n.maxDate=="string"&&(this.maxDate=moment(n.maxDate,this.format)),typeof n.startDate=="object"&&(this.startDate=moment(n.startDate)),typeof n.endDate=="object"&&(this.endDate=moment(n.endDate)),typeof n.minDate=="object"&&(this.minDate=moment(n.minDate)),typeof n.maxDate=="object"&&(this.maxDate=moment(n.maxDate)),typeof n.ranges=="object"){for(var a in n.ranges){var l=moment(n.ranges[a][0]),c=moment(n.ranges[a][1]);this.minDate&&l.isBefore(this.minDate)&&(l=moment(this.minDate)),this.maxDate&&c.isAfter(this.maxDate)&&(c=moment(this.maxDate)),this.minDate&&c.isBefore(this.minDate)||this.maxDate&&l.isAfter(this.maxDate)||(this.ranges[a]=[l,c])}var u="<ul>";for(var a in this.ranges)u+="<li>"+a+"</li>";u+="</ul>",this.container.find(".ranges").prepend(u)}if(typeof n.dateLimit=="object"&&(this.dateLimit=n.dateLimit),typeof n.locale=="object"&&typeof n.locale.firstDay=="number"){this.locale.firstDay=n.locale.firstDay;for(var d=n.locale.firstDay;d>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),d--}typeof n.opens=="string"&&(this.opens=n.opens),typeof n.showWeekNumbers=="boolean"&&(this.showWeekNumbers=n.showWeekNumbers),typeof n.buttonClasses=="string"&&(this.buttonClasses=[n.buttonClasses]),typeof n.buttonClasses=="object"&&(this.buttonClasses=n.buttonClasses),typeof n.showDropdowns=="boolean"&&(this.showDropdowns=n.showDropdowns),typeof n.timePicker=="boolean"&&(this.timePicker=n.timePicker),typeof n.timePickerIncrement=="number"&&(this.timePickerIncrement=n.timePickerIncrement),typeof n.timePicker12Hour=="boolean"&&(this.timePicker12Hour=n.timePicker12Hour)}this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.startOf("day"));var h=this.container;if(e.each(this.buttonClasses,function(e,t){h.find("button").addClass(t)}),this.opens=="right"){var p=this.container.find(".calendar.left"),f=this.container.find(".calendar.right");p.removeClass("left").addClass("right"),f.removeClass("right").addClass("left")}if(("undefined"==typeof n||typeof n.ranges=="undefined")&&(this.container.find(".calendar").show(),this.move()),"function"==typeof i&&(this.cb=i),this.container.addClass("opens"+this.opens),(!o||typeof n.startDate=="undefined"&&typeof n.endDate=="undefined")&&e(this.element).is("input[type=text]")){var l,c,m=e(this.element).val(),g=m.split(this.separator);g.length==2&&(l=moment(g[0],this.format),c=moment(g[1],this.format)),null!=l&&null!=c&&(this.startDate=l,this.endDate=c)}this.oldStartDate=this.startDate,this.oldEndDate=this.endDate,this.leftCalendar={month:moment([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute()]),calendar:[]},this.rightCalendar={month:moment([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute()]),calendar:[]},this.container.on("mousedown",e.proxy(this.mousedown,this)),this.container.find(".calendar").on("click",".prev",e.proxy(this.clickPrev,this)),this.container.find(".calendar").on("click",".next",e.proxy(this.clickNext,this)),this.container.find(".submitBtnCal").on("click","button.applyBtn",e.proxy(this.clickApply,this)),this.container.find(".submitBtnCal").on("click","button.cancelBtn",e.proxy(this.clickCancel,this)),this.container.find(".ranges").on("click",".daterangepicker_start_input",e.proxy(this.showCalendars,this)),this.container.find(".ranges").on("click",".daterangepicker_end_input",e.proxy(this.showCalendars,this)),this.container.find(".calendar").on("click","td.available",e.proxy(this.clickDate,this)),this.container.find(".calendar").on("click","td.available",e.proxy(this.enterDate,this)),this.container.find(".calendar").on("click","td.available",e.proxy(this.updateView,this)),this.container.find(".ranges").on("click","li",e.proxy(this.clickRange,this)),this.container.find(".calendar").on("change","select.yearselect",e.proxy(this.updateMonthYear,this)),this.container.find(".calendar").on("change","select.monthselect",e.proxy(this.updateMonthYear,this)),this.container.find(".calendar").on("change","select.hourselect",e.proxy(this.updateTime,this)),this.container.find(".calendar").on("change","select.minuteselect",e.proxy(this.updateTime,this)),this.container.find(".calendar").on("change","select.ampmselect",e.proxy(this.updateTime,this)),this.element.on("keyup",e.proxy(this.updateFromControl,this)),this.updateView(),this.updateCalendars()};t.prototype={constructor:t,mousedown:function(e){e.stopPropagation()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()),this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format)),this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format)),this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},updateFromControl:function(){if(this.element.is("input")&&this.element.val().length){var e=this.element.val().split(this.separator),t=moment(e[0],this.format),n=moment(e[1],this.format);null!=t&&null!=n&&(n.isBefore(t)||(this.startDate=t,this.endDate=n,this.notify(),this.updateCalendars()))}},notify:function(){this.updateView(),this.cb(this.startDate,this.endDate)},move:function(){var t=e(this.container).find(".ranges").outerWidth();if(e(this.container).find(".calendar").is(":visible")){var n=24;t+=e(this.container).find(".calendar").outerWidth()*2+n}this.opens=="left"?(this.container.css({top:this.element.offset().top+this.element.outerHeight(),right:e(window).width()-this.element.offset().left-this.element.outerWidth(),left:"auto","min-width":t}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:this.element.offset().top+this.element.outerHeight(),left:this.element.offset().left,right:"auto","min-width":t}),this.container.offset().left+this.container.outerWidth()>e(window).width()&&this.container.css({left:"auto",right:0}))},show:function(t){this.container.show(),this.move(),t&&(t.stopPropagation(),t.preventDefault()),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),e(document).on("mousedown",e.proxy(this.hide,this)),this.element.trigger("shown",{target:t.target,picker:this})},hide:function(){this.container.hide(),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),e(document).off("mousedown",this.hide),this.element.trigger("hidden",{picker:this})},enterRange:function(e){var t=e.target.innerHTML;if(t==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[t];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.format))}},showCalendars:function(){this.container.find(".calendar").show(),this.move()},clickRange:function(e){var t=e.target.innerHTML;if(t==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[t];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.startOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.element.is("input")&&this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format)),this.hide()}},clickPrev:function(t){var n=e(t.target).parents(".calendar");n.hasClass("left")?this.leftCalendar.month.subtract("month",1):this.rightCalendar.month.subtract("month",1),this.updateCalendars()},clickNext:function(t){var n=e(t.target).parents(".calendar");n.hasClass("left")?this.leftCalendar.month.add("month",1):this.rightCalendar.month.add("month",1),this.updateCalendars()},enterDate:function(t){var n=e(t.target).attr("data-title"),i=n.substr(1,1),r=n.substr(3,1),o=e(t.target).parents(".calendar");o.hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[i][r].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[i][r].format(this.format))},clickDate:function(t){var n=e(t.target).attr("data-title"),i=n.substr(1,1),r=n.substr(3,1),o=e(t.target).parents(".calendar");if(o.hasClass("left")){var s=this.leftCalendar.calendar[i][r],a=this.endDate;if(typeof this.dateLimit=="object"){var l=moment(s).add(this.dateLimit).startOf("day");a.isAfter(l)&&(a=l)}}else{var s=this.startDate,a=this.rightCalendar.calendar[i][r];if(typeof this.dateLimit=="object"){var c=moment(a).subtract(this.dateLimit).startOf("day");s.isBefore(c)&&(s=c)}}o.find("td").removeClass("active"),s.isSame(a)||s.isBefore(a)?(e(t.target).addClass("active"),this.startDate=s,this.endDate=a):s.isAfter(a)&&(e(t.target).addClass("active"),this.startDate=s,this.endDate=moment(s).add("day",1).startOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()),this.updateCalendars()},clickApply:function(){this.element.is("input")&&this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format)),this.hide()},clickCancel:function(){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.updateView(),this.updateCalendars(),this.hide()},updateMonthYear:function(t){var n=e(t.target).closest(".calendar").hasClass("left"),i=this.container.find(".calendar.left");n||(i=this.container.find(".calendar.right"));var r=i.find(".monthselect").val(),o=i.find(".yearselect").val();n?this.leftCalendar.month.month(r).year(o):this.rightCalendar.month.month(r).year(o),this.updateCalendars()},updateTime:function(t){var n=e(t.target).closest(".calendar").hasClass("left"),i=this.container.find(".calendar.left");n||(i=this.container.find(".calendar.right"));var r=parseInt(i.find(".hourselect").val()),o=parseInt(i.find(".minuteselect").val());if(this.timePicker12Hour){var s=i.find(".ampmselect").val();"PM"==s&&12>r&&(r+=12),"AM"==s&&12==r&&(r=0)}if(n){var a=this.startDate;a.hour(r),a.minute(o),this.startDate=a,this.leftCalendar.month.hour(r).minute(o)}else{var l=this.endDate;l.hour(r),l.minute(o),this.endDate=l,this.rightCalendar.month.hour(r).minute(o)}this.updateCalendars()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),"left"),this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),"right"),this.container.find(".calendar.left").html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate)),this.container.find(".calendar.right").html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.startDate,this.maxDate)),this.container.find(".ranges li").removeClass("active");var e=!0,t=0;for(var n in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])&&(e=!1,this.container.find(".ranges li:eq("+t+")").addClass("active")):this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")&&(e=!1,this.container.find(".ranges li:eq("+t+")").addClass("active")),t++;e&&this.container.find(".ranges li:last").addClass("active")},buildCalendar:function(e,t,n,i){for(var r=moment([t,e,1]),o=moment(r).subtract("month",1).month(),s=moment(r).subtract("month",1).year(),a=moment([s,o]).daysInMonth(),l=r.day(),c=[],u=0;6>u;u++)c[u]=[];var d=a-l+this.locale.firstDay+1;d>a&&(d-=7),l==this.locale.firstDay&&(d=a-6);for(var h=moment([s,o,d,n,i]),u=0,p=0,f=0;42>u;u++,p++,h=moment(h).add("day",1))u>0&&0==p%7&&(p=0,f++),c[f][p]=h;return c},renderDropdowns:function(e,t,n){for(var i=e.month(),r='<select class="monthselect">',o=!1,s=!1,a=0;12>a;a++)(!o||a>=t.month())&&(!s||a<=n.month())&&(r+="<option value='"+a+"'"+(a===i?" selected='selected'":"")+">"+this.locale.monthNames[a]+"</option>");r+="</select>";for(var l=e.year(),c=n&&n.year()||l+5,u=t&&t.year()||l-50,d='<select class="yearselect">',h=u;c>=h;h++)d+='<option value="'+h+'"'+(h===l?' selected="selected"':"")+">"+h+"</option>";return d+="</select>",r+d},renderCalendar:function(t,n,i,r){var o='<div class="calendar-date">';o+='<table class="table-condensed">',o+="<thead>",o+='<tr class="caltbl_heading">',this.showWeekNumbers&&(o+="<th></th>"),o+=!i||i.isBefore(t[1][1])?'<th class="prev available"><i class="icon-arrow-left"><</i></th>':"<th></th>";var s=this.locale.monthNames[t[1][1].month()]+t[1][1].format(" YYYY");this.showDropdowns&&(s=this.renderDropdowns(t[1][1],i,r)),o+='<th colspan="5" style="width: auto">'+s+"</th>",o+=!r||r.isAfter(t[1][1])?'<th class="next available"><i class="icon-arrow-right">></i></th>':"<th></th>",o+="</tr>",o+="<tr>",this.showWeekNumbers&&(o+='<th class="week">'+this.locale.weekLabel+"</th>"),e.each(this.locale.daysOfWeek,function(e,t){o+="<th>"+t+"</th>"}),o+="</tr>",o+="</thead>",o+="<tbody>";for(var a=0;6>a;a++){o+="<tr>",this.showWeekNumbers&&(o+='<td class="week">'+t[a][0].week()+"</td>");for(var l=0;7>l;l++){var c="available ";c+=t[a][l].month()==t[1][1].month()?"":"off",i&&t[a][l].isBefore(i)||r&&t[a][l].isAfter(r)?c=" off disabled ":t[a][l].format("YYYY-MM-DD")==n.format("YYYY-MM-DD")?(c+=" active ",t[a][l].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&(c+=" start-date "),t[a][l].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&(c+=" end-date ")):t[a][l]>=this.startDate&&t[a][l]<=this.endDate&&(c+=" in-range ",t[a][l].isSame(this.startDate)&&(c+=" start-date "),t[a][l].isSame(this.endDate)&&(c+=" end-date "));var u="r"+a+"c"+l;o+='<td class="'+c.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+u+'">'+t[a][l].date()+"</td>"}o+="</tr>"}if(o+="</tbody>",o+="</table>",o+="</div>",this.timePicker){o+='<div class="calendar-time">',o+='<select class="hourselect">';var d=0,h=23,p=n.hour();this.timePicker12Hour&&(d=1,h=12,p>=12&&(p-=12),0==p&&(p=12));for(var f=d;h>=f;f++)o+=f==p?'<option value="'+f+'" selected="selected">'+f+"</option>":'<option value="'+f+'">'+f+"</option>";o+="</select> : ",o+='<select class="minuteselect">';for(var f=0;60>f;f+=this.timePickerIncrement){var m=f;10>m&&(m="0"+m),o+=f==n.minute()?'<option value="'+f+'" selected="selected">'+m+"</option>":'<option value="'+f+'">'+m+"</option>"}o+="</select> ",this.timePicker12Hour&&(o+='<select class="ampmselect">',o+=n.hour()>=12?'<option value="AM">AM</option><option value="PM" selected="selected">PM</option>':'<option value="AM" selected="selected">AM</option><option value="PM">PM</option>',o+="</select>"),o+="</div>"}return o}},e.fn.daterangepicker=function(n,i){return this.each(function(){var r=e(this);r.data("daterangepicker")||r.data("daterangepicker",new t(r,n,i))}),this}}(window.jQuery);var module=angular.module("kanari",["ui.bootstrap"]).config(["$routeProvider","$locationProvider",function(e,t){e.when("/login",{title:"Product",templateUrl:"/assets/angular/templates/login.html"}).when("/forgot_pass",{templateUrl:"/assets/angular/templates/forgot_password.html"}).when("/api/users/password/edit",{templateUrl:"/assets/angular/templates/reset_password.html"}).when("/outlets",{templateUrl:"/assets/angular/templates/home.html"}).when("/createInvitation",{templateUrl:"/assets/angular/templates/add_Restaurant.html"}).when("/accept_invitation",{templateUrl:"/assets/angular/templates/accept_invitation.html"}).when("/acceptInvitationStep2",{templateUrl:"/assets/angular/templates/accept_invitation_step2.html"}).when("/create_outlet",{templateUrl:"/assets/angular/templates/create_outlet.html"}).when("/create_manager",{templateUrl:"/assets/angular/templates/create_manager.html"}).when("/list_payment_invoice",{templateUrl:"/assets/angular/templates/list_payment_invoice.html"}).when("/payment_invoice",{templateUrl:"/assets/angular/templates/payment_invoice.html"}).when("/take_tour",{templateUrl:"/assets/angular/templates/takeTour.html"}).when("/create_kanari_code",{templateUrl:"/assets/angular/templates/createKanariCode.html"}).when("/view_account",{templateUrl:"/assets/angular/templates/viewAccount.html.erb"}).when("/add_outlet_cuisine_type",{templateUrl:"/assets/angular/templates/add_outlet_cuisine_type.html"}).when("/outlet_manager",{templateUrl:"/assets/angular/templates/outlet_manager.html"}).when("/payment_history",{templateUrl:"/assets/angular/templates/paymentHistory.html"}).when("/outlet_manager_account",{templateUrl:"/assets/angular/templates/outlet_manager_account.html"}).when("/logout",{templateUrl:"/assets/angular/templates/logOut.html"}).when("/comments",{templateUrl:"/assets/angular/templates/dashboard_comments.html"}).when("/trends",{templateUrl:"/assets/angular/templates/dashboard_trends.html"}).when("/snapshot",{templateUrl:"/assets/angular/templates/dashboard_snapshot.html"}).when("/adminConsole_outlet",{templateUrl:"/assets/angular/templates/adminConsole_outlet.html"}).when("/adminConsole_customer",{templateUrl:"/assets/angular/templates/adminConsole_customer.html"}).when("/change_password",{templateUrl:"/assets/angular/templates/changePassword.html"}).otherwise({redirectTo:"/login"}),t.hashPrefix="#"}]);module.directive("map",function(){var e;return{restrict:"E",replace:!0,template:"<div></div>",controller:function(){},link:function(t,n,i){t.$on("clickMessageFromParent",function(){function n(t){if(s){var n=new google.maps.LatLng(t.lat,t.lng);e.geocode({latLng:n},function(e,t){if(t==google.maps.GeocoderStatus.OK)var i=e[0].formatted_address;var r=new google.maps.Marker({position:n,map:l,title:i});c.push(r)})}}function r(){if(c)for(var e in c)c[e].setMap(null)}function o(){for(var e,t=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<n.length;i++)e=n[i].split("="),t.push(e[0]),t[e[0]]=e[1];return t}var s=o().outletId;e=new google.maps.Geocoder;var a={zoom:9,minZoom:6,center:new google.maps.LatLng(getCookie("latitude"),getCookie("logitude")),mapTypeId:google.maps.MapTypeId.ROADMAP};getCookie("latitude")=="null"?($(".addMarker").show(),$(".updateMarker").hide()):($(".updateMarker").show(),$(".addMarker").hide());var l=new google.maps.Map(document.getElementById(i.id),a),c=[];n({lat:getCookie("latitude"),lng:getCookie("logitude")}),google.maps.event.addListener(l,"click",function(i){t.$apply(function(){n({lat:i.latLng.lat(),lng:i.latLng.lng()})}),e.geocode({latLng:i.latLng},function(e,t){if(t==google.maps.GeocoderStatus.OK){new google.maps.InfoWindow;var n=e[0].formatted_address,r=new google.maps.Marker({position:i.latLng,map:l,title:n});c.push(r)}})});var n=function(e){$("button.enabel_Btn").show(),$("button.disable_Btn").hide(),r(),new google.maps.LatLng(e.lat,e.lng),setCookie("latitude",e.lat,.29),setCookie("logitude",e.lng,.29)}})}}}),module.directive("hcPie",function(){return{restrict:"C",replace:!0,scope:{items:"="},controller:function(){console.log(2)},template:'<div id="container" style="margin: 0 auto">not working</div>',link:function(e){console.log(3);var t=new Highcharts.Chart({chart:{renderTo:"container",plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{text:"Browser market shares at a specific website, 2010"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage}%</b>",percentageDecimals:1},plotOptions:{column:{stacking:"normal",allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,color:"#000000",connectorColor:"#000000",formatter:function(){return"<b>"+this.point.name+"</b>: "+this.percentage+" %"}}}},series:[{type:"column",name:"Browser share",data:e.items}]});e.$watch("items",function(e){t.series[0].setData(e,!0)},!0)}}}),module.directive("showtab",function(){return{link:function(e,t){t.click(function(e){e.preventDefault(),$(t).tab("show")})}}}),module.directive("ngModelOnblur",function(){return{link:function(e,t){t.bind("blur",function(){e.$apply(function(){$("#tabBtn").removeClass("tabletBtn1"),$("#tabBtn").removeAttr("style")})})}}}),module.directive("passwordValidate",function(){return{require:"ngModel",replace:!0,link:function(e,t,n,i){i.$parsers.unshift(function(t){return e.pwdValidLength=t&&t.length>=8?"valid":void 0,e.pwdHasLetter=t&&/[A-z]/.test(t)?"valid":void 0,e.pwdHasNumber=t&&/\d/.test(t)?"valid":void 0,e.pwdValidLength&&e.pwdHasLetter&&e.pwdHasNumber?(i.$setValidity("pwd",!0),t):(i.$setValidity("pwd",!1),void 0)})}}}),module.filter("fromNow",function(){return function(e){return moment(e).fromNow()}}),module.directive("autoComplete",function(e){return{restrict:"A",link:function(t,n){n.autocomplete({source:e.getSource(),minLength:2})}}});var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,i,r,o,s,a,l="",c=0;for(e=Base64._utf8_encode(e);c<e.length;)t=e.charCodeAt(c++),n=e.charCodeAt(c++),i=e.charCodeAt(c++),r=t>>2,o=(3&t)<<4|n>>4,s=(15&n)<<2|i>>6,a=63&i,isNaN(n)?s=a=64:isNaN(i)&&(a=64),l=l+this._keyStr.charAt(r)+this._keyStr.charAt(o)+this._keyStr.charAt(s)+this._keyStr.charAt(a);return l},decode:function(e){var t,n,i,r,o,s,a,l="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)r=this._keyStr.indexOf(e.charAt(c++)),o=this._keyStr.indexOf(e.charAt(c++)),s=this._keyStr.indexOf(e.charAt(c++)),a=this._keyStr.indexOf(e.charAt(c++)),t=r<<2|o>>4,n=(15&o)<<4|s>>2,i=(3&s)<<6|a,l+=String.fromCharCode(t),64!=s&&(l+=String.fromCharCode(n)),64!=a&&(l+=String.fromCharCode(i));return l=Base64._utf8_decode(l)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);128>i?t+=String.fromCharCode(i):i>127&&2048>i?(t+=String.fromCharCode(192|i>>6),t+=String.fromCharCode(128|63&i)):(t+=String.fromCharCode(224|i>>12),t+=String.fromCharCode(128|63&i>>6),t+=String.fromCharCode(128|63&i))}return t},_utf8_decode:function(e){for(var t="",n=0,i=c1=c2=0;n<e.length;)i=e.charCodeAt(n),128>i?(t+=String.fromCharCode(i),n++):i>191&&224>i?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),n+=3);return t}},baseUrl="localhost:8080",auth_token="",loginMsgFlag=0;module.controller("commonCtrl",function(e,t,n){$(".content").css("min-height",function(){return $(".content")[0].scrollHeight-38}),getCookie("userRole")=="kanari_admin"?e.userName=getCookie("userRole"):getCookie("userRole")=="customer_admin"?e.userName=getCookie("userName"):getCookie("userRole")=="manager"&&(e.userName=getCookie("userName")),e.logout=function(){t({method:"delete",url:"/api/users/sign_out"}).success(function(e,t){console.log("Data in success "+e+" status "+t),n.url("/login")}).error(function(e,t){console.log("data in error "+e+" status "+t),401==t&&n.url("/login")}),t.defaults.headers.common.Authorization="Basic "+Base64.encode(auth_token),deleteCookie("authToken"),deleteCookie("userRole"),deleteCookie("outletDropDwn"),n.url("/login")},e.goTOOulet=function(){getCookie("userRole")=="kanari_admin"?n.url("/createInvitation"):getCookie("userRole")=="customer_admin"?n.url("/outlets"):getCookie("userRole")=="manager"&&n.url("/outlets")},e.getActive=function(e){n.url("/"+e)},getCookie("userRole")=="manager"?($("#account").hide(),e.accountm=!0,$("#accountm").show()):(e.accountm=!1,$("#accountm").hide())});var acceptInvitationStep2;module.controller("Login",function(e,t,n,i){e.header="Login | Kanari",$(".welcome").hide(),$(".navBarCls").hide(),t.remember=!1,t.storageKey="JQueryMobileAngularTodoapp",t.erromsg=!1,t.alreadyUser=!0,t.congratsMsg=!1,getCookie("loginMsgFlag")=="1"?(t.alreadyUser=!1,t.congratsMsg=!0):(t.alreadyUser=!0,t.congratsMsg=!1),t.login=function(){i.url("/login")},t.getLogin=function(){getCookie("userRole")=="kanari_admin"?i.url("/createInvitation"):getCookie("userRole")=="customer_admin"&&i.url("/outlets")},t.rememberMe=function(e){e?setCookie("rememberme","yes",.29):setCookie("rememberme","no",.29)},t.chkLogin=function(){t.login.$valid&&($(".welcome").hide(),$(".navBarCls").hide(),"{email:'"+t.email+"','"+t.password+"'}",n({method:"post",url:"/api/users/sign_in"}).success(function(e,n){console.log("User Role "+e.user_role+" status "+n),deleteCookie("loginMsgFlag"),t.remember?(setCookie("userRole",e.user_role,7),setCookie("authToken",e.auth_token,7),setCookie("userName",e.first_name+" "+e.last_name,7),setCookie("userId",e.customer_id,7)):(setCookie("userRole",e.user_role,.29),setCookie("authToken",e.auth_token,.29),setCookie("userId",e.customer_id,7),setCookie("userName",e.first_name+" "+e.last_name,.29)),t.erromsg=!1,getCookie("userRole")=="kanari_admin"?$("#userName").text(getCookie("userRole")):getCookie("userRole")=="customer_admin"?($("#userName").text(getCookie("userName")),setCookie("auth_outlet",e.can_create_new_outlet,7)):getCookie("userRole")=="manager"&&$("#userName").text(getCookie("userName")),getCookie("userRole")=="kanari_admin"?i.url("/createInvitation"):getCookie("userRole")=="customer_admin"&&e.registration_complete?i.url("/outlets"):getCookie("userRole")!="customer_admin"||e.registration_complete?getCookie("userRole")=="manager"&&e.registration_complete?i.url("/outlets"):getCookie("userRole")=="user"&&(t.error="You are not authenticated to use this app",t.erromsg=!0):(acceptInvitationStep2=!0,i.url("/acceptInvitationStep2"))}).error(function(e,n){console.log("data error"+e+" status "+n),401==n&&i.url("/login"),getCookie("userRole")=="user"?(t.error="You are not authenticated to use this app",t.erromsg=!0):(t.error="Invalid Email or Password",t.erromsg=!0)})),t.getLogin()},t.$watch("email + password",function(){n.defaults.headers.common.Authorization="Basic "+Base64.encode(t.email+":"+t.password)})}),module.controller("forgotPassCtrl",function(e,t,n,i){e.header="Forgot Password | Kanari",t.erromsg=!1,t.success=!1,t.SendLink=function(){if(t.forgotPass.$valid){var e=t.email,r={user:{email:e}};n({method:"post",url:"/api/users/password",data:r}).success(function(n,i){console.log("data in success "+e+" status "+i),t.error=n.error,e?(t.success=!0,t.erromsg=!1):(t.erromsg=!0,t.success=!1)}).error(function(e,n){console.log("data in error"+e+" status "+n),401==n&&i.url("/login"),t.erromsg=!0,t.success=!1})}},t.BackLink=function(){i.url("/login")}}),module.controller("resetPassCtrl",function(e,t,n,i,r){e.header="Reset Password | Kanari",t.erromsg=!1,t.reset_Pass=function(){if(t.resetPass.$valid){var e=t.password,o=t.confirmpassword,s=n.reset_password_token,a={user:{password:e,password_confirmation:o,reset_password_token:s}};i({method:"put",url:"/api/users/password",data:a}).success(function(e,n){console.log("data in success "+e+" status "+n),t.success=!0,t.erromsg=!1}).error(function(e,n){console.log("data in error"+e+" status "+n),401==n&&r.url("/login"),t.errormessage=e.errors[0],t.erromsg=!0,t.success=!1})}}}),module.controller("homeCtrl",function(e,t,n,i){function r(){t.userAction=getCookie("userRole")=="customer_admin"&&getCookie("auth_outlet")=="true"?!0:!1}if(getCookie("authToken")){e.header="Outlets | Kanari",$(".welcome").show(),$(".navBarCls").show(),$("#dasboard").hide(),$("#adminConsole").hide(),$("#account").show(),$("#outlet").show(),$("#dasboardCustomer").show(),$(".navBarCls ul li").removeClass("active"),$("#outlet").addClass("active"),t.auth_token=getCookie("authToken"),t.userRole=getCookie("userRole"),t.outlets=[];var o,s;getCookie("userRole")=="customer_admin"?(t.accountm=!1,$("#accountm").hide()):($("#account").hide(),t.accountm=!0,$("#accountm").show());var a={auth_token:getCookie("authToken")};n({method:"get",url:"/api/outlets",params:a}).success(function(e,n){console.log("data in success "+e.length+" status "+n),t.outlets=e.outlets,t.error=e.auth_token,t.statement=!0,t.erromsg=!1,o=e.outlets.length}).error(function(e,n){console.log("data in error"+e+" status "+n),401==n&&i.url("/login"),t.erromsg=!0});var l=getCookie("userId"),a={auth_token:getCookie("authToken")};n({method:"get",url:"/api/customers/"+l,params:a}).success(function(e,t){console.log("data in success "+e+" status "+t),s=e.customer.authorized_outlets,setCookie("auth_outlet",e.customer.customer_admin.can_create_outlet,7),r()}).error(function(e,t){console.log("data in error"+e+" status "+t),401==t&&i.url("/login")})}else i.url("/login");t.changeTab=function(){i.url("/take_tour")}}),module.controller("createInvitation",function(e,t,n,i){getCookie("authToken")?(e.header="Create Invitation | Kanari",$(".welcome").show(),$(".navBarCls").show(),$("#outlet").hide(),$("#dasboard").show(),$("#adminConsole").show(),$(".navBarCls ul li").removeClass("active"),$("#outlet").hide(),$("#account").hide(),$("#dasboardCustomer").hide(),$("#dasboard").addClass("active"),t.statement=!1,t.erromsg=!1,t.errortext="",t.create_invitation=function(){console.log("In Create Invitation"+auth_token);var e=t.userEmail,r={user:{email:e},auth_token:getCookie("authToken")};n({method:"post",url:"/api/users/invitation",data:r}).success(function(e,n){console.log("data in success "+e+" status "+n),baseurl="",baseurl=window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.host,t.invitation_token=baseurl+"/#/accept_invitation?invi_token="+e.invitation_token,t.statement=!0,t.erromsg=!1}).error(function(n,r){console.log("data in error"+n+" status "+r),401==r&&i.url("/login"),e&&(t.errortext="An invitation url for this email is already created.",t.statement=!1,t.erromsg=!0),t.statement=!1})}):i.url("/login")}),module.controller("paymentInvoiceCtrl",function(e,t,n,i){if(getCookie("authToken")){e.header="Create Payment Invoice | Kanari",$(".welcome").show(),$(".navBarCls").show(),$(".navBarCls ul li").removeClass("active"),$("#outlet").hide(),$("#account").hide(),$("#dasboardCustomer").hide(),$("#dasboard").show(),$("#adminConsole").show(),$("#dasboard").addClass("active"),t.paymentInvoiceSuccess=!1,t.paymentInvoiceFail=!1,t.titles=[];
var r,o=[];$("#receipt_date").datepicker().on("changeDate",function(e){var t=new Date(e.date.valueOf()),n=t.getMonth()+1;recipt_date=t.getFullYear()+"-"+n+"-"+t.getDate(),"undefined"!=typeof startDt&&"undefined"!=endDt&&(console.log("hi in end date"),$(".outletDropDown").change(function(){}))});var s={auth_token:getCookie("authToken")};n({method:"get",url:"api/customers",params:s}).success(function(e,n){console.log("data in success "+e.lenght+" status "+n);for(var i=e.customers.length,s=0,a=i;a>s;s++)o.push({value:e.customers[s].name,id:e.customers[s].id});$("#autocomplete").autocomplete({lookup:o,onSelect:function(e){r=e.id,t.getOutletList(r)}})}).error(function(e,t){console.log("data in error"+e+" status "+t),401==t&&i.url("/login")}),t.isOutlet=!0,t.getOutletList=function(e){console.log(e);var r={customer_id:e,auth_token:getCookie("authToken")};n({method:"get",url:"api/outlets",params:r}).success(function(e,n){console.log("data in success "+e.lenght+" status "+n),t.outletsList=e.outlets,console.log(e.outlets.length),e.outlets.length>0?(t.isOutlet=!0,t.formoutlet1=e.outlets[0].id):t.isOutlet=!1}).error(function(e,t){console.log("data in error"+e+" status "+t),401==t&&i.url("/login")})},t.payment_invoice=function(){if(t.paymentInvoice.$valid&&$("#sDate").val()){t.dateEntered=!1;var e={payment_invoice:{kanari_invoice_id:t.kanari_invoice_id,outlet_id:t.formoutlet1,kanari_plan:t.kanari_plan,receipt_date:recipt_date,amount_paid:t.amount_paid,invoice_url:t.invoice_pdf},auth_token:getCookie("authToken")};n({method:"POST",url:"/api/customers/"+r+"/payment_invoices",data:e}).success(function(e,n){console.log("data in success "+e+" status "+n),t.paymentInvoiceSuccess=!0}).error(function(e,n){console.log("data in error"+e+" status "+n),401==n&&i.url("/login"),t.paymentInvoiceFail=!0}),n.defaults.headers.common.Authorization="Basic "+Base64.encode(getCookie("authToken")+":X")}else t.paymentInvoiceSuccess=!1,t.dateEntered=!0},t.clearForm=function(){t.paymentInvoiceSuccess=!1,document.getElementById("paymentInvoiceForm").reset(),t.outletsList=""}}else i.url("/login")}),module.controller("listPaymentInvoiceCtrl",function(e,t,n,i){getCookie("authToken")?(e.header="Payment Invoice List | Kanari",t.paymentInvoiceSuccess=!1,$(".welcome").show(),$(".navBarCls").show(),$(".navBarCls ul li").removeClass("active"),$("#outlet").show(),$("#account").show(),$("#dasboard").hide(),$("#adminConsole").hide(),$("#dasboardCustomer").hide(),$("#outlet").addClass("active"),t.InvoiceList=[],t.list_payment_invoice=function(){var e=t.start_date,r=t.end_date,o={start_date:e,end_date:r,auth_token:getCookie("authToken")};n({method:"get",url:"/api/payment_invoices",params:o}).success(function(e,n){console.log("data in success "+e+" status "+n),t.InvoiceList=e.payment_invoices;var i=t.InvoiceList.val;t.paymentInvoiceSuccess=i?!1:!0}).error(function(e,t){console.log("data in error"+e+" status "+t),401==t&&i.url("/login")}),n.defaults.headers.common.Authorization="Basic "+Base64.encode(getCookie("authToken")+":X")}):i.url("/login")});var date=new Date,y=date.getFullYear(),m=date.getMonth(),firstDay=new Date(y,m,1),lastDay=new Date(y,m+1,0),startDt=moment(firstDay).format("DD-MM-YYYY 00:00"),endDt=moment(lastDay).format("DD-MM-YYYY 23:23");module.controller("createOutletCtrl",function(e,t,n,r,o){function s(){console.log("in"),$("#container").highcharts({chart:{type:graphType},title:{text:t.chart_heading+" | Stacked column chart",color:"#A08A75",style:{display:"none"}},xAxis:{categories:resultsDate,labels:{align:"right",style:{fontSize:"10px",fontColor:"#7C7A7D",fontFamily:"Open Sans"}},title:{style:{color:"#7C7A7D"}}},yAxis:{title:{text:yAxisVal,style:{color:"#7C7A7D"}}},legend:{backgroundColor:"#fff",verticalAlign:"center",x:270,y:-10,style:{fontColor:"#A08A75"}},tooltip:{pointFormat:usageLegend+" <b>{point.y:.1f}</b>"},series:[{name:usageLegend,data:results1,color:"#664766"}],exporting:{enabled:!0,type:"image/jpeg"}})}function a(){$("#pieChart1").highcharts({chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{text:"MALE/FEMALE"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,color:"#000000",connectorColor:"#000000",format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}},series:[{type:"pie",name:"Browser share",data:[["male",male],["female",female]]}]})}function l(){$("#pieChart2").highcharts({chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{text:"NEW VS. RETURNING"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,color:"#000000",connectorColor:"#000000",format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}},series:[{type:"pie",name:"Browser share",data:[["New User",newUser],["Returning User",retUser]]}]})}if(getCookie("authToken")){t.action=!0,e.header="Create Outlet | Kanari",t.profileShow=!0,t.managerField=!1,t.locationShow=!1,t.permissionShow=!1,t.ReportShow=!1,t.TabletIdShow=!1,t.updateMode=!1,t.success1=!1,t.form_outlet2=!1,t.form_outlet3=!1,t.form_cuisine2=!1,t.form_cuisine3=!1,$(".welcome").show(),$("#dasboard").hide(),$(".add_manager").show(),$("#adminConsole").hide();var c;t.auth_token=getCookie("authToken"),$(".navBarCls").show(),$("#dasboardCustomer").show(),t.error=!1,t.successMsg=!1,t.outletTypes=[],t.cuisineTypes=[],t.managerList=[],t.checkedCuisineTypes=[],t.checkedOutletTypes=[],t.checked_CuisineTypes=[],t.checked_OutletTypes=[],t.listTabIds=[],getCookie("userRole")=="customer_admin"?t.userAction=!0:$("#account").hide(),getCookie("auth_outlet")!="false"||n.outletId||o.path()!="/create_outlet"||o.url("/outlets"),t.getOutletTypes=function(){var e={auth_token:t.auth_token};r({method:"get",url:"/api/outlet_types",params:e}).success(function(e){t.error=!1,t.outletTypes=e.outlet_types,t.success=!0}).error(function(e,n){console.log("data in error"+e+" status "+n),401==n&&o.url("/login"),t.error=!0,t.success=!1})},t.getOutletTypes(),t.getCuisineTypes=function(){var e={auth_token:getCookie("authToken")};r({method:"get",url:"/api/cuisine_types",params:e}).success(function(e){t.error=!1,t.cuisineTypes=e.cuisine_types,t.success=!0}).error(function(e,n){console.log("data in error"+e+" status "+n),401==n&&o.url("/login"),t.error=!0,t.success=!1})},t.getCuisineTypes(),t.getManagerList=function(){var e={auth_token:getCookie("authToken")};r({method:"get",url:"/api/managers",params:e}).success(function(e){t.error=!1,t.managerList=e.managers,t.outletMgrListCount=e.managers.length>0?!1:!0;var n=e.managers;t.managerField=""!=n?!0:!1,t.success=!0}).error(function(e,n){console.log("data  in error"+e+" status "+n),401==n&&o.url("/login"),t.error=!0,t.success=!1})},t.getManagerList(),t.selectAction=function(){if(t.select_Action.$valid){var e,n,i={auth_token:getCookie("authToken")};r({method:"get",url:"/api/outlets/"+t.outletID,params:i}).success(function(t){t.outlet.latitude&&(e=t.outlet.latitude),t.outlet.longitude&&(n=t.outlet.longitude)}).error(function(e,t){401==t&&o.url("/login")}),c=t.myOption,console.log("Test"+getCookie("currentCuisineList"));var i={outlet:{manager_id:c,cuisine_type_ids:JSON.parse(getCookie("currentCuisineList")),outlet_type_ids:JSON.parse(getCookie("currentOutletList"))},auth_token:getCookie("authToken")};r({method:"put",url:"/api/outlets/"+t.outletID,data:i}).success(function(e,n){console.log("data in success hi "+e+" status "+n),t.successmgr=!0,t.getOutlet()}).error(function(e,n){console.log("data in error"+e+" status "+n),401==n&&o.url("/login"),t.successmgr=!1})}},t.todaysDt={Dt:Date.now()};var u={auth_token:getCookie("authToken"),outlet_id:n.outletId,start_time:startDt,end_time:endDt};r({method:"get",url:"/api/feedbacks/trends",params:u}).success(function(e){results1=[],results2=[],results3=[],resultsDate=[],finaltime=[],npsOverview=0,t.trendsList=e.feedback_trends.detailed_statistics;for(var n=Object.keys(t.trendsList).length,i=0;n>i;i++){dateV=Object.keys(t.trendsList)[i],startDateV=moment(dateV).format("MMM DD");var r=e.feedback_trends.detailed_statistics[dateV].net_promoter_score.like-e.feedback_trends.detailed_statistics[dateV].net_promoter_score.dislike;npsOverview=1,usageLegend="Net Promoter Score",xAxisVal="Time Interval (Months, Weeks, Days)",yAxisVal="Net Promoter Score",t.chart_subheading_tooltip="The Net Promoter Score (NPS) of your restaurant over the specified period. The NPS on each day is calculated as the average of the last 100 feedback submissions.",resultsDate.push(startDateV),results1.push(r)}t.NPS=e.feedback_trends.summary.net_promoter_score.score.change_in_points,t.positiveChange=e.feedback_trends.summary.net_promoter_score.promoters.change_in_points,t.neutralChange=e.feedback_trends.summary.net_promoter_score.passives.change_in_points,t.negativeChange=e.feedback_trends.summary.net_promoter_score.detractors.change_in_points,t.feedbackSubmit=e.feedback_trends.summary.feedback_submissions.count.change_in_percentage,t.noOfRedem=e.feedback_trends.summary.redemptions_processed.count.change_in_percentage,t.discountClaimed=e.feedback_trends.summary.discounts_claimed.total.change_in_percentage,t.pointsIssued=e.feedback_trends.summary.points_issued.total.change_in_percentage,t.food_monthlyChange=e.feedback_trends.summary.customer_experience.food_quality.like.over_period-e.feedback_trends.summary.customer_experience.food_quality.dislike.over_period,t.speed_monthlyChange=e.feedback_trends.summary.customer_experience.speed_of_service.like.over_period-e.feedback_trends.summary.customer_experience.speed_of_service.dislike.over_period,t.friendly_monthlyChange=e.feedback_trends.summary.customer_experience.friendliness_of_service.like.over_period-e.feedback_trends.summary.customer_experience.friendliness_of_service.dislike.over_period,t.ambience_monthlyChange=e.feedback_trends.summary.customer_experience.ambience.like.over_period-e.feedback_trends.summary.customer_experience.ambience.dislike.over_period,t.clean_monthlyChange=e.feedback_trends.summary.customer_experience.cleanliness.like.over_period-e.feedback_trends.summary.customer_experience.cleanliness.dislike.over_period,t.moneyVal_monthlyChange=e.feedback_trends.summary.customer_experience.value_for_money.like.over_period-e.feedback_trends.summary.customer_experience.value_for_money.dislike.over_period,male=e.feedback_trends.summary.demographics.male.over_period,female=e.feedback_trends.summary.demographics.female.over_period,newUser=e.feedback_trends.summary.users.new_users.over_period,retUser=e.feedback_trends.summary.users.returning_users.over_period,graphType="line",s(),a(),l()}).error(function(e,t){console.log("data in error"+e+" status "+t),401==t&&o.url("/login")}),t.getOutlet=function(){if(n.outletId){e.header="Update Outlet | Kanari",t.action=!1;var s={auth_token:t.auth_token};r({method:"get",url:"/api/outlets/"+n.outletId,params:s}).success(function(e,n){if(console.log("data in success "+e+" status "+n),t.error=!1,t.outletID=e.outlet.id,t.success=!0,t.restaurant_name=e.outlet.name,t.restaurant_location=e.outlet.address,t.email_address=e.outlet.email,$(".phoneno_1").val(e.outlet.phone_number),t.fromTime=e.outlet.open_hours.split("-")[0],t.toTime=e.outlet.open_hours.split("-")[1],t.outlet_disabled=e.outlet.disabled,e.outlet.has_delivery){var r=e.outlet.has_delivery.toString();t.Delivery=r}else if(e.outlet.has_delivery="false"){var r=e.outlet.has_delivery.toString();t.Delivery=r}if(e.outlet.serves_alcohol){var o=e.outlet.serves_alcohol.toString();t.serves_alcohol=o}else if(e.outlet.serves_alcohol="false"){var o=e.outlet.serves_alcohol.toString();t.serves_alcohol=o}if(e.outlet.has_outdoor_seating){var s=e.outlet.has_outdoor_seating.toString();t.outdoor_Seating=s}else if(e.outlet.has_outdoor_seating="false"){var s=e.outlet.has_outdoor_seating.toString();t.outdoor_Seating=s}for(setCookie("latitude",e.outlet.latitude,.29),setCookie("logitude",e.outlet.longitude,.29),e.outlet.manager?(t.myOption=e.outlet.manager.id,t.manager_show=!0):t.manager_show=!1,t.updateMode=!0,t.checked_CuisineTypes=e.outlet.cuisine_types,i=0;i<t.checked_CuisineTypes.length;i++)t.checkedCuisineTypes.push(t.checked_CuisineTypes[i].id),0==i?(t.formcuisine1=t.checked_CuisineTypes[i].id,t.form_cuisine2=!0):1==i?(t.formcuisine2=t.checked_CuisineTypes[i].id,t.form_cuisine3=!0):2==i&&(t.formcuisine3=t.checked_CuisineTypes[i].id);for(t.checked_OutletTypes=e.outlet.outlet_types,i=0;i<t.checked_OutletTypes.length;i++)t.checkedOutletTypes.push(t.checked_OutletTypes[i].id),0==i?(t.formoutlet1=t.checked_OutletTypes[i].id,t.form_outlet2=!0):1==i?(t.formoutlet2=t.checked_OutletTypes[i].id,t.form_outlet3=!0):2==i&&(t.formoutlet3=t.checked_OutletTypes[i].id);t.$broadcast("clickMessageFromParent",{data:"SOME msg to the child"})}).error(function(e,n){console.log("data in error"+e+" status "+n),401==n&&o.url("/login"),t.error=!0,t.success=!1})}},t.getOutlet(),t.validateForm=function(){return t.restaurant_name&&t.restaurant_location&&t.email_address&&t.contact_number&&t.Delivery&&t.serves_alcohol&&t.outdoor_Seating?!0:!1},t.selectOutlet1=function(){t.form_outlet2=!0,console.log(t.formoutlet3),t.formoutlet1?t.formoutlet1==t.formoutlet2||t.formoutlet1==t.formoutlet3?(t.outletError1=!1,t.outletError=!0,t.checkedOutletTypes.splice(0,1),t.formoutlet1=0):(t.outletError=!1,t.checkedOutletTypes[0]=t.formoutlet1,setCookie("currentOutletList",t.checkedOutletTypes,1),t.outletError1=!1,t.outletError2=!1):$("#select3").is(":visible")?(t.outletError1=!0,$(".customErrCls").css("left","555px")):(t.outletError1=!0,$(".customErrCls").css("left","430px"))},t.selectOutlet2=function(){t.form_outlet3=!0,t.formoutlet2&&t.formoutlet1?t.formoutlet2==t.formoutlet1||t.formoutlet2==t.formoutlet3?(t.outletError=!0,t.checkedOutletTypes.splice(1,1),t.formoutlet2=0,$(".customErrCls").css("left","555px")):(t.outletError=!1,t.checkedOutletTypes[1]=t.formoutlet2,t.outletError2=!1,$(".customErrCls").css("left","555px")):($(".customErrCls").css("left","555px"),t.outletError2=!0,t.checkedOutletTypes.splice(1,1),t.formoutlet1||(t.outletError1=!0,t.formoutlet2=0,t.formoutlet3=0))},t.selectOutlet3=function(){t.formoutlet3&&t.formoutlet1&&t.formoutlet2?t.formoutlet3==t.formoutlet1||t.formoutlet3==t.formoutlet2?(t.outletError=!0,t.checkedOutletTypes.splice(2,1),t.formoutlet3=0):(t.outletError=!1,t.checkedOutletTypes[2]=t.formoutlet3):t.formoutlet1&&t.formoutlet2?(t.outletError2=!1,t.checkedOutletTypes.splice(2,1)):(t.outletError2=!0,t.formoutlet3=0)},t.selectCuisine1=function(){t.form_cuisine2=!0,t.formcuisine1?t.formcuisine1==t.formcuisine2||t.formcuisine1==t.formcuisine3?(t.cuisineError=!0,t.cuisineError1=!1,t.checkedCuisineTypes.splice(0,1),t.formcuisine1=0):(t.cuisineError=!1,t.cuisineError1=!1,t.checkedCuisineTypes[0]=t.formcuisine1):$("#selectC3").is(":visible")?(t.cuisineError1=!0,$(".customErrCls1").css("left","555px")):(t.cuisineError1=!0,$(".customErrCls1").css("left","430px"))},t.selectCuisine2=function(){t.form_cuisine3=!0,t.formcuisine2&&t.formcuisine1?t.formcuisine2==t.formcuisine1||t.formcuisine2==t.formcuisine3?(t.cuisineError=!0,t.checkedCuisineTypes.splice(1,1),t.formcuisine2=0,t.cuisineError2=!1):(t.cuisineError=!1,t.checkedCuisineTypes[1]=t.formcuisine2,t.cuisineError2=!1):($(".customErrCls1").css("left","555px"),t.cuisineError2=!0,t.formcuisine1?t.checkedCuisineTypes.splice(1,1):(t.cuisineError1=!0,t.formcuisine2=0,t.formcuisine3=0))},t.selectCuisine3=function(){t.formcuisine3&&t.formcuisine1&&t.formcuisine2?t.formcuisine3==t.formcuisine1||t.formcuisine3==t.formcuisine2?(t.cuisineError=!0,t.checkedCuisineTypes.splice(2,1),t.formcuisine3=0,t.cuisineError2=!1):(t.cuisineError=!1,t.checkedCuisineTypes[2]=t.formcuisine3):t.formcuisine1?(t.cuisineError2=!1,t.checkedCuisineTypes.splice(2,1)):(t.cuisineError2=!0,t.formcuisine3=0)},t.disableOutlet=function(e){t.auth_token=getCookie("authToken"),checkbox=e.target;var n={outlet:{disabled:checkbox.checked},auth_token:t.auth_token};r({method:"PUT",url:"/api/outlets/"+t.outletID,data:n}).success(function(e,n){console.log("data in success "+e+" status "+n),t.error=e.auth_token,t.statement=!0,t.erromsg=!1}).error(function(e,n){console.log("data in error"+e+" status "+n),401==n&&o.url("/login"),t.erromsg=!0})},t.create_outlet=function(){if(t.createOutlet.$valid&&$(".phoneno_1").val()){t.valide_phone=!1,t.cuisineError=!1,t.cuisineError1=!1,t.cuisineError2=!1,t.outletError=!1,t.outletError1=!1,t.outletError2=!1;var e="/api/outlets",n="post";t.updateMode&&(e="/api/outlets/"+t.outletID,n="PUT");var i={outlet:{name:t.restaurant_name,address:t.restaurant_location,website_url:"http://batmansdonuts.com",email:t.email_address,phone_number:$(".phoneno_1").val(),manager_id:c,open_hours:t.fromTime+"-"+t.toTime,has_delivery:t.Delivery,serves_alcohol:t.serves_alcohol,has_outdoor_seating:t.outdoor_Seating,cuisine_type_ids:t.checkedCuisineTypes,outlet_type_ids:t.checkedOutletTypes},auth_token:t.auth_token};r({method:n,url:e,data:i}).success(function(e,n){console.log("data in success hi "+e+" status "+n),t.error=!1,console.log(t.checkedOutletTypes),setCookie("currentOutletList",JSON.stringify(t.checkedOutletTypes),1),setCookie("currentCuisineList",JSON.stringify(t.checkedCuisineTypes),1),setCookie("radiobtn1",t.Delivery,1),setCookie("radiobtn2",t.serves_alcohol,1),setCookie("radiobtn3",t.outdoor_Seating,1),t.$broadcast("clickMessageFromParent",{data:"SOME msg to the child"}),e.outlet&&(t.outletID=e.outlet.id,setCookie("currentOutlet",e.outlet.id,1),t.updateMode=!0,$("#location").css({opacity:"1"})),t.successMsg=!0,t.successoutlet=!0,$("#location").css({opacity:"1"})}).error(function(e,n){console.log("data in error"+e+" status "+n),401==n&&o.url("/login"),t.errormsg=e.errors[0],t.error=!0,t.successoutlet=!1})}else t.error=!0,t.valide_phone=!0},t.create_tablet_id=function(){t.password_changed="",t.staff_deleted="",t.errorMsg="",$(".changePass_tablet").hide(),t.successTabletId=!1,t.errorTabletId=!1},t.close_tabletId=function(){$("#tabletIdForm")[0].reset(),t.successTabletId=!1,t.errorTabletId=!1},t.listTabletIds=function(){var e={auth_token:getCookie("authToken"),outlet_id:n.outletId};r({method:"get",url:"/api/staffs",params:e}).success(function(e,n){console.log("data in success "+e+" status "+n),t.listTabIds=e.staffs}).error(function(e,t){console.log("data in error"+e+" status "+t),401==t&&o.url("/login")})},t.listTabletIds(),t.create_tabletId=function(){if(t.createTabletId.$valid&&$("#txt").val()){$("#tabBtn").addClass("tabletBtn1"),$(".tabletBtn1").show(),$(".tabletBtn2").hide();var e={user:{password:t.tabletId_password,password_confirmation:t.tabletId_confirm_password,outlet_id:n.outletId},auth_token:getCookie("authToken")};console.log("outlet id "+n.outletId),r({method:"post",url:"/api/staffs",data:e}).success(function(e,n){console.log("data in success "+e+" status "+n),t.listTabletIds(),t.errorTabletId=!1,t.successTabletId=!0,$("#tabletIdForm")[0].reset(),$("#txt").val("")}).error(function(e,n){console.log("data in error"+e+" status "+n),401==n&&o.url("/login"),$("#tabletIdForm")[0].reset(),t.errorMsg=e.errors[0],t.errorTabletId=!0,t.successTabletId=!1})}},t.DeleteStaff=function(e){var n={auth_token:getCookie("authToken")};r({method:"delete",url:"/api/staffs/"+e,params:n}).success(function(e,n){console.log("Data in success "+e+" status "+n),t.staff_deleted="Tablet has been deleted successfully",t.listTabletIds()}).error(function(e,t){console.log("data in error "+e+" status "+t),401==t&&o.url("/login")})},t.change_tablet_pass=function(e){t.tabletId=e,t.successTabletId=!1,t.errorTabletId=!1,t.errorMsg="",$(".tabletId").hide(),$(".changePass_tablet").show(),t.successTabletId=!1,t.errorTabletId=!1},t.close_change_tablet_pass=function(){$(".changePass_tablet").hide(),$("#passwordChange")[0].reset(),$(".tabletId").show(),t.successTabletId=!1,t.errorTabletId=!1},t.Change_password=function(){if(t.changePass.$valid&&$("#txtP").val()){var e={staff:{password:t.password,password_confirmation:t.password_confirmation},auth_token:getCookie("authToken")};r({method:"PUT",url:"/api/staffs/"+t.tabletId,data:e}).success(function(e,n){console.log("Data in success "+e+" status "+n),$("#passwordChange")[0].reset(),t.errorMsg="",$("#txtP").val(""),t.password_changed="Password has been changed successfully.",t.listTabletIds()}).error(function(e,n){401==n&&o.url("/login"),t.password_changed="",t.errorMsg=e.errors[0],console.log("data in error "+e+" status "+n)})}},o.path()=="/outlet_manager"&&(e.header="Outlet Manager | Kanari",$(".navBarCls ul li").removeClass("active"),$("#account").addClass("active")),t.add_new_manager=function(){$(".add_manager").show(),$(".edit_manager").hide(),t.manager_deleted=""},t.close_manager=function(){$("#formid")[0].reset()},t.close_updatemanager=function(){$(".edit_manager").hide()},t.master={},t.create_manager=function(){if(t.createManager.$valid&&$(".phoneno_3").val()){t.valide_phone=!1;var e={user:{email:t.email_address_manager1,first_name:t.first_name1,last_name:t.last_name1,phone_number:$(".phoneno_3").val(),password:t.password,password_confirmation:t.confirmpassword},auth_token:getCookie("authToken")};r({method:"post",url:"/api/managers",data:e}).success(function(e,n){console.log("data in success "+e+" status "+n),t.error=!1,t.manager_id=e.manager.id,t.success1=!0,t.getManagerList(),$("#formid")[0].reset()}).error(function(e,n){console.log("data in error"+e+" status "+n),401==n&&o.url("/login"),t.errorMsg=e.errors[0],t.errorMsg=="Email has already been taken"&&(t.errorMsg="This email address is already being used by a manager."),t.error=!0,t.success1=!1})}else t.valide_phone=!0,t.success1=!1},t.DeleteManager=function(e){var n={auth_token:getCookie("authToken")};r({method:"delete",url:"/api/managers/"+e,params:n}).success(function(e,n){console.log("Data in success "+e+" status "+n),t.manager_deleted="Manager has been deleted successfully",t.getManagerList(),$("#editManager")[0].reset(),$(".edit_manager").hide()}).error(function(e,t){console.log("data in error "+e+" status "+t),401==t&&o.url("/login")})},t.getManager=function(e){$(".add_manager").hide(),$(".edit_manager").show(),$("#formid")[0].reset(),t.valide_phone=!1,t.errorMsg="",t.success1=!1,t.manager_deleted="",t.manager_updated="";var n={auth_token:t.auth_token};r({method:"get",url:"/api/managers/"+e,params:n}).success(function(e,n){console.log("data in success "+e+" status "+n),$(".edit_manager").show(),t.manager_ID=e.manager.id,t.first_name=e.manager.first_name,t.last_name=e.manager.last_name,t.email_address_manager=e.manager.email,$(".phoneno_2").val(e.manager.phone_number)}).error(function(e,t){console.log("data in error"+e+" status "+t),401==t&&o.url("/login")})},t.updateManager=function(){if(t.editManager.$valid&&$(".phoneno_2").val()){t.valide_phone=!1;var e={manager:{first_name:t.first_name,last_name:t.last_name,phone_number:$(".phoneno_2").val()},auth_token:t.auth_token};r({method:"put",url:"/api/managers/"+t.manager_ID,data:e}).success(function(e,n){console.log("data in success "+e+" status "+n),t.manager_updated="Manager has been updated successfully",t.getManagerList()}).error(function(e,t){console.log("data in error"+e+" status "+t),401==t&&o.url("/login")})}else console.log("here"),t.manager_updated="",t.valide_phone=!0},t.changeTab=function(e){t.staff_deleted="",t.updateMode&&("profileShow"==e?($("#viewmap").hide(),$("#hidemap").show(),t.profileShow=!0,t.locationShow=!1,t.TabletIdShow=!1,t.permissionShow=!1,t.successMsg=!1,t.ReportShow=!1,$(".customErr").css("display","none"),$("#formid")[0].reset()):"locationShow"==e?($("#viewmap").show(),$("#hidemap").hide(),t.$broadcast("clickMessageFromParent",{data:"SOME msg to the child"}),t.profileShow=!1,t.locationShow=!0,t.TabletIdShow=!1,t.permissionShow=!1,t.ReportShow=!1,$(".customErr").css("display","none")):"permissionShow"==e?($("#viewmap").hide(),$("#hidemap").show(),t.profileShow=!1,t.locationShow=!1,t.TabletIdShow=!1,t.permissionShow=!0,t.ReportShow=!1,$(".customErr").css("display","none")):"ReportShow"==e?($("#viewmap").hide(),$("#hidemap").show(),t.profileShow=!1,t.locationShow=!1,t.permissionShow=!1,t.TabletIdShow=!1,t.ReportShow=!0,$(".customErr").css("display","none")):"TabletIdShow"==e&&($("#viewmap").hide(),$("#hidemap").show(),t.listTabletIds(),t.profileShow=!1,t.locationShow=!1,t.permissionShow=!1,t.ReportShow=!1,t.TabletIdShow=!0,$(".customErr").css("display","none")))}}else o.url("/login")}),module.controller("outletManagerCtrl",function(e,t,n,i,r){if(getCookie("authToken")){$(".welcome").show(),$(".navBarCls").show(),$("#dasboard").hide(),$("#adminConsole").hide(),$("#accountm").show(),$(".navBarCls ul li").removeClass("active"),$("#accountm").addClass("active"),$("#dasboardCustomer").show(),e.header="Outlet Manager | Kanari",getCookie("userId");var o={auth_token:getCookie("authToken")};i({method:"get",url:"api/users",params:o}).success(function(e,n){console.log("data in success "+e+" status "+n),$(".edit_manager").show(),t.manager_ID=e.user.id,t.first_name=e.user.first_name,t.last_name=e.user.last_name,t.email_address_manager=e.user.email,$(".phoneno_2").val(e.user.phone_number)}).error(function(e,t){console.log("data in error"+e+" status "+t),401==t&&r.url("/login")}),t.update_Manager=function(){if(t.editManager.$valid&&$(".phoneno_2").val()){t.valide_phone=!1;var e={user:{first_name:t.first_name,last_name:t.last_name,phone_number:$(".phoneno_2").val()},auth_token:getCookie("authToken")};i({method:"put",url:"/api/users/",data:e}).success(function(e,n){console.log("data in success "+e+" status "+n),setCookie("authToken",e.auth_token,1),t.manager_updated="Manager has been updated successfully"}).error(function(e,t){console.log("data in error"+e+" status "+t),401==t&&r.url("/login")})}else console.log("here"),t.manager_updated="",t.valide_phone=!0},t.goback=function(){r.url("/outlets")}}}),module.controller("acceptInvitationCtrl",function(e,t,n,i,r){t.validateForm=function(){return t.password||t.password_confirmation||t.first_name||t.last_name?!0:!1},e.header="Accept Invitation | Kanari",i({method:"get",url:"/api/users/invitation/"+n.invi_token}).success(function(e,n){console.log("data in success "+e+" status "+n),t.emailId=e.email}).error(function(e,t){console.log("data in error"+e+" status "+t),401==t&&r.url("/login")}),t.acceptInvitation=function(){if(t.acceptInv.$valid&&$(".phoneno_1").val()){t.valide_phone=!1;var e={user:{password:t.password,password_confirmation:t.password_confirmation,first_name:t.first_name,last_name:t.last_name,phone_number:$(".phoneno_1").val(),invitation_token:n.invi_token}};i({method:"put",url:"/api/users/invitation",data:e}).success(function(e,n){console.log("data in success "+e+" status "+n),t.error=!1,t.auth_token=e.auth_token,t.success=!0,setCookie("authToken",e.auth_token,1),r.url("/acceptInvitationStep2")}).error(function(e,n){console.log("data in error"+e+" status "+n),401==n&&r.url("/login"),t.errorMsg=e.errors[0],t.error=!0,t.success=!1})}else t.errorClient=!0,t.success=!1,t.valide_phone=!0}}),module.controller("acceptInvitation2Ctrl",function(e,t,n,i,r){getCookie("authToken")?(t.button=!0,e.header="Accept Invitation | Kanari",getCookie("userRole")=="customer_admin"&&($(".welcome").show(),t.acceptStep2Submit=!0,t.button=!0),t.auth_token=getCookie("authToken"),t.acceptInvitation2=function(){if(t.acceptInv2.$valid&&$(".phoneno_1").val()){t.valide_phone=!1,console.log("city"+t.registered_address_city+"country "+t.registered_address_country);var e={customer:{name:t.name,phone_number:$(".phoneno_1").val(),registered_address_line_1:t.registered_address_line_1,registered_address_line_2:t.registered_address_line_2,registered_address_city:"Dubai",registered_address_country:"UAE",mailing_address_line_1:t.mailing_address_line_1,mailing_address_line_2:t.mailing_address_line_2,mailing_address_city:"Dubai",mailing_address_country:"UAE",email:t.email1},auth_token:t.auth_token};i({method:"post",url:"/api/customers",data:e}).success(function(e,n){console.log("data in success "+e+" status "+n),t.error=!1,1==acceptInvitationStep2?r.url("/outlets"):($("#acceptInvStep2")[0].reset(),setCookie("loginMsgFlag","1",.29),r.url("/login"))}).error(function(e,n){console.log("data in error"+e+" status "+n),401==n&&r.url("/login"),t.errorMsg=e.errors[0],t.error=!0,t.success=!1})}else t.valide_phone=!0}):r.url("/login")}),module.controller("viewaccountCtrl",function(e,t,n,i){if(getCookie("authToken")){e.header="Settings | Kanari",$(".welcome").show(),$(".navBarCls").show(),$(".navBarCls ul li").removeClass("active"),$("#dasboard").hide(),$("#adminConsole").hide(),$("#account").addClass("active"),$("#dasboardCustomer").show(),t.success=!1;var r=getCookie("userId"),o={auth_token:getCookie("authToken")};n({method:"get",url:"/api/customers/"+r,params:o}).success(function(e,n){console.log("data in success "+e+" status "+n),t.first_name=e.customer.customer_admin.first_name,t.last_name=e.customer.customer_admin.last_name,t.email=e.customer.customer_admin.email,$(".phoneno_1").val(e.customer.customer_admin.phone_number),t.compnyNm=e.customer.name,$(".phoneno_2").val(e.customer.phone_number),t.add1=e.customer.registered_address_line_1,t.add2=e.customer.registered_address_line_2,t.city="Dubai",t.country="UAE",t.mailadd1=e.customer.mailing_address_line_1,t.mailadd2=e.customer.mailing_address_line_2,t.mailcity="Dubai",t.mailcountry="UAE",t.emailAdd=e.customer.email}).error(function(e,t){console.log("data in error"+e+" status "+t),401==t&&i.url("/login")}),t.view_account=function(){if(t.viewAcc.$valid&&$(".phoneno_2").val()){t.valide_phone=!1;var e={customer:{name:t.compnyNm,email:t.email,registered_address_line_1:t.add1,registered_address_line_2:t.add2,registered_address_city:"Dubai",registered_address_country:"UAE",phone_number:$(".phoneno_2").val(),mailing_address_line_1:t.mailadd1,mailing_address_line_2:t.mailadd2,mailing_address_city:"Dubai",mailing_address_country:"UAE",email:t.emailAdd},auth_token:getCookie("authToken")};n({method:"put",url:"/api/customers/"+r,data:e}).success(function(e,t){console.log("data in success "+e+" status "+t)}).error(function(e,t){console.log("data in error"+e+" status "+t),401==t&&i.url("/login")});var o={user:{first_name:t.first_name,last_name:t.last_name,phone_number:$(".phoneno_1").val(),current_password:t.password},auth_token:getCookie("authToken")};console.log(t.phoneno_1),n({method:"put",url:"/api/users/",data:o}).success(function(e,n){console.log("data in success "+e+" status "+n),setCookie("authToken",e.auth_token,7),t.success=!0,t.error=!1}).error(function(e,n){console.log("data in errorrr"+e+" status "+n),401==n&&i.url("/login"),t.success=!1,t.error=!0,t.errormsg=e.errors[0]})}else console.log("here"),t.success=!1,t.valide_phone=!0},t.gotoChangePassword=function(){i.url("/change_password")},t.goback=function(){i.url("/outlets")}}}),module.controller("changePassCtrl",function(e,t,n,i,r,o){getCookie("authToken")?(e.header="Change Password | Kanari",$(".welcome").show(),$(".navBarCls").show(),$(".navBarCls ul li").removeClass("active"),$("#dasboard").hide(),$("#adminConsole").hide(),$("#account").addClass("active"),$("#dasboardCustomer").show(),t.success=!1,t.error=!1,t.BackLink=function(){o.url("/view_account")},t.changePassword=function(){if(t.changePass.$valid){var e={user:{password:t.password,password_confirmation:t.password_confirmation,current_password:t.old_password},auth_token:getCookie("authToken")};r({method:"put",url:"/api/users/",data:e}).success(function(e,n){console.log("data in success "+e+" status "+n),setCookie("authToken",e.auth_token,7),t.success=!0,t.error=!1}).error(function(e,n){console.log("data in errorrr"+e+" status "+n),401==n&&o.url("/login"),t.success=!1,t.error=!0,t.errormsg=e.errors[0]})}else t.success=!1}):o.url("/login")}),module.controller("sidePanelCtrl",function(e,t,n,i,r){var o=r.path(),s=o.replace("/","");$(".ng-scope li").removeClass("active"),$("."+s).addClass("active")}),module.controller("createKanariCodeCtrl",function(e,t,n,i,r){getCookie("authToken")?($(".welcome").show(),$(".navBarCls").show(),$(".navBarCls ul li").removeClass("active"),$("#dasboard").hide(),$("#adminConsole").hide(),$("#dasboardCustomer").show(),$("#account").addClass("active"),$(".dashboardLi").hide(),e.success=!1,e.error=!1):r.url("/login"),e.create_kanariCode=function(){if(e.createKanariCode.$valid){var t={bill_amount:e.bill_amount};i({method:"POST",url:"/api/kanari_codes",data:t}).success(function(e,t){console.log("data in success "+e+" status "+t)}).error(function(e,t){console.log("data in errorr"+e+" status "+t),401==t&&r.url("/login")})}}}),module.controller("outletCuisineTypeCtrl",function(e,t,n,i,r,o){getCookie("authToken")?($(".welcome").show(),$(".navBarCls").show(),$(".navBarCls ul li").removeClass("active"),$("#outlet").hide(),$("#account").hide(),$("#adminConsole").show(),$("#dasboard").addClass("active"),$("#dasboardCustomer").hide(),t.header="Add Outlet/Cuiseine Type | Kanari",e.outletTypes=[],e.updateOMode=!1,e.updateCMode=!1,e.updateMode1=!1,e.updateMode2=!1,e.cuisineTypes=[],e.getOutletTypes=function(){var t={auth_token:getCookie("authToken")};
r({method:"get",url:"/api/outlet_types",params:t}).success(function(t){e.error=!1,e.outletTypes=t.outlet_types,e.success=!0}).error(function(t,n){console.log("data in error"+t+" status "+n),401==n&&o.url("/login"),e.error=!0,e.success=!1})},e.getOutletTypes(),e.getCuisineTypes=function(){var t={auth_token:getCookie("authToken")};r({method:"get",url:"/api/cuisine_types",params:t}).success(function(t){e.error=!1,e.cuisineTypes=t.cuisine_types,e.success=!0}).error(function(t,n){console.log("data in error"+t+" status "+n),401==n&&o.url("/login"),e.error=!0,e.success=!1})},e.getCuisineTypes(),e.updateOutletType=function(t){var n=$("#list option[value='"+t+"']").text();e.formoutlet1?($(".updateBtn").show(),$(".saveBtn").hide(),e.outletSuccess=!1,e.updateMode1=!0,e.outlet_types=n):($(".saveBtn").show(),$(".updateBtn").hide(),e.updateMode1=!1,e.outlet_types="")},e.add_outlet_type=function(){if(e.updateOMode=!1,e.outlet_type.$valid){var t="/api/outlet_types",n="post";e.updateMode1?e.formoutlet1&&(t="/api/outlet_types/"+e.formoutlet1,n="PUT",e.updateOMode=!0):e.updateOMode=!1;var i={outlet_type:{name:e.outlet_types},auth_token:getCookie("authToken")};r({method:n,url:t,data:i}).success(function(t,n){console.log("data in success "+t+" status "+n),e.outletSuccess=!0,e.getOutletTypes(),$(".saveBtn").show(),$(".updateBtn").hide(),e.formoutlet1="",e.outlet_deleted="",e.outlet_types=""}).error(function(t,n){console.log("data in errorrr"+t+" status "+n),401==n&&o.url("/login"),e.outletSuccess=!1})}},e.deleteOutletType=function(){var t={auth_token:getCookie("authToken")};r({method:"delete",url:"/api/outlet_types/"+e.formoutlet1,params:t}).success(function(t,n){console.log("Data in success "+t+" status "+n),e.outlet_deleted="Outlet type has been deleted successfully",e.getOutletTypes(),$(".saveBtn").show(),$(".updateBtn").hide(),e.outlet_types=""}).error(function(e,t){console.log("data in error "+e+" status "+t),401==t&&o.url("/login")})},e.updateCuisineType=function(t){var n=$("#Clist option[value='"+t+"']").text();e.formcuisine1?($(".updateCBtn").show(),$(".saveCBtn").hide(),e.cuisineSuccess=!1,e.updateMode2=!0,e.cuisine_types=n):($(".saveCBtn").show(),$(".updateCBtn").hide(),e.updateMode2=!1,e.cuisine_types="")},e.add_cuisine_type=function(){if(e.cuisine_type.$valid){e.updateCMode=!1;var t="/api/cuisine_types",n="post";e.updateMode2?e.formcuisine1&&(t="/api/cuisine_types/"+e.formcuisine1,n="PUT",e.updateCMode=!0):e.updateCMode=!1;var i={outlet_type:{name:e.outlet_types},auth_token:getCookie("authToken")},i={cuisine_type:{name:e.cuisine_types},auth_token:getCookie("authToken")};r({method:n,url:t,data:i}).success(function(t,n){console.log("data in success "+t+" status "+n),e.cuisineSuccess=!0,e.getCuisineTypes(),$(".saveCBtn").show(),e.cuisine_deleted="",$(".updateCBtn").hide(),e.formcuisine1="",e.cuisine_types=""}).error(function(t,n){console.log("data in errorrr"+t+" status "+n),401==n&&o.url("/login"),e.cuisineSuccess=!1})}},e.deleteCuisineType=function(){var t={auth_token:getCookie("authToken")};r({method:"delete",url:"/api/cuisine_types/"+e.formcuisine1,params:t}).success(function(t,n){console.log("Data in success "+t+" status "+n),e.cuisine_deleted="Cuisine type has been deleted successfully",e.getCuisineTypes(),$(".saveCBtn").show(),$(".updateCBtn").hide(),e.cuisine_types=""}).error(function(e,t){console.log("data in error "+e+" status "+t),401==t&&o.url("/login")})}):o.url("/login")}),module.controller("paymentHistoryCtrl",function(e,t,n,i,r,o){getCookie("authToken")?($(".welcome").show(),$(".navBarCls").show(),$(".navBarCls ul li").removeClass("active"),$("#outlet").show(),$("#dasboard").hide(),$("#adminConsole").hide(),$("#dasboardCustomer").show(),$("#account").addClass("active"),$(".dashboardLi").hide(),t.header="Payment History | Kanari",e.paymentHistoryList=[],$("#reportrange").daterangepicker({ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract("days",1),moment().subtract("days",1)],"Last 7 Days":[moment().subtract("days",6),moment()],"Last 14 Days":[moment().subtract("days",13),moment()],"Last 30 Days":[moment().subtract("days",29),moment()],"Last 90 Days":[moment().subtract("days",89),moment()]},startDate:moment().subtract("days",29),endDate:moment()},function(t,n){$("#reportrange span").html(t.format("D MMMM, YYYY")+" - "+n.format("D MMMM, YYYY")),startDt=t.format("DD-MM-YYYY"),endDt=n.format("DD-MM-YYYY"),e.listPaymentHistory()}),e.paymentHistoryList=[],e.listPaymentHistory=function(){if(e.outletOption,""!=startDt&&""!=endDt)var t={auth_token:getCookie("authToken"),password:"X",start_time:startDt,end_time:endDt};else var t={auth_token:getCookie("authToken"),password:"X"};r({method:"get",url:"/api/payment_invoices",params:t}).success(function(t,n){console.log("Data in success "+t+" status "+n),e.paymentHistoryList=[],e.paymentHistoryList=t.payment_invoices;var i=t.payment_invoices.length;if(i>0){for(var r=0;i>r;r++)t.payment_invoices[r].outlet_id&&e.getOutlet(t.payment_invoices[r].outlet_id,r);e.payHistoryListCount=!1}else e.payHistoryListCount=!0}).error(function(e,t){console.log("data in error "+e+" status "+t),401==t&&o.url("/login")})},e.getOutlet=function(t,n){var i={auth_token:getCookie("authToken"),password:"X"};r({method:"get",url:"/api/outlets/"+t,params:i}).success(function(t,i){console.log("Data in success "+t+" status "+i),console.log(n),e.paymentHistoryList[n].outlet_id=t.outlet.name,console.log(e.paymentHistoryList)}).error(function(e,t){console.log("data in error "+e+" status "+t),401==t&&o.url("/login")})},e.listPaymentHistory()):o.url("/login")});var startDt,endDt;module.controller("dashboardCommentsCtrl",function(e,t,n,i,r,o){if(getCookie("authToken")){$(".welcome").show(),$(".hideNav").hide(),$(".showNav").show(),$(".navBarCls ul li").removeClass("active"),$("#adminConsole").hide(),$("#comments").addClass("active"),t.header="Dashboard Comments | Kanari",e.feedbackList=[],e.outletNameList=[];var s=$("body").height();$(".home_page_view").height(s-170),n.outletId?(e.addOutletId=!0,e.addOutletNo=n.outletId,e.outletOption=n.outletId):e.addOutletId=!1,getCookie("outletDropDwn")&&(e.addOutletNo=parseInt(getCookie("outletDropDwn")),e.outletOption=parseInt(getCookie("outletDropDwn"))),e.v={Dt:Date.now()},$("#reportrange").daterangepicker({ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract("days",1),moment().subtract("days",1)],"Last 7 Days":[moment().subtract("days",6),moment()],"Last 14 Days":[moment().subtract("days",13),moment()],"Last 30 Days":[moment().subtract("days",29),moment()],"Last 90 Days":[moment().subtract("days",89),moment()]},startDate:moment().subtract("days",29),endDate:moment()},function(t,n){$("#reportrange span").html(t.format("D MMMM, YYYY")+" - "+n.format("D MMMM, YYYY")),startDt=t.format("DD-MM-YYYY"),endDt=n.format("DD-MM-YYYY"),e.listFeedbacksDate()}),e.listOutletNames=function(){var t={auth_token:getCookie("authToken"),password:"X"};r({method:"get",url:"/api/outlets",params:t}).success(function(t,i){console.log("Data in success "+t+" status "+i),e.outletNameList=t.outlets,n.outletId&&(e.outletOption=parseInt(n.outletId))}).error(function(e,t){console.log("data in error "+e+" status "+t),401==t&&o.url("/login")})},e.listOutletNames(),e.outletOption,e.listFeedbacksDate=function(){console.log("outetId "+e.outletOption);var t={auth_token:getCookie("authToken"),password:"X",outlet_id:e.outletOption,start_time:startDt,end_time:endDt};r({method:"get",url:"/api/feedbacks",params:t}).success(function(t,n){console.log("User Role "+t+" status "+n),e.feedbackList=t.feedbacks,console.log(t.feedbacks.length),e.feedBackListCount=t.feedbacks.length==0?!0:!1}).error(function(e,t){console.log("data "+e+" status "+t+" authToken"+getCookie("authToken")),401==t&&o.url("/login")})},e.listFeedbacks=function(){var t={auth_token:getCookie("authToken"),outlet_id:e.outletOption,start_time:startDt,end_time:endDt,password:"X"};r({method:"get",url:"/api/feedbacks",params:t}).success(function(t,n){console.log("User Role "+t+" status "+n),e.feedbackList=t.feedbacks,e.feedBackListCount=t.feedbacks.length==0?!0:!1}).error(function(e,t){console.log("data "+e+" status "+t+" authToken"+getCookie("authToken")),401==t&&o.url("/login")})},e.listFeedbacks(),e.selectOutlet=function(){setCookie("outletDropDwn",e.outletOption,.29),e.listFeedbacks()}}else o.url("/login")}),module.controller("dashboardTrendsCtrl",function(e,t,n,i,r,o){function s(){e.foodpositiveChange=e.positiveChange?e.positiveChange<0?-1:1:0,e.foodneutralChange=e.neutralChange?e.neutralChange<0?-1:1:0,e.foodnegativeChange=e.negativeChange?e.negativeChange<0?-1:1:0}function a(){1==custExpVal?e.chartType=="nonpercent"?(stackingValue="normal",k="Feedback Submissions"):(stackingValue="percent",k="%Feedback Submissions"):(stackingValue="percent",k="Feedback Submissions (100%)"),$("#container").highcharts({chart:{type:"area"},title:{text:e.chart_heading+" | Stacked column chart",color:"#A08A75",style:{display:"none"}},xAxis:{categories:m,title:{style:{color:"#7C7A7D"}},labels:{style:{fontSize:"10px",fontColor:"#7C7A7D",fontFamily:"Open Sans",fontWeight:"normal"}},tickInterval:d},yAxis:{allowDecimals:!1,min:0,title:{text:k,style:{color:"#7C7A7D",fontFamily:"Open Sans",fontWeight:"normal"}}},tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.percentage:.0f}%</b> ({point.y:,.0f} people)<br/>',shared:!0},plotOptions:{area:{stacking:stackingValue,lineColor:"#ffffff",lineWidth:1,marker:{lineWidth:1,lineColor:"#ffffff"}}},legend:{backgroundColor:"#fff",verticalAlign:"center",x:290,y:-10,style:{fontColor:"#A08A75"}},series:[{name:custLegend1,data:h,color:"#F5BA44"},{name:custLegend2,data:p,color:"#CCCCCC"},{name:custLegend3,data:f,color:"#664766"}]})}function l(){console.log("getUsageGraph"),$("#container").highcharts({chart:{type:"line"},title:{text:e.chart_heading+" | Stacked column chart",color:"#A08A75",style:{display:"none"}},xAxis:{categories:m,labels:{style:{fontSize:"10px",fontColor:"#7C7A7D",fontFamily:"Open Sans"}},title:{style:{color:"#7C7A7D"}},tickInterval:d},yAxis:{min:0,title:{text:k,style:{color:"#7C7A7D",fontFamily:"Open Sans",fontWeight:"normal"}}},legend:{backgroundColor:"#fff",verticalAlign:"center",x:300,y:-10,style:{fontColor:"#A08A75"}},tooltip:{pointFormat:y+" <b>{point.y:.0f}</b>"},series:[{name:y,data:h,color:"#664766"}]})}function c(){console.log("getUsageGraphOverview"),$("#container").highcharts({chart:{type:"line"},title:{text:e.chart_heading+" | Stacked column chart",color:"#A08A75",style:{display:"none"}},xAxis:{categories:m,labels:{style:{fontSize:"10px",fontColor:"#7C7A7D",fontFamily:"Open Sans"}},title:{style:{color:"#7C7A7D"}},tickInterval:d},yAxis:{title:{text:k,style:{color:"#7C7A7D",fontFamily:"Open Sans",fontWeight:"normal"}}},legend:{backgroundColor:"#fff",verticalAlign:"center",x:300,y:-10,style:{fontColor:"#A08A75"}},tooltip:{pointFormat:y+" <b>{point.y:.0f}</b>"},series:[{name:y,data:h,color:"#664766"}]})}function u(){$("#container").highcharts({chart:{type:C},title:{text:e.chart_heading+" | Stacked column chart",color:"#A08A75",style:{display:"none"}},xAxis:{categories:m,labels:{style:{fontSize:"10px",fontColor:"#7C7A7D",fontFamily:"Open Sans"}},title:{style:{color:"#7C7A7D"}},tickInterval:d},yAxis:{title:{text:k,style:{color:"#7C7A7D",fontFamily:"Open Sans",fontWeight:"normal"}}},legend:{backgroundColor:"#fff",verticalAlign:"center",x:300,y:-10,style:{fontColor:"#A08A75"}},tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y:,.0f}</b><br/>',shared:!0},plotOptions:{area:{stacking:"normal",lineColor:"#ffffff",lineWidth:1,marker:{lineWidth:1,lineColor:"#ffffff"}}},series:[{name:custLegend1,data:h,color:"#F5BA44"},{name:custLegend2,data:f,color:"#664766"}]})}if(getCookie("authToken")){$(".welcome").show(),$(".hideNav").hide(),$(".showNav").show(),$(".navBarCls ul li").removeClass("active"),$("#adminConsole").hide(),$("#trends").addClass("active"),t.header="Dashboard Trends | Kanari",e.outletNameList=[],e.trendsList=[];var d,h=[],p=[],f=[],m=[],g="",v="custExp",y="",b=0,w=0,x="",k="",C="";n.outletId?(e.addOutletId=!0,e.addOutletNo=n.outletId,e.outletTrend=parseInt(n.outletId)):e.addOutletId=!1,getCookie("outletDropDwn")&&(e.addOutletNo=parseInt(getCookie("outletDropDwn")),e.outletTrend=parseInt(getCookie("outletDropDwn"))),e.v={Dt:Date.now()};var _=new Date,T=_.getMonth()+1,S=_.getDate(),D=_.getFullYear()+"-"+((""+T).length<2?"0":"")+T+"-"+((""+S).length<2?"0":"")+S;e.chartType="percent",stackingValue="percent",e.showChartType=!0,e.chart_subheading="Food Quality",custExpVal=!0,yAxisMinVal=!0,$("#dashboard_trends ul li a").click(function(){$("#dashboard_trends ul li a").removeClass("active"),$(this).addClass("active"),e.chart_subheading=$(this).text(),g=$(this).attr("id"),"npsBreakdown"==g?(custExpVal=!1,yAxisMinVal=!0):"npsOverview"==g?(yAxisMinVal=!1,custExpVal=!0):(custExpVal=!0,yAxisMinVal=!0),e.listOfTrendsDate(g)}),e.chart_heading="Customer Experience",e.chart_subheading_tooltip="Breakdown of user ratings of food quality at this restaurant over the specified period. You can toggle between absolute and percentage figures.",e.custExpSummary=!0,$("#dashboard_trends ul").click(function(){v=$(this).attr("class"),"custExp"==v?(e.chart_heading="Customer Experience",e.custExpSummary=!0,e.NPSSummary=!1,e.feedbackCount=!1,e.rewardPool=!1,e.demographic=!1,e.usergraph=!1,e.showChartType=!0):"netPromo"==v?(e.showChartType=!1,e.chart_heading="Net Promoter Score"):"usage"==v?(e.showChartType=!1,e.chart_heading="Usage"):"customers"==v&&(e.showChartType=!1,e.chart_heading="Customers")}),e.btns=[{label:"100%",state:!1}],$("#data-policy").change(function(){$("#data-policy").is(":checked")?(stackingValue="",k="Feedback Submissions",e.chartType="nonpercent"):(stackingValue="percent",k="%Feedback Submissions",e.chartType="percent"),C="area",a()}),$("#reportrange").daterangepicker({ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract("days",1),moment().subtract("days",1)],"Last 7 Days":[moment().subtract("days",6),moment()],"Last 14 Days":[moment().subtract("days",13),moment()],"Last 30 Days":[moment().subtract("days",29),moment()],"Last 90 Days":[moment().subtract("days",89),moment()]},startDate:moment().subtract("days",29),endDate:moment()},function(t,n){$("#reportrange span").html(t.format("D MMMM, YYYY")+" - "+n.format("D MMMM, YYYY")),startDt=t.format("DD-MM-YYYY 00:00"),endDt=n.format("DD-MM-YYYY 23:23"),e.listOfTrendsDate(g)}),Date.prototype.yyyymmdd=function(){var e=this.getFullYear().toString(),t=(this.getMonth()+1).toString(),n=this.getDate().toString();return e+"-"+(t[1]?t:"0"+t[0])+"-"+(n[1]?n:"0"+n[0])},e.selectOutlet=function(){setCookie("outletDropDwn",e.outletTrend,.29),e.listOfTrendsDate(g)},e.listOfTrendsDate=function(t){if(console.log("inFun"+e.outletTrend),t)if("timeOfVisit"!=t||startDt)if("timeOfVisit"==t&&startDt)var n={auth_token:getCookie("authToken"),outlet_id:e.outletTrend,start_time:startDt,end_time:startDt};else var n={auth_token:getCookie("authToken"),outlet_id:e.outletTrend,start_time:startDt,end_time:endDt};else var n={auth_token:getCookie("authToken"),outlet_id:e.outletTrend,start_time:D,end_time:D};else{t="food",v="custExp";var n={auth_token:getCookie("authToken"),outlet_id:e.outletTrend,start_time:startDt,end_time:endDt}}r({method:"get",url:"/api/feedbacks/trends",params:n}).success(function(n,i){console.log("User Role "+n+" status "+i),h=[],p=[],f=[],m=[],finaltime=[],timeOfV=0,b=0,w=0;var r;e.trendsList=n.feedback_trends.detailed_statistics;for(var o=Object.keys(e.trendsList).length,g=0;o>g;g++){if(dateV=Object.keys(e.trendsList)[g],r=moment(dateV).format("MMM DD"),"food"==t){e.selectedOption="";var $=n.feedback_trends.detailed_statistics[dateV].food_quality.like,_=n.feedback_trends.detailed_statistics[dateV].food_quality.neutral,T=n.feedback_trends.detailed_statistics[dateV].food_quality.dislike;x="Time Interval (Months, Weeks, Days)",k="Feedback Submissions",custLegend1="Positive",custLegend2="Neutral",custLegend3="Negative",e.chart_subheading_tooltip="Breakdown of user ratings of food quality at this restaurant over the specified period. You can toggle between absolute and percentage figures.",e.positive=n.feedback_trends.summary.customer_experience.food_quality.like.over_period,e.neutral=n.feedback_trends.summary.customer_experience.food_quality.neutral.over_period,e.negative=n.feedback_trends.summary.customer_experience.food_quality.dislike.over_period,e.positiveChange=n.feedback_trends.summary.customer_experience.food_quality.like.change_in_points,e.neutralChange=n.feedback_trends.summary.customer_experience.food_quality.neutral.change_in_points,e.negativeChange=n.feedback_trends.summary.customer_experience.food_quality.dislike.change_in_points,s()}else if("speed"==t){e.selectedOption="";var $=n.feedback_trends.detailed_statistics[dateV].speed_of_service.like,_=n.feedback_trends.detailed_statistics[dateV].speed_of_service.neutral,T=n.feedback_trends.detailed_statistics[dateV].speed_of_service.dislike;x="Time Interval (Months, Weeks, Days)",k="Feedback Submissions",custLegend1="Positive",custLegend2="Neutral",custLegend3="Negative",e.chart_subheading_tooltip="Breakdown of user ratings of speed of service at this restaurant over the specified period. You can toggle between absolute and percentage figures.",e.positive=n.feedback_trends.summary.customer_experience.speed_of_service.like.over_period,e.neutral=n.feedback_trends.summary.customer_experience.speed_of_service.neutral.over_period,e.negative=n.feedback_trends.summary.customer_experience.speed_of_service.dislike.over_period,e.positiveChange=n.feedback_trends.summary.customer_experience.speed_of_service.like.change_in_points,e.neutralChange=n.feedback_trends.summary.customer_experience.speed_of_service.neutral.change_in_points,e.negativeChange=n.feedback_trends.summary.customer_experience.speed_of_service.dislike.change_in_points,s()}else if("friendly"==t){e.selectedOption="";var $=n.feedback_trends.detailed_statistics[dateV].friendliness_of_service.like,_=n.feedback_trends.detailed_statistics[dateV].friendliness_of_service.neutral,T=n.feedback_trends.detailed_statistics[dateV].friendliness_of_service.dislike;x="Time Interval (Months, Weeks, Days)",k="Feedback Submissions",custLegend1="Positive",custLegend2="Neutral",custLegend3="Negative",e.chart_subheading_tooltip="Breakdown of user ratings of friendliness of service at this restaurant over the specified period. You can toggle between absolute and percentage figures.",e.positive=n.feedback_trends.summary.customer_experience.friendliness_of_service.like.over_period,e.neutral=n.feedback_trends.summary.customer_experience.friendliness_of_service.neutral.over_period,e.negative=n.feedback_trends.summary.customer_experience.friendliness_of_service.dislike.over_period,e.positiveChange=n.feedback_trends.summary.customer_experience.friendliness_of_service.like.change_in_points,e.neutralChange=n.feedback_trends.summary.customer_experience.friendliness_of_service.neutral.change_in_points,e.negativeChange=n.feedback_trends.summary.customer_experience.friendliness_of_service.dislike.change_in_points,s()}else if("ambiance"==t){e.selectedOption="";var $=n.feedback_trends.detailed_statistics[dateV].ambience.like,_=n.feedback_trends.detailed_statistics[dateV].ambience.neutral,T=n.feedback_trends.detailed_statistics[dateV].ambience.dislike;x="Time Interval (Months, Weeks, Days)",k="Feedback Submissions",custLegend1="Positive",custLegend2="Neutral",custLegend3="Negative",e.chart_subheading_tooltip="Breakdown of user ratings of ambiance at this restaurant over the specified period. You can toggle between absolute and percentage figures.",e.positive=n.feedback_trends.summary.customer_experience.ambience.like.over_period,e.neutral=n.feedback_trends.summary.customer_experience.ambience.neutral.over_period,e.negative=n.feedback_trends.summary.customer_experience.ambience.dislike.over_period,e.positiveChange=n.feedback_trends.summary.customer_experience.ambience.like.change_in_points,e.neutralChange=n.feedback_trends.summary.customer_experience.ambience.neutral.change_in_points,e.negativeChange=n.feedback_trends.summary.customer_experience.ambience.dislike.change_in_points,s()}else if("cleanly"==t){e.selectedOption="";var $=n.feedback_trends.detailed_statistics[dateV].cleanliness.like,_=n.feedback_trends.detailed_statistics[dateV].cleanliness.neutral,T=n.feedback_trends.detailed_statistics[dateV].cleanliness.dislike;x="Time Interval (Months, Weeks, Days)",k="Feedback Submissions",custLegend1="Positive",custLegend2="Neutral",custLegend3="Negative",e.chart_subheading_tooltip="Breakdown of user ratings of cleanliness at this restaurant over the specified period. You can toggle between absolute and percentage figures.",e.positive=n.feedback_trends.summary.customer_experience.cleanliness.like.over_period,e.neutral=n.feedback_trends.summary.customer_experience.cleanliness.neutral.over_period,e.negative=n.feedback_trends.summary.customer_experience.cleanliness.dislike.over_period,e.positiveChange=n.feedback_trends.summary.customer_experience.cleanliness.like.change_in_points,e.neutralChange=n.feedback_trends.summary.customer_experience.cleanliness.neutral.change_in_points,e.negativeChange=n.feedback_trends.summary.customer_experience.cleanliness.dislike.change_in_points,s()}else if("moneyVal"==t){e.selectedOption="";var $=n.feedback_trends.detailed_statistics[dateV].value_for_money.like,_=n.feedback_trends.detailed_statistics[dateV].value_for_money.neutral,T=n.feedback_trends.detailed_statistics[dateV].value_for_money.dislike;x="Time Interval (Months, Weeks, Days)",k="Feedback Submissions",custLegend1="Positive",custLegend2="Neutral",custLegend3="Negative",e.chart_subheading_tooltip="Breakdown of user ratings of value for money at this restaurant over the specified period. You can toggle between absolute and percentage figures.",e.positive=n.feedback_trends.summary.customer_experience.value_for_money.like.over_period,e.neutral=n.feedback_trends.summary.customer_experience.value_for_money.neutral.over_period,e.negative=n.feedback_trends.summary.customer_experience.value_for_money.dislike.over_period,e.positiveChange=n.feedback_trends.summary.customer_experience.value_for_money.like.change_in_points,e.neutralChange=n.feedback_trends.summary.customer_experience.value_for_money.neutral.change_in_points,e.negativeChange=n.feedback_trends.summary.customer_experience.value_for_money.dislike.change_in_points,s()}else if("npsBreakdown"==t){var $=n.feedback_trends.detailed_statistics[dateV].net_promoter_score.like,_=n.feedback_trends.detailed_statistics[dateV].net_promoter_score.neutral,T=n.feedback_trends.detailed_statistics[dateV].net_promoter_score.dislike;b=1,e.selectedOption="npsBreakdown",x="Time Interval (Months, Weeks, Days)",k="Feedback Submissions (100%)",custLegend1="Promoters",custLegend2="Passives",custLegend3="Detractors",e.chart_subheading_tooltip="Breakdown of how customers answered the question âHow likely are you to recommend todayâs experience to friends & family?â \n Promoters are those who answered 9 or 10.\n Passives are those who answered 7 or 8. \n Detractors are those who answered 0 to 6.",e.positive=n.feedback_trends.summary.net_promoter_score.promoters.over_period,e.neutral=n.feedback_trends.summary.net_promoter_score.passives.over_period,e.negative=n.feedback_trends.summary.net_promoter_score.detractors.over_period,e.positiveChange=n.feedback_trends.summary.net_promoter_score.promoters.change_in_points,e.neutralChange=n.feedback_trends.summary.net_promoter_score.passives.change_in_points,e.negativeChange=n.feedback_trends.summary.net_promoter_score.detractors.change_in_points,s(),e.custExpSummary=!0,e.NPSSummary=!1,e.feedbackCount=!1,e.rewardPool=!1,e.demographic=!1,e.usergraph=!1}else if("npsOverview"==t){var $=n.feedback_trends.detailed_statistics[dateV].net_promoter_score.like-n.feedback_trends.detailed_statistics[dateV].net_promoter_score.dislike;w=1,y="Net Promoter Score",x="Time Interval (Months, Weeks, Days)",k="Net Promoter Score",e.chart_subheading_tooltip="The Net Promoter Score (NPS) of your restaurant over the specified period. The NPS on each day is calculated as the average of the last 100 feedback submissions.",e.NPS=n.feedback_trends.summary.net_promoter_score.score.over_period,e.negativeChange=n.feedback_trends.summary.net_promoter_score.score.change_in_points,e.noOfFeedback=n.feedback_trends.summary.net_promoter_score.feedbacks_count.over_period,e.positiveChange=n.feedback_trends.summary.net_promoter_score.feedbacks_count.change_in_percentage,s(),e.custExpSummary=!1,e.NPSSummary=!0,e.feedbackCount=!1,e.rewardPool=!1,e.demographic=!1,e.usergraph=!1}else if("feedbackSubmit"==t){var $=n.feedback_trends.detailed_statistics[dateV].usage.feedbacks_count;e.noOfFeedback=n.feedback_trends.summary.feedback_submissions.count.over_period,e.noOfFeedbackPerDay=n.feedback_trends.summary.feedback_submissions.average_per_day.over_period,e.positiveChange=n.feedback_trends.summary.feedback_submissions.count.change_in_percentage,s(),e.custExpSummary=!1,e.NPSSummary=!1,e.feedbackCount=!0,e.rewardPool=!1,e.demographic=!1,e.usergraph=!1,e.text="Feedback Submissions",y="Feedback Submissions",x="Time Interval (Months, Weeks, Days)",k="Feedback Submissions",e.chart_subheading_tooltip="The number of feedback submissions received each day over the specified period."}else if("redemProc"==t){var $=n.feedback_trends.detailed_statistics[dateV].usage.redemptions_count;e.noOfFeedback=n.feedback_trends.summary.redemptions_processed.count.over_period,e.noOfFeedbackPerDay=n.feedback_trends.summary.redemptions_processed.average_per_day.over_period,e.positiveChange=n.feedback_trends.summary.redemptions_processed.count.change_in_percentage,s(),e.custExpSummary=!1,e.NPSSummary=!1,e.feedbackCount=!0,e.rewardPool=!1,e.demographic=!1,e.usergraph=!1,e.text="Redemptions Processed",y="Redemptions Processed",x="Time Interval (Months, Weeks, Days)",k="Redemptions Processed",e.chart_subheading_tooltip="The number of redemptions processed each day over the specified period."}else if("discountClaim"==t){var $=n.feedback_trends.detailed_statistics[dateV].usage.discounts_claimed;e.noOfFeedback=n.feedback_trends.summary.discounts_claimed.total.over_period,e.noOfFeedbackPerDay=n.feedback_trends.summary.discounts_claimed.average_per_day.over_period,e.positiveChange=n.feedback_trends.summary.discounts_claimed.total.change_in_percentage,s(),e.custExpSummary=!1,e.NPSSummary=!1,e.feedbackCount=!0,e.rewardPool=!1,e.demographic=!1,e.usergraph=!1,e.text="Discounts Claimed",y="Discounts Claimed",x="Time Interval (Months, Weeks, Days)",k="Discounts Claimed [in Dhs.]",e.chart_subheading_tooltip="The number of discounts claimed each day over the specified period."}else if("pointsIssued"==t){var $=n.feedback_trends.detailed_statistics[dateV].usage.points_issued;e.noOfFeedback=n.feedback_trends.statistics.usage.points_issued,e.noOfFeedback=n.feedback_trends.summary.points_issued.total.over_period,e.noOfFeedbackPerDay=n.feedback_trends.summary.points_issued.average_per_day.over_period,e.positiveChange=n.feedback_trends.summary.points_issued.total.change_in_percentage,e.custExpSummary=!1,e.NPSSummary=!1,e.feedbackCount=!0,e.rewardPool=!1,e.demographic=!1,e.usergraph=!1,e.text="Points Issued",y="Points Issued",x="Time Interval (Months, Weeks, Days)",k="Points Issued",e.chart_subheading_tooltip="The number of points issued each day over the specified period."}else if("rewardsPool"==t){var $=n.feedback_trends.detailed_statistics[dateV].usage.rewards_pool;e.rewardPoolCount=n.feedback_trends.summary.average_rewards_pool_size.over_period,e.positiveChange=n.feedback_trends.summary.average_rewards_pool_size.change_in_percentage,s(),e.custExpSummary=!1,e.NPSSummary=!1,e.feedbackCount=!1,e.rewardPool=!0,e.demographic=!1,e.usergraph=!1,e.text="Average Rewards Pool",y="Rewards Pool",x="Time Interval (Months, Weeks, Days)",k="Rewards Pool [in Dhs.]",e.chart_subheading_tooltip="The size of the rewards pool on each day over the specified period."}else if("demographics"==t){var $=n.feedback_trends.detailed_statistics[dateV].customers.male,T=n.feedback_trends.detailed_statistics[dateV].customers.female;e.maleCount=n.feedback_trends.summary.demographics.male.over_period,e.negativeChange=n.feedback_trends.summary.demographics.male.change_in_points,e.femaleCount=n.feedback_trends.summary.demographics.female.over_period,e.positiveChange=n.feedback_trends.summary.demographics.female.change_in_points,s(),e.custExpSummary=!1,e.NPSSummary=!1,e.feedbackCount=!1,e.rewardPool=!1,e.demographic=!0,e.usergraph=!1,v="customers",custLegend1="Male",custLegend2="Female",C="area",x="Time Interval (Months, Weeks, Days)",k="Customer Interactions",e.chart_subheading_tooltip="The demographics of your Kanari customer base over the specified period."}else if("usersGraph"==t){var $=n.feedback_trends.detailed_statistics[dateV].customers.new_users,T=n.feedback_trends.detailed_statistics[dateV].customers.returning_users;e.newUser=n.feedback_trends.summary.users.new_users.over_period,e.newUserPerDay=n.feedback_trends.summary.users.new_users.average_per_day,e.negativeChange=n.feedback_trends.summary.users.new_users.change_in_percentage,e.retUser=n.feedback_trends.summary.users.returning_users.over_period,e.retUserPerDay=n.feedback_trends.summary.users.returning_users.average_per_day,e.positiveChange=n.feedback_trends.summary.users.returning_users.change_in_percentage,s(),e.custExpSummary=!1,e.NPSSummary=!1,e.feedbackCount=!1,e.rewardPool=!1,e.demographic=!1,e.usergraph=!0,custLegend1="New Users",custLegend2="Returning Users",C="area",x="Time Interval (Months, Weeks, Days)",k="Customer Interactions",e.chart_subheading_tooltip="The breakdown of new vs. returning users at your restaurant.New users are those using Kanari at your restaurant for the first time. Returning users are those who have used Kanari at your restaurant previously."}else if("BillSize"==t){var $=n.feedback_trends.detailed_statistics[dateV].average_bill_amount;e.rewardPoolCount=n.feedback_trends.summary.average_bill_size.over_period,e.positiveChange=n.feedback_trends.summary.average_bill_size.change_in_percentage,s(),e.custExpSummary=!1,e.NPSSummary=!1,e.feedbackCount=!1,e.rewardPool=!0,e.demographic=!1,e.usergraph=!1,e.text="Average bill size per feedback submission",v="usage",C="line",y="Avg. Bill Size",x="Time Interval (Months, Weeks, Days)",k="AED",e.chart_subheading_tooltip="The average bill size associated with each feedback submission over the specified period."}m.push(r),h.push($),p.push(_),f.push(T)}d=m.length>15?15:1,"custExp"==v||"1"==b?a():"usage"==v?l():"usage"==v||"1"==w?c():"customers"==v&&u()}).error(function(e,t){console.log("data "+e+" status "+t+" authToken"+getCookie("authToken")),401==t&&o.url("/login")})},e.listOfTrendsDate(g),e.listOutletNames=function(){var t={auth_token:getCookie("authToken"),password:"X"};r({method:"get",url:"/api/outlets",params:t}).success(function(t,i){console.log("Data in success "+t+" status "+i),e.outletNameList=t.outlets,n.outletId&&(e.outletTrend=parseInt(n.outletId))}).error(function(e,t){console.log("data in error "+e+" status "+t),401==t&&o.url("/login")})},e.listOutletNames()}else o.url("/login")}),module.controller("dashboardSnapshotCtrl",function(e,t,n,i,r,o){if(getCookie("authToken")){$(".welcome").show(),$(".hideNav").hide(),$(".showNav").show(),$(".navBarCls ul li").removeClass("active"),$("#snapshot").addClass("active"),$("#adminConsole").hide(),t.header="Dashboard Snapshot | Kanari",n.outletId?(e.addOutletId=!0,e.addOutletNo=n.outletId,e.outletOption=n.outletId):e.addOutletId=!1,getCookie("outletDropDwn")&&(e.addOutletNo=parseInt(getCookie("outletDropDwn")),e.outletOption=parseInt(getCookie("outletDropDwn"))),e.feedbackMetrics=function(){var t={auth_token:getCookie("authToken"),outlet_id:e.outletOption,password:"X"};r({method:"get",url:"/api/feedbacks/metrics",params:t}).success(function(t,n){console.log("User Role "+t+" status "+n),e.foodLike=t.feedback_insights.food_quality.like,e.foodDisLike=t.feedback_insights.food_quality.dislike,e.foodDailyChange=t.feedback_insights.food_quality.change,e.foodFlag=e.foodDailyChange>0?1:e.foodDailyChange<0?0:-1,e.speedLike=t.feedback_insights.speed_of_service.like,e.speedDisLike=t.feedback_insights.speed_of_service.dislike,e.speedDailyChange=t.feedback_insights.speed_of_service.change,e.speedFlag=e.speedDailyChange>0?1:e.speedDailyChange<0?0:-1,e.friendlinessLike=t.feedback_insights.friendliness_of_service.like,e.friendlinessDisLike=t.feedback_insights.friendliness_of_service.dislike,e.friendlinessDailyChange=t.feedback_insights.friendliness_of_service.change,e.friendlinessFlag=e.friendlinessDailyChange>0?1:e.friendlinessDailyChange<0?0:-1,e.cleanlinessLike=t.feedback_insights.cleanliness.like,e.cleanlinessDisLike=t.feedback_insights.cleanliness.dislike,e.cleanlinessDailyChange=t.feedback_insights.cleanliness.change,e.cleanlinessFlag=e.cleanlinessDailyChange>0?1:e.cleanlinessDailyChange<0?0:-1,e.ambienceLike=t.feedback_insights.ambience.like,e.ambienceDisLike=t.feedback_insights.ambience.dislike,e.ambienceDailyChange=t.feedback_insights.ambience.change,e.ambienceFlag=e.ambienceDailyChange>0?1:e.ambienceDailyChange<0?0:-1,e.valueLike=t.feedback_insights.value_for_money.like,e.valueDisLike=t.feedback_insights.value_for_money.dislike,e.valueDailyChange=t.feedback_insights.value_for_money.change,e.valueFlag=e.valueDailyChange>0?1:e.valueDailyChange<0?0:-1,e.netScore=t.feedback_insights.net_promoter_score.like-t.feedback_insights.net_promoter_score.dislike,e.netScoreDailyChange=t.feedback_insights.net_promoter_score.change,e.netScore>0?(e.netScorePlusBar=!0,e.netScoreMinusBar=!1):e.netScore<0&&(e.netScorePlusBar=!1,e.netScoreMinusBar=!0),e.netflag=e.netScoreDailyChange>0?1:0,e.feedCount=t.feedback_insights.feedbacks_count,t.feedback_insights.feedbacks_count==0&&(e.foodFlag=2,e.speedFlag=2,e.friendlinessFlag=2,e.cleanlinessFlag=2,e.ambienceFlag=2,e.valueFlag=2),e.points=t.feedback_insights.rewards_pool
}).error(function(e,t){console.log("data "+e+" status "+t+" authToken"+getCookie("authToken")),401==t&&o.url("/login")})},e.feedbackMetrics();var s;Date.prototype.yyyymmdd=function(){var e=this.getFullYear().toString(),t=(this.getMonth()+1).toString(),n=this.getDate().toString();return e+"-"+(t[1]?t:"0"+t[0])+"-"+(n[1]?n:"0"+n[0])},e.listFeedbacks=function(){s=new Date;var t=s.getHours();t>=0&&5>t&&(console.log("hi i an in"),s.setDate(s.getDate()-1));var n=new Date(s.getFullYear(),s.getMonth(),s.getDate(),5,0,0);String(String(s).split("(")[1]).split(")")[0],!e.$$phase;var i={auth_token:getCookie("authToken"),outlet_id:e.outletOption,start_time:n,password:"X"};r({method:"get",url:"/api/feedbacks",params:i}).success(function(t,n){console.log("User Role "+t+" status "+n),e.feedbackListSnapShot=t.feedbacks,e.feedBackListCount=t.feedbacks.length==0?!0:!1}).error(function(e,t){console.log("data "+e+" status "+t+" authToken"+getCookie("authToken")),401==t&&o.url("/login")})},e.listFeedbacks(),e.selectOutletSnap=function(){setCookie("outletDropDwn",e.outletOption,.29),e.listFeedbacks(),e.feedbackMetrics()},e.listOutletNames=function(){var t={auth_token:getCookie("authToken"),password:"X"};r({method:"get",url:"/api/outlets",params:t}).success(function(t,i){console.log("Data in success "+t+" status "+i),e.outletNameList=t.outlets,n.outletId&&(e.outletOption=parseInt(n.outletId))}).error(function(e,t){console.log("data in error "+e+" status "+t),401==t&&o.url("/login")})},e.listOutletNames()}else o.url("/login")}),module.controller("adminConsoleOutletCtrl",function(e,t,n,i,r,o){getCookie("authToken")?(t.header="Admin Console | Kanari",$(".welcome").show(),$(".navBarCls").show(),$("#dasboard").show(),$("#outlet").hide(),$("#account").hide(),$("#dasboardCustomer").hide(),$(".navBarCls ul li").removeClass("active"),$("#outlet").hide(),$("#account").hide(),$("#adminConsole").show(),$("#adminConsole").addClass("active"),e.success=!1,e.enabled=!1,e.disabled=!1,e.outletDetails=[],e.loadOutletDetails=function(){var t={auth_token:getCookie("authToken"),password:"X"};r({method:"get",url:"/api/outlets",params:t}).success(function(t,n){console.log("Data in success "+t+" status "+n),e.outletDetails=t.outlets}).error(function(e,t){console.log("data in error "+e+" status "+t),401==t&&o.url("/login")})},e.loadOutletDetails(),e.disableOutlet=function(t,n,i){console.log("hi "+t);var s={outlet:{disabled:t},auth_token:getCookie("authToken")};r({method:"PUT",url:"/api/outlets/"+n+"/disable",data:s}).success(function(n,r){console.log("data in success "+n+" status "+r),e.error=n.auth_token,e.outletName=i,1==t?(e.enabled=!0,e.disabled=!1):(e.enabled=!1,e.disabled=!0),e.statement=!0,e.erromsg=!1}).error(function(t,n){console.log("data in error"+t+" status "+n),401==n&&o.url("/login"),e.erromsg=!0})}):o.url("/login")}),module.controller("adminConsoleCustomerCtrl",function(e,t,n,i,r,o){getCookie("authToken")?(t.header="Admin Console | Kanari",$(".welcome").show(),$(".navBarCls").show(),$("#dasboard").show(),$("#outlet").hide(),$("#account").hide(),$("#dasboardCustomer").hide(),$(".navBarCls ul li").removeClass("active"),$("#outlet").hide(),$("#account").hide(),$("#adminConsole").show(),$("#adminConsole").addClass("active"),e.success=!1,e.custUpdate=!1,e.customerName="",e.customerDetails=[],e.loadCustomerDetails=function(){var t={auth_token:getCookie("authToken"),password:"X"};r({method:"get",url:"/api/customers",params:t}).success(function(t,n){console.log("Data in success "+t+" status "+n),e.customerDetails=t.customers,e.customerDetails.sort(function(e,t){var n=e.name.toLowerCase(),i=t.name.toLowerCase();return i>n?-1:n>i?1:0}),e.outletNo=t.customers.authorized_outlets}).error(function(e,t){console.log("data in error "+e+" status "+t),401==t&&o.url("/login")})},e.loadCustomerDetails(),e.increase_decreaseVal=function(t,n){cus=e.customerDetails[t],1==n?cus.authorized_outlets+=1:cus.authorized_outlets!=0&&(cus.authorized_outlets-=1)},e.updateCustomerOutlets=function(t){console.log("id "+t),cus=e.customerDetails[t],console.log(cus.authorized_outlets),console.log(e.customerDetails[t]);var n={customer:{authorized_outlets:cus.authorized_outlets},auth_token:getCookie("authToken")};r({method:"PUT",url:"/api/customers/"+cus.id,data:n}).success(function(t,n){console.log("data in success "+t+" status "+n),e.error=t.auth_token,e.customerName=cus.name,e.custUpdate=!0,e.statement=!0,e.erromsg=!1}).error(function(t,n){console.log("data in error"+t+" status "+n),401==n&&o.url("/login"),e.erromsg=!0})}):o.url("/login")}),$(document).ready(function(){$("#phoneNumber").blur(validateNumber)}),!function(e){e(function(){"use strict";e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(t.style[e]!==void 0)return n[e]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){i.trigger("closed").remove()}var i,r=e(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),i=e(o),t&&t.preventDefault(),i.length||(i=r.hasClass("alert")?r:r.parent()),i.trigger(t=e.Event("close")),t.isDefaultPrevented()||(i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,n):n())},e.fn.alert=function(t){return this.each(function(){var i=e(this),r=i.data("alert");r||i.data("alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})},e.fn.alert.Constructor=n,e(function(){e("body").on("click.alert.data-api",t,n.prototype.close)})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.data(),r=n.is("input")?"val":"html";e+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")},e.fn.button=function(n){return this.each(function(){var i=e(this),r=i.data("button"),o="object"==typeof n&&n;r||i.data("button",r=new t(this,o)),"toggle"==n?r.toggle():n&&r.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e(function(){e("body").on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=n,this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var n=this.$element.find(".item.active"),i=n.parent().children(),r=i.index(n),o=this;if(!(t>i.length-1||0>t))return this.sliding?this.$element.one("slid",function(){o.to(t)}):r==t?this.pause().cycle():this.slide(t>r?"next":"prev",e(i[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(t,n){var i=this.$element.find(".item.active"),r=n||i[t](),o=this.interval,s="next"==t?"left":"right",a="next"==t?"first":"last",l=this,c=e.Event("slide",{relatedTarget:r[0]});if(this.sliding=!0,o&&this.pause(),r=r.length?r:this.$element.find(".item")[a](),!r.hasClass("active")){if(e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(c),c.isDefaultPrevented())return;r.addClass(t),r[0].offsetWidth,i.addClass(s),r.addClass(s),this.$element.one(e.support.transition.end,function(){r.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)})}else{if(this.$element.trigger(c),c.isDefaultPrevented())return;i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return o&&this.cycle(),this}}},e.fn.carousel=function(n){return this.each(function(){var i=e(this),r=i.data("carousel"),o=e.extend({},e.fn.carousel.defaults,"object"==typeof n&&n),s="string"==typeof n?n:o.slide;r||i.data("carousel",r=new t(this,o)),"number"==typeof n?r.to(n):s?r[s]():o.interval&&r.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e(function(){e("body").on("click.carousel.data-api","[data-slide]",function(t){var n,i=e(this),r=e(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),o=!r.data("modal")&&e.extend({},r.data(),i.data());r.carousel(o),t.preventDefault()})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,i,r;if(!this.transitioning){if(t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in"),i&&i.length){if(r=i.data("collapse"),r&&r.transitioning)return;i.collapse("hide"),r||i.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])}},hide:function(){var t;this.transitioning||(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,i){var r=this,o=function(){n.type=="show"&&r.reset(),r.transitioning=0,r.$element.trigger(i)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},e.fn.collapse=function(n){return this.each(function(){var i=e(this),r=i.data("collapse"),o="object"==typeof n&&n;r||i.data("collapse",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e(function(){e("body").on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n,i=e(this),r=i.attr("data-target")||t.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=e(r).data("collapse")?"toggle":i.data();i[e(r).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(r).collapse(o)})})}(window.jQuery),!function(e){"use strict";function t(){n(e(i)).removeClass("open")}function n(t){var n,i=t.attr("data-target");return i||(i=t.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),n=e(i),n.length||(n=t.parent()),n}var i="[data-toggle=dropdown]",r=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};r.prototype={constructor:r,toggle:function(){var i,r,o=e(this);if(!o.is(".disabled, :disabled"))return i=n(o),r=i.hasClass("open"),t(),r||(i.toggleClass("open"),o.focus()),!1},keydown:function(t){var i,r,o,s,a;if(/(38|40|27)/.test(t.keyCode)&&(i=e(this),t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled"))){if(o=n(i),s=o.hasClass("open"),!s||s&&t.keyCode==27)return i.click();r=e("[role=menu] li:not(.divider) a",o),r.length&&(a=r.index(r.filter(":focus")),t.keyCode==38&&a>0&&a--,t.keyCode==40&&a<r.length-1&&a++,~a||(a=0),r.eq(a).focus())}}},e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("dropdown");i||n.data("dropdown",i=new r(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e(function(){e("html").on("click.dropdown.data-api touchstart.dropdown.data-api",t),e("body").on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",i,r.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",i+", [role=menu]",r.prototype.keydown)})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(e("body").addClass("modal-open"),this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1).focus(),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.trigger("shown")}):t.$element.trigger("shown")}))},hide:function(t){t&&t.preventDefault(),t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,e("body").removeClass("modal-open"),this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}},e.fn.modal=function(n){return this.each(function(){var i=e(this),r=i.data("modal"),o=e.extend({},e.fn.modal.defaults,i.data(),"object"==typeof n&&n);r||i.data("modal",r=new t(this,o)),"string"==typeof n?r[n]():o.show&&r.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e(function(){e("body").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),i=n.attr("href"),r=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},r.data(),n.data());t.preventDefault(),r.modal(o).one("hide",function(){n.focus()})})})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,i){var r,o;this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):this.options.trigger!="manual"&&(r=this.options.trigger=="hover"?"mouseenter":"focus",o=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show),void 0):n.show()},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide),void 0):n.hide()},show:function(){var e,t,n,i,r,o,s;if(this.hasContent()&&this.enabled){switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),o=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(o),e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body),n=this.getPosition(t),i=e[0].offsetWidth,r=e[0].offsetHeight,t?o.split(" ")[1]:o){case"bottom":s={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":s={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":s={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":s={top:n.top+n.height/2-r/2,left:n.left+n.width}}e.css(s).addClass(o).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){n.off(e.support.transition.end).remove()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.remove()})}var n=this.tip();return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():n.remove(),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},e.fn.tooltip=function(n){return this.each(function(){var i=e(this),r=i.data("tooltip"),o="object"==typeof n&&n;r||i.data("tooltip",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!0}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content > *")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content)},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),e.fn.popover=function(n){return this.each(function(){var i=e(this),r=i.data("popover"),o="object"==typeof n&&n;r||i.data("popover",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(e){"use strict";function t(t,n){var i,r=e.proxy(this.process,this),o=e(t).is("body")?e(window):e(t);this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=o.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(i=e(t).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t,n=this;this.offsets=e([]),this.targets=e([]),t=this.$body.find(this.selector).map(function(){var t=e(this),n=t.data("target")||t.attr("href"),i=/^#\w/.test(n)&&e(n);return i&&i.length&&[[i.position().top,n]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(t>=i)return s!=(e=o.last()[0])&&this.activate(e);for(e=r.length;e--;)s!=o[e]&&t>=r[e]&&(!r[e+1]||t<=r[e+1])&&this.activate(o[e])},activate:function(t){var n,i;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}},e.fn.scrollspy=function(n){return this.each(function(){var i=e(this),r=i.data("scrollspy"),o="object"==typeof n&&n;r||i.data("scrollspy",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,i,r=this.element,o=r.closest("ul:not(.dropdown-menu)"),s=r.attr("data-target");s||(s=r.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),r.parent("li").hasClass("active")||(t=o.find(".active a").last()[0],i=e.Event("show",{relatedTarget:t}),r.trigger(i),i.isDefaultPrevented()||(n=e(s),this.activate(r.parent("li"),o),this.activate(n,n.parent(),function(){r.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,n,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),s=i&&e.support.transition&&o.hasClass("fade");s?o.one(e.support.transition.end,r):r(),o.removeClass("in")}},e.fn.tab=function(n){return this.each(function(){var i=e(this),r=i.data("tab");r||i.data("tab",r=new t(this)),"string"==typeof n&&r[n]()})},e.fn.tab.Constructor=t,e(function(){e("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=e(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:t.top+t.height,left:t.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var t;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,t?this.process(t):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],i=[],r=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?i.push(t):r.push(t):n.push(t);return n.concat(i,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,i){return t=e(n.options.item).attr("data-value",i),t.find("a").html(n.highlighter(i)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(){var t=this.$menu.find(".active").removeClass("active"),n=t.next();n.length||(n=e(this.$menu.find("li")[0])),n.addClass("active")},prev:function(){var e=this.$menu.find(".active").removeClass("active"),t=e.prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),(e.browser.chrome||e.browser.webkit||e.browser.msie)&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=!~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},blur:function(){var e=this;setTimeout(function(){e.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}},e.fn.typeahead=function(n){return this.each(function(){var i=e(this),r=i.data("typeahead"),o="object"==typeof n&&n;r||i.data("typeahead",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e(function(){e("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);n.data("typeahead")||(t.preventDefault(),n.typeahead(n.data()))})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,n=e(document).height(),i=this.$window.scrollTop(),r=this.$element.offset(),o=this.options.offset,s=o.bottom,a=o.top,l="affix affix-top affix-bottom";"object"!=typeof o&&(s=a=o),"function"==typeof a&&(a=o.top()),"function"==typeof s&&(s=o.bottom()),t=this.unpin!=null&&i+this.unpin<=r.top?!1:null!=s&&r.top+this.$element.height()>=n-s?"bottom":null!=a&&a>=i?"top":!1,this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?r.top-i:null,this.$element.removeClass(l).addClass("affix"+(t?"-"+t:"")))}},e.fn.affix=function(n){return this.each(function(){var i=e(this),r=i.data("affix"),o="object"==typeof n&&n;r||i.data("affix",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),function(e,t,n){"use strict";t.module("ngResource",["ng"]).factory("$resource",["$http","$parse",function(e,i){function r(e){return o(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function o(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function s(e,t){this.template=e+="#",this.defaults=t||{};var n=this.urlParams={};u(e.split(/\W/),function(t){t&&new RegExp("(^|[^\\\\]):"+t+"\\W").test(e)&&(n[t]=!0)}),this.template=e.replace(/\\:/g,":")}function a(i,r,o){function m(e,t){var n={};return t=d({},r,t),u(t,function(t,i){n[i]=t.charAt&&t.charAt(0)=="@"?f(e,t.substr(1)):t}),n}function g(e){h(e||{},this)}var v=new s(i);return o=d({},l,o),u(o,function(i,r){i.method=t.uppercase(i.method);var o=i.method=="POST"||i.method=="PUT"||i.method=="PATCH";g[r]=function(t,n,r,s){var a,l={},f=c,y=null;switch(arguments.length){case 4:y=s,f=r;case 3:case 2:if(!p(n)){l=t,a=n,f=r;break}if(p(t)){f=t,y=n;break}f=n,y=r;case 1:p(t)?f=t:o?a=t:l=t;break;case 0:break;default:throw"Expected between 0-4 arguments [params, data, success, error], got "+arguments.length+" arguments."}var b=this instanceof g?this:i.isArray?[]:new g(a);return e({method:i.method,url:v.url(d({},m(a,i.params||{}),l)),data:a}).then(function(e){var t=e.data;t&&(i.isArray?(b.length=0,u(t,function(e){b.push(new g(e))})):h(t,b)),(f||c)(b,e.headers)},y),b},g.prototype["$"+r]=function(e,t,i){var s,a=m(this),l=c;switch(arguments.length){case 3:a=e,l=t,s=i;break;case 2:case 1:p(e)?(l=e,s=t):(a=e,l=t||c);case 0:break;default:throw"Expected between 1-3 arguments [params, success, error], got "+arguments.length+" arguments."}var u=o?this:n;g[r].call(this,a,u,l,s)}}),g.bind=function(e){return a(i,d({},r,e),o)},g}var l={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},c=t.noop,u=t.forEach,d=t.extend,h=t.copy,p=t.isFunction,f=function(e,t){return i(t)(e)};return s.prototype={url:function(e){var n,i,s=this,a=this.template;e=e||{},u(this.urlParams,function(o,l){n=e.hasOwnProperty(l)?e[l]:s.defaults[l],t.isDefined(n)&&null!==n?(i=r(n),a=a.replace(new RegExp(":"+l+"(\\W)","g"),i+"$1")):a=a.replace(new RegExp("(/?):"+l+"(\\W)","g"),function(e,t,n){return n.charAt(0)=="/"?n:t+n})}),a=a.replace(/\/?#$/,"");var l=[];return u(e,function(e,t){s.urlParams[t]||l.push(o(t)+"="+o(e))}),l.sort(),a=a.replace(/\/*$/,""),a+(l.length?"?"+l.join("&"):"")}},a}])}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdownToggle","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/popup.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset-titles.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function i(e){for(var t in e)if(o.style[t]!==void 0)return e[t]
}var r=function(i,o,s){s=s||{};var a=e.defer(),l=r[s.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){i.unbind(l,c),a.resolve(i)})};return l&&i.bind(l,c),t(function(){angular.isString(o)?i.addClass(o):angular.isFunction(o)?o(i):angular.isObject(o)&&i.css(o),l||a.resolve(i)}),a.promise.cancel=function(){l&&i.unbind(l,c),a.reject("Transition cancelled")},a.promise},o=document.createElement("trans"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},a={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return r.transitionEndEventName=i(s),r.animationEndEventName=i(a),r}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){var t=function(e,t,n){t.removeClass("collapse"),t.css({height:n}),t[0].offsetWidth,t.addClass("collapse")};return{link:function(n,i,r){var o,s=!0;n.$watch(function(){return i[0].scrollHeight},function(){i[0].scrollHeight!==0&&(o||(s?t(n,i,i[0].scrollHeight+"px"):t(n,i,"auto")))}),n.$watch(r.collapse,function(e){e?u():c()});var a,l=function(t){return a&&a.cancel(),a=e(i,t),a.then(function(){a=void 0},function(){a=void 0}),a},c=function(){s?(s=!1,o||t(n,i,"auto")):l({height:i[0].scrollHeight+"px"}).then(function(){o||t(n,i,"auto")}),o=!1},u=function(){o=!0,s?(s=!1,t(n,i,0)):(t(n,i,i[0].scrollHeight+"px"),l({height:"0"}))}}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){var r=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;r&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(this.groups.indexOf(e),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse","$transition","$timeout",function(e){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@"},controller:["$scope",function(){this.setHeading=function(e){this.heading=e}}],link:function(t,n,i,r){var o,s;r.addGroup(t),t.isOpen=!1,i.isOpen&&(o=e(i.isOpen),s=o.assign,t.$watch(function(){return o(t.$parent)},function(e){t.isOpen=e}),t.isOpen=o?o(t.$parent):!1),t.$watch("isOpen",function(e){e&&r.closeOthers(t),s&&s(t.$parent,e)})}}}]).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(e,t,n){return function(e,t,i,r){r.setHeading(n(e,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,i){e.$watch(function(){return i[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).directive("alert",function(){return{restrict:"EA",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"},link:function(e,t,n){e.closeable="close"in n}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).directive("btnRadio",["buttonConfig",function(e){var t=e.activeClass||"active",n=e.toggleEvent||"click";return{require:"ngModel",link:function(e,i,r,o){o.$render=function(){i.toggleClass(t,angular.equals(o.$modelValue,e.$eval(r.btnRadio)))},i.bind(n,function(){i.hasClass(t)||e.$apply(function(){o.$setViewValue(e.$eval(r.btnRadio)),o.$render()})})}}}]).directive("btnCheckbox",["buttonConfig",function(e){var t=e.activeClass||"active",n=e.toggleEvent||"click";return{require:"ngModel",link:function(e,i,r,o){function s(){var t=e.$eval(r.btnCheckboxTrue);return angular.isDefined(t)?t:!0}function a(){var t=e.$eval(r.btnCheckboxFalse);return angular.isDefined(t)?t:!1}o.$render=function(){i.toggleClass(t,angular.equals(o.$modelValue,s()))},i.bind(n,function(){e.$apply(function(){o.$setViewValue(i.hasClass(t)?a():s()),o.$render()})})}}}]),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition","$q",function(e,t,n){function i(){function n(){o?(e.next(),i()):e.pause()}r&&t.cancel(r);var s=+e.interval;!isNaN(s)&&s>=0&&(r=t(n,s))}var r,o,s=this,a=s.slides=[],l=-1;s.currentSlide=null,s.select=function(r,o){function c(){s.currentSlide&&angular.isString(o)&&!e.noTransition&&r.$element?(r.$element.addClass(o),r.$element[0].offsetWidth,angular.forEach(a,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(r,{direction:o,active:!0,entering:!0}),angular.extend(s.currentSlide||{},{direction:o,leaving:!0}),e.$currentTransition=n(r.$element,{}),function(t,n){e.$currentTransition.then(function(){u(t,n)},function(){u(t,n)})}(r,s.currentSlide)):u(r,s.currentSlide),s.currentSlide=r,l=d,i()}function u(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var d=a.indexOf(r);void 0===o&&(o=d>l?"next":"prev"),r&&r!==s.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(c)):c())},s.indexOfSlide=function(e){return a.indexOf(e)},e.next=function(){var t=(l+1)%a.length;return e.$currentTransition?void 0:s.select(a[t],"next")},e.prev=function(){var t=0>l-1?a.length-1:l-1;return e.$currentTransition?void 0:s.select(a[t],"prev")},e.select=function(e){s.select(e)},e.isActive=function(e){return s.currentSlide===e},e.slides=function(){return a},e.$watch("interval",i),e.play=function(){o||(o=!0,i())},e.pause=function(){e.noPause||(o=!1,r&&t.cancel(r))},s.addSlide=function(t,n){t.$element=n,a.push(t),a.length===1||t.active?(s.select(a[a.length-1]),a.length==1&&e.play()):t.active=!1},s.removeSlide=function(e){var t=a.indexOf(e);a.splice(t,1),a.length>0&&e.active?t>=a.length?s.select(a[t-1]):s.select(a[t]):l>t&&l--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",["$parse",function(e){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{},link:function(t,n,i,r){if(i.active){var o=e(i.active),s=o.assign,a=t.active=o(t.$parent);t.$watch(function(){var e=o(t.$parent);return e!==t.active&&(e!==a?a=t.active=e:s(t.$parent,e=a=t.active)),e})}r.addSlide(t,n),t.$on("$destroy",function(){r.removeSlide(t)}),t.$watch("active",function(e){e&&r.select(t)})}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return(n(e,"position")||"static")==="static"}var r=function(t){for(var n=e[0],r=t.offsetParent||n;r&&r!==n&&i(r);)r=r.offsetParent;return r||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},o=r(t[0]);return o!=e[0]&&(i=this.offset(angular.element(o)),i.top+=o.clientTop-o.scrollTop,i.left+=o.clientLeft-o.scrollLeft),{width:t.prop("offsetWidth"),height:t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:n.prop("offsetWidth"),height:n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].body.scrollTop||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].body.scrollLeft||e[0].documentElement.scrollLeft)}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.position"]).constant("datepickerConfig",{dayFormat:"dd",monthFormat:"MMMM",yearFormat:"yyyy",dayHeaderFormat:"EEE",dayTitleFormat:"MMMM yyyy",monthTitleFormat:"yyyy",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","dateFilter","datepickerConfig",function(e,t,n,i){function r(t,n){return angular.isDefined(t)?e.$parent.$eval(t):n}function o(e,t){return new Date(e,t,0).getDate()}function s(e,t){for(var n=new Array(t),i=e,r=0;t>r;)n[r++]=new Date(i),i.setDate(i.getDate()+1);return n}function a(e,t,i,r){return{date:e,label:n(e,t),selected:!!i,secondary:!!r}}var l={day:r(t.dayFormat,i.dayFormat),month:r(t.monthFormat,i.monthFormat),year:r(t.yearFormat,i.yearFormat),dayHeader:r(t.dayHeaderFormat,i.dayHeaderFormat),dayTitle:r(t.dayTitleFormat,i.dayTitleFormat),monthTitle:r(t.monthTitleFormat,i.monthTitleFormat)},c=r(t.startingDay,i.startingDay),u=r(t.yearRange,i.yearRange);this.minDate=i.minDate?new Date(i.minDate):null,this.maxDate=i.maxDate?new Date(i.maxDate):null,this.modes=[{name:"day",getVisibleDates:function(e,t){var i=e.getFullYear(),r=e.getMonth(),u=new Date(i,r,1),d=c-u.getDay(),h=d>0?7-d:-d,p=new Date(u),f=0;h>0&&(p.setDate(-h+1),f+=h),f+=o(i,r+1),f+=(7-f%7)%7;for(var m=s(p,f),g=new Array(7),v=0;f>v;v++){var y=new Date(m[v]);m[v]=a(y,l.day,t&&t.getDate()===y.getDate()&&t.getMonth()===y.getMonth()&&t.getFullYear()===y.getFullYear(),y.getMonth()!==r)}for(var b=0;7>b;b++)g[b]=n(m[b].date,l.dayHeader);return{objects:m,title:n(e,l.dayTitle),labels:g}},compare:function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},split:7,step:{months:1}},{name:"month",getVisibleDates:function(e,t){for(var i=new Array(12),r=e.getFullYear(),o=0;12>o;o++){var s=new Date(r,o,1);i[o]=a(s,l.month,t&&t.getMonth()===o&&t.getFullYear()===r)}return{objects:i,title:n(e,l.monthTitle)}},compare:function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},split:3,step:{years:1}},{name:"year",getVisibleDates:function(e,t){for(var n=new Array(u),i=e.getFullYear(),r=parseInt((i-1)/u,10)*u+1,o=0;u>o;o++){var s=new Date(r+o,0,1);n[o]=a(s,l.year,t&&t.getFullYear()===s.getFullYear())}return{objects:n,title:[n[0].label,n[u-1].label].join(" - ")}},compare:function(e,t){return e.getFullYear()-t.getFullYear()},split:5,step:{years:u}}],this.isDisabled=function(t,n){var i=this.modes[n||0];return this.minDate&&i.compare(t,this.minDate)<0||this.maxDate&&i.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:i.name})}}]).directive("datepicker",["dateFilter","$parse","datepickerConfig","$log",function(e,t,n,i){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,r,o,s){function a(){e.showWeekNumbers=0===f&&g}function l(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n}function c(t){var n=null,r=!0;p.$modelValue&&(n=new Date(p.$modelValue),isNaN(n)?(r=!1,i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):t&&(m=n)),p.$setValidity("date",r);var o=h.modes[f],s=o.getVisibleDates(m,n);angular.forEach(s.objects,function(e){e.disabled=h.isDisabled(e.date,f)}),p.$setValidity("date-disabled",!n||!h.isDisabled(n)),e.rows=l(s.objects,o.split),e.labels=s.labels||[],e.title=s.title}function u(e){f=e,a(),c()}function d(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var h=s[0],p=s[1];if(p){var f=0,m=new Date,g=n.showWeeks;o.showWeeks?e.$parent.$watch(t(o.showWeeks),function(e){g=!!e,a()}):a(),o.min&&e.$parent.$watch(t(o.min),function(e){h.minDate=e?new Date(e):null,c()}),o.max&&e.$parent.$watch(t(o.max),function(e){h.maxDate=e?new Date(e):null,c()}),p.$render=function(){c(!0)},e.select=function(e){if(0===f){var t=new Date(p.$modelValue);t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),p.$setViewValue(t),c(!0)}else m=e,u(f-1)},e.move=function(e){var t=h.modes[f].step;m.setMonth(m.getMonth()+e*(t.months||0)),m.setFullYear(m.getFullYear()+e*(t.years||0)),c()},e.toggleMode=function(){u((f+1)%h.modes.length)},e.getWeekNumber=function(t){return 0===f&&e.showWeekNumbers&&t.length===7?d(t[0].date):null}}}}}]).constant("datepickerPopupConfig",{dateFormat:"yyyy-MM-dd",closeOnDateSelection:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","datepickerPopupConfig",function(e,t,n,i,r,o){return{restrict:"EA",require:"ngModel",link:function(s,a,l,c){function u(e){b?b(s,!!e):v.isOpen=!!e}function d(e){if(e){if(angular.isDate(e))return c.$setValidity("date",!0),e;if(angular.isString(e)){var t=new Date(e);return isNaN(t)?(c.$setValidity("date",!1),void 0):(c.$setValidity("date",!0),t)}return c.$setValidity("date",!1),void 0}return c.$setValidity("date",!0),null}function h(){v.date=c.$modelValue,f()}function p(e,n,i){e&&(s.$watch(t(e),function(e){v[n]=e}),$.attr(i||n,n))}function f(){v.position=i.position(a),v.position.top=v.position.top+a.prop("offsetHeight")}var m=angular.isDefined(l.closeOnDateSelection)?v.$eval(l.closeOnDateSelection):o.closeOnDateSelection,g=l.datepickerPopup||o.dateFormat,v=s.$new();s.$on("$destroy",function(){v.$destroy()});var y,b;l.isOpen&&(y=t(l.isOpen),b=y.assign,s.$watch(y,function(e){v.isOpen=!!e})),v.isOpen=y?y(s):!1;var w=function(e){v.isOpen&&e.target!==a[0]&&v.$apply(function(){u(!1)})},x=function(){v.$apply(function(){u(!0)})},k=angular.element("<datepicker-popup-wrap><datepicker></datepicker></datepicker-popup-wrap>");k.attr({"ng-model":"date","ng-change":"dateSelection()"});var $=k.find("datepicker");l.datepickerOptions&&$.attr(angular.extend({},s.$eval(l.datepickerOptions))),c.$parsers.unshift(d),v.dateSelection=function(){c.$setViewValue(v.date),c.$render(),m&&u(!1)},a.bind("input change keyup",function(){v.$apply(function(){h()})}),c.$render=function(){var e=c.$viewValue?r(c.$viewValue,g):"";a.val(e),h()},p(l.min,"min"),p(l.max,"max"),l.showWeeks?p(l.showWeeks,"showWeeks","show-weeks"):(v.showWeeks=!0,$.attr("show-weeks","showWeeks")),l.dateDisabled&&$.attr("date-disabled",l.dateDisabled);var C=!1,_=!1;v.$watch("isOpen",function(e){e?(f(),n.bind("click",w),_&&a.unbind("focus",x),a[0].focus(),C=!0):(C&&n.unbind("click",w),a.bind("focus",x),_=!0),b&&b(s,e)});var T=t(l.ngModel).assign;v.today=function(){T(s,new Date)},v.clear=function(){T(s,null)},a.after(e(k)(v))}}}]).directive("datepickerPopupWrap",[function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}]),angular.module("ui.bootstrap.dropdownToggle",[]).directive("dropdownToggle",["$document","$location",function(e){var t=null,n=angular.noop;return{restrict:"CA",link:function(i,r){i.$watch("$location.path",function(){n()}),r.parent().bind("click",function(){n()}),r.bind("click",function(i){var o=r===t;i.preventDefault(),i.stopPropagation(),t&&n(),o||(r.parent().addClass("open"),t=r,n=function(i){i&&(i.preventDefault(),i.stopPropagation()),e.unbind("click",n),r.parent().removeClass("open"),n=angular.noop,t=null},e.bind("click",n))})}}}]),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t==e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$modalStack","$timeout",function(e,t){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(n){t(function(){n.animate=!0}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&n.value.backdrop!="static"&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).directive("modalWindow",["$timeout",function(e){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(t,n,i){t.windowClass=i.windowClass||"",e(function(){t.animate=!0})}}}]).factory("$modalStack",["$document","$compile","$rootScope","$$stackedMap",function(e,t,n,i){function r(){for(var e=-1,t=u.keys(),n=0;n<t.length;n++)u.get(t[n]).value.backdrop&&(e=n);return e}function o(e){var t=u.get(e).value;u.remove(e),t.modalDomEl.remove(),r()==-1&&(a.remove(),a=void 0),t.modalScope.$destroy()}var s,a,l=n.$new(!0),c=e.find("body").eq(0),u=i.createNew(),d={};return n.$watch(r,function(e){l.index=e}),e.bind("keydown",function(e){var t;e.which===27&&(t=u.top(),t&&t.value.keyboard&&n.$apply(function(){d.dismiss(t.key)}))}),d.open=function(e,n){u.add(e,{deferred:n.deferred,modalScope:n.scope,backdrop:n.backdrop,keyboard:n.keyboard});var i=angular.element("<div modal-window></div>");i.attr("window-class",n.windowClass),i.attr("index",u.length()-1),i.html(n.content);var o=t(i)(n.scope);u.top().value.modalDomEl=o,c.append(o),r()>=0&&!a&&(s=angular.element("<div modal-backdrop></div>"),a=t(s)(l),c.append(a))},d.close=function(e,t){var n=u.get(e);n&&(n.value.deferred.resolve(t),o(e))},d.dismiss=function(e,t){var n=u.get(e).value;n&&(n.deferred.reject(t),o(e))},d.getTop=function(){return u.top()},d}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,i,r,o,s,a){function l(e){return e.template?i.when(e.template):r.get(e.templateUrl,{cache:o}).then(function(e){return e.data})}function c(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(i.when(t.invoke(e)))}),n}var u={};return u.open=function(t){var r=i.defer(),o=i.defer(),u={result:r.promise,opened:o.promise,close:function(e){a.close(u,e)},dismiss:function(e){a.dismiss(u,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var d=i.all([l(t)].concat(c(t.resolve)));return d.then(function(e){var i=(t.scope||n).$new();i.$close=u.close,i.$dismiss=u.dismiss;var o,l={},c=1;t.controller&&(l.$scope=i,l.$modalInstance=u,angular.forEach(t.resolve,function(t,n){l[n]=e[c++]}),o=s(t.controller,l)),a.open(u,{scope:i,deferred:r,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,windowClass:t.windowClass})},function(e){r.reject(e)}),d.then(function(){o.resolve(!0)},function(){o.reject(!1)}),u},u}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse","$interpolate",function(e,t,n,i){var r=this;this.init=function(i){t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){r.itemsPerPage=parseInt(t,10),e.totalPages=r.calculateTotalPages()}):this.itemsPerPage=i},this.noPrevious=function(){return this.page===1},this.noNext=function(){return this.page===e.totalPages},this.isActive=function(e){return this.page===e},this.calculateTotalPages=function(){return this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage)},this.getAttributeValue=function(t,n,r){return angular.isDefined(t)?r?i(t)(e.$parent):e.$parent.$eval(t):n},this.render=function(){this.page=parseInt(e.page,10)||1,e.pages=this.getPages(this.page,e.totalPages)},e.selectPage=function(t){!r.isActive(t)&&t>0&&t<=e.totalPages&&(e.page=t,e.onSelectPage({page:t}))},e.$watch("totalItems",function(){e.totalPages=r.calculateTotalPages()}),e.$watch("totalPages",function(n){t.numPages&&(e.numPages=n),r.page>n?e.selectPage(n):r.render()}),e.$watch("page",function(){r.render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &",numPages:"="},controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,i,r,o){function s(e,t,n,i){return{number:e,text:t,active:n,disabled:i}}var a,l=o.getAttributeValue(r.boundaryLinks,t.boundaryLinks),c=o.getAttributeValue(r.directionLinks,t.directionLinks),u=o.getAttributeValue(r.firstText,t.firstText,!0),d=o.getAttributeValue(r.previousText,t.previousText,!0),h=o.getAttributeValue(r.nextText,t.nextText,!0),p=o.getAttributeValue(r.lastText,t.lastText,!0),f=o.getAttributeValue(r.rotate,t.rotate);o.init(t.itemsPerPage),r.maxSize&&n.$parent.$watch(e(r.maxSize),function(e){a=parseInt(e,10),o.render()}),o.getPages=function(e,t){var n=[],i=1,r=t,m=angular.isDefined(a)&&t>a;m&&(f?(i=Math.max(e-Math.floor(a/2),1),r=i+a-1,r>t&&(r=t,i=r-a+1)):(i=(Math.ceil(e/a)-1)*a+1,r=Math.min(i+a-1,t)));for(var g=i;r>=g;g++){var v=s(g,g,o.isActive(g),!1);n.push(v)}if(m&&!f){if(i>1){var y=s(i-1,"...",!1,!1);n.unshift(y)}if(t>r){var b=s(r+1,"...",!1,!1);n.push(b)}}if(c){var w=s(e-1,d,!1,o.noPrevious());n.unshift(w);var x=s(e+1,h,!1,o.noNext());n.push(x)}if(l){var k=s(1,u,!1,o.noPrevious());n.unshift(k);var $=s(t,p,!1,o.noNext());n.push($)}return n}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"ÃÂ« Previous",nextText:"Next ÃÂ»",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &",numPages:"="},controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,i,r){function o(e,t,n,i,r){return{number:e,text:t,disabled:n,previous:l&&i,next:l&&r}}var s=r.getAttributeValue(i.previousText,e.previousText,!0),a=r.getAttributeValue(i.nextText,e.nextText,!0),l=r.getAttributeValue(i.align,e.align);r.init(e.itemsPerPage),r.getPages=function(e){return[o(e-1,s,r.noPrevious(),!0,!1),o(e+1,a,r.noNext(),!1,!0)]}}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(r,o,s,a,l,c,u){return function(r,d,h){function p(e){var t=e||f.trigger||h,i=n[t]||t;return{show:t,hide:i}}var f=angular.extend({},t,i),m=e(r),g=u.startSymbol(),v=u.endSymbol(),y="<"+m+"-popup "+'title="'+g+"tt_title"+v+'" '+'content="'+g+"tt_content"+v+'" '+'placement="'+g+"tt_placement"+v+'" '+'animation="tt_animation()" '+'is-open="tt_isOpen"'+">"+"</"+m+"-popup>";return{restrict:"EA",scope:!0,link:function(e,t,n){function i(){e.tt_isOpen?h():u()}function u(){e.tt_popupDelay?b=s(m,e.tt_popupDelay):e.$apply(m)}function h(){e.$apply(function(){g()})}function m(){var n,i,r,o;if(e.tt_content){switch(v&&s.cancel(v),x.css({top:0,left:0,display:"block"}),k?(w=w||l.find("body"),w.append(x)):t.after(x),n=k?c.offset(t):c.position(t),i=x.prop("offsetWidth"),r=x.prop("offsetHeight"),e.tt_placement){case"right":o={top:n.top+n.height/2-r/2,left:n.left+n.width};break;case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"left":o={top:n.top+n.height/2-r/2,left:n.left-i};break;default:o={top:n.top-r,left:n.left+n.width/2-i/2}}o.top+="px",o.left+="px",x.css(o),e.tt_isOpen=!0}}function g(){e.tt_isOpen=!1,s.cancel(b),angular.isDefined(e.tt_animation)&&e.tt_animation()?v=s(function(){x.remove()},500):x.remove()}var v,b,w,x=o(y)(e),k=angular.isDefined(f.appendToBody)?f.appendToBody:!1,$=p(void 0),C=!1;e.tt_isOpen=!1,n.$observe(r,function(t){e.tt_content=t}),n.$observe(d+"Title",function(t){e.tt_title=t}),n.$observe(d+"Placement",function(t){e.tt_placement=angular.isDefined(t)?t:f.placement}),n.$observe(d+"Animation",function(t){e.tt_animation=angular.isDefined(t)?a(t):function(){return f.animation}}),n.$observe(d+"PopupDelay",function(t){var n=parseInt(t,10);e.tt_popupDelay=isNaN(n)?f.popupDelay:n}),n.$observe(d+"Trigger",function(e){C&&(t.unbind($.show,u),t.unbind($.hide,h)),$=p(e),$.show===$.hide?t.bind($.show,i):(t.bind($.show,u),t.bind($.hide,h)),C=!0}),n.$observe(d+"AppendToBody",function(t){k=angular.isDefined(t)?a(t)(e):k}),k&&e.$on("$locationChangeSuccess",function(){e.tt_isOpen&&g()}),e.$on("$destroy",function(){e.tt_isOpen?g():x.remove()})}}}}]}).directive("tooltipPopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$compile","$timeout","$parse","$window","$tooltip",function(e,t,n,i,r){return r("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",["ui.bootstrap.transition"]).constant("progressConfig",{animate:!0,autoType:!1,stackedTypes:["success","info","warning","danger"]}).controller("ProgressBarController",["$scope","$attrs","progressConfig",function(e,t,n){function i(e){return s[e]}var r=angular.isDefined(t.animate)?e.$eval(t.animate):n.animate,o=angular.isDefined(t.autoType)?e.$eval(t.autoType):n.autoType,s=angular.isDefined(t.stackedTypes)?e.$eval("["+t.stackedTypes+"]"):n.stackedTypes;this.makeBar=function(e,t,n){var s=angular.isObject(e)?e.value:e||0,a=angular.isObject(t)?t.value:t||0,l=angular.isObject(e)&&angular.isDefined(e.type)?e.type:o?i(n||0):null;return{from:a,to:s,type:l,animate:r}},this.addBar=function(t){e.bars.push(t),e.totalPercent+=t.to},this.clearBars=function(){e.bars=[],e.totalPercent=0},this.clearBars()}]).directive("progress",function(){return{restrict:"EA",replace:!0,controller:"ProgressBarController",scope:{value:"=percent",onFull:"&",onEmpty:"&"},templateUrl:"template/progressbar/progress.html",link:function(e,t,n,i){e.$watch("value",function(e,t){if(i.clearBars(),angular.isArray(e))for(var n=0,r=e.length;r>n;n++)i.addBar(i.makeBar(e[n],t[n],n));else i.addBar(i.makeBar(e,t))},!0),e.$watch("totalPercent",function(t){t>=100?e.onFull():0>=t&&e.onEmpty()},!0)}}}).directive("progressbar",["$transition",function(e){return{restrict:"EA",replace:!0,scope:{width:"=",old:"=",type:"=",animate:"="},templateUrl:"template/progressbar/bar.html",link:function(t,n){t.$watch("width",function(i){t.animate?(n.css("width",t.old+"%"),e(n,{width:i+"%"})):n.css("width",i+"%")})}}}]),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","$parse","ratingConfig",function(e,t,n,i){this.maxRange=angular.isDefined(t.max)?e.$parent.$eval(t.max):i.max,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):i.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):i.stateOff,this.createDefaultRange=function(e){for(var t={stateOn:this.stateOn,stateOff:this.stateOff},n=new Array(e),i=0;e>i;i++)n[i]=t;return n},this.normalizeRange=function(e){for(var t=0,n=e.length;n>t;t++)e[t].stateOn=e[t].stateOn||this.stateOn,e[t].stateOff=e[t].stateOff||this.stateOff;return e},e.range=angular.isDefined(t.ratingStates)?this.normalizeRange(angular.copy(e.$parent.$eval(t.ratingStates))):this.createDefaultRange(this.maxRange),e.rate=function(t){e.readonly||e.value===t||(e.value=t)},e.enter=function(t){e.readonly||(e.val=t),e.onHover({value:t})},e.reset=function(){e.val=angular.copy(e.value),e.onLeave()},e.$watch("value",function(t){e.val=t}),e.readonly=!1,t.readonly&&e.$parent.$watch(n(t.readonly),function(t){e.readonly=!!t})}]).directive("rating",function(){return{restrict:"EA",scope:{value:"=",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0}}),angular.module("ui.bootstrap.tabs",[]).directive("tabs",function(){return function(){throw new Error("The `tabs` directive is deprecated, please migrate to `tabset`. Instructions can be found at http://github.com/angular-ui/bootstrap/tree/master/CHANGELOG.md")}}).controller("TabsetController",["$scope","$element",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(e){e.active=!1}),e.active=!0},t.addTab=function(e){n.push(e),(n.length===1||e.active)&&t.select(e)},t.removeTab=function(e){var i=n.indexOf(e);if(e.active&&n.length>1){var r=i==n.length-1?i-1:i+1;t.select(n[r])}n.splice(i,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,require:"^tabset",scope:{},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",compile:function(e,t,n){return function(e,t,i,r){e.vertical=angular.isDefined(i.vertical)?e.$parent.$eval(i.vertical):!1,e.type=angular.isDefined(i.type)?e.$parent.$eval(i.type):"tabs",e.direction=angular.isDefined(i.direction)?e.$parent.$eval(i.direction):"top",e.tabsAbove=e.direction!="below",r.$scope=e,r.$transcludeFn=n}}}}).directive("tab",["$parse","$http","$templateCache","$compile",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,n,i){return function(t,n,r,o){var s,a;r.active?(s=e(r.active),a=s.assign,t.$parent.$watch(s,function(e){t.active=!!e}),t.active=s(t.$parent)):a=s=angular.noop,t.$watch("active",function(e){a(t.$parent,e),e?(o.select(t),t.onSelect()):t.onDeselect()}),t.disabled=!1,r.disabled&&t.$parent.$watch(e(r.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},o.addTab(t),t.$on("$destroy",function(){o.removeTab(t)}),t.active&&a(t.$parent,!0),t.$transcludeFn=i}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",["$compile","$parse",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.tagName.toLowerCase()==="tab-heading"||e.tagName.toLowerCase()==="data-tab-heading")}return{restrict:"A",require:"^tabset",link:function(t,n,i){var r=t.$eval(i.tabContentTransclude);r.$transcludeFn(r.$parent,function(t){angular.forEach(t,function(t){e(t)?r.headingElement=t:n.append(t)})})}}}]).directive("tabsetTitles",["$http",function(){return{restrict:"A",require:"^tabset",templateUrl:"template/tabs/tabset-titles.html",replace:!0,link:function(e,t,n,i){e.$eval(n.tabsetTitles)?i.$transcludeFn(i.$scope.$parent,function(e){t.append(e)}):t.remove()}}}]),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:["AM","PM"],readonlyInput:!1,mousewheel:!0}).directive("timepicker",["$parse","$log","timepickerConfig",function(e,t,n){return{restrict:"EA",require:"?^ngModel",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(i,r,o,s){function a(){var e=parseInt(i.hours,10),t=i.showMeridian?e>0&&13>e:e>=0&&24>e;return t?(i.showMeridian&&(12===e&&(e=0),i.meridian===m[1]&&(e+=12)),e):void 0}function l(){var e=parseInt(i.minutes,10);return e>=0&&60>e?e:void 0}function c(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function u(e){d(),s.$setViewValue(new Date(f)),h(e)}function d(){s.$setValidity("time",!0),i.invalidHours=!1,i.invalidMinutes=!1}function h(e){var t=f.getHours(),n=f.getMinutes();i.showMeridian&&(t=0===t||12===t?12:t%12),i.hours="h"===e?t:c(t),i.minutes="m"===e?n:c(n),i.meridian=f.getHours()<12?m[0]:m[1]
}function p(e){var t=new Date(f.getTime()+6e4*e);f.setHours(t.getHours(),t.getMinutes()),u()}if(s){var f=new Date,m=n.meridians,g=n.hourStep;o.hourStep&&i.$parent.$watch(e(o.hourStep),function(e){g=parseInt(e,10)});var v=n.minuteStep;o.minuteStep&&i.$parent.$watch(e(o.minuteStep),function(e){v=parseInt(e,10)}),i.showMeridian=n.showMeridian,o.showMeridian&&i.$parent.$watch(e(o.showMeridian),function(e){if(i.showMeridian=!!e,s.$error.time){var t=a(),n=l();angular.isDefined(t)&&angular.isDefined(n)&&(f.setHours(t),u())}else h()});var y=r.find("input"),b=y.eq(0),w=y.eq(1),x=angular.isDefined(o.mousewheel)?i.$eval(o.mousewheel):n.mousewheel;if(x){var k=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};b.bind("mousewheel wheel",function(e){i.$apply(k(e)?i.incrementHours():i.decrementHours()),e.preventDefault()}),w.bind("mousewheel wheel",function(e){i.$apply(k(e)?i.incrementMinutes():i.decrementMinutes()),e.preventDefault()})}if(i.readonlyInput=angular.isDefined(o.readonlyInput)?i.$eval(o.readonlyInput):n.readonlyInput,i.readonlyInput)i.updateHours=angular.noop,i.updateMinutes=angular.noop;else{var $=function(e,t){s.$setViewValue(null),s.$setValidity("time",!1),angular.isDefined(e)&&(i.invalidHours=e),angular.isDefined(t)&&(i.invalidMinutes=t)};i.updateHours=function(){var e=a();angular.isDefined(e)?(f.setHours(e),u("h")):$(!0)},b.bind("blur",function(){!i.validHours&&i.hours<10&&i.$apply(function(){i.hours=c(i.hours)})}),i.updateMinutes=function(){var e=l();angular.isDefined(e)?(f.setMinutes(e),u("m")):$(void 0,!0)},w.bind("blur",function(){!i.invalidMinutes&&i.minutes<10&&i.$apply(function(){i.minutes=c(i.minutes)})})}s.$render=function(){var e=s.$modelValue?new Date(s.$modelValue):null;isNaN(e)?(s.$setValidity("time",!1),t.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(f=e),d(),h())},i.incrementHours=function(){p(60*g)},i.decrementHours=function(){p(60*-g)},i.incrementMinutes=function(){p(v)},i.decrementMinutes=function(){p(-v)},i.toggleMeridian=function(){p(720*(f.getHours()<12?1:-1))}}}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+n+"'.");return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,i,r,o,s){var a=[9,13,27,38,40];return{require:"ngModel",link:function(l,c,u,d){var h=l.$eval(u.typeaheadMinLength)||1,p=l.$eval(u.typeaheadWaitMs)||0,f=l.$eval(u.typeaheadEditable)!==!1,m=t(u.typeaheadLoading).assign||angular.noop,g=t(u.typeaheadOnSelect),v=u.typeaheadInputFormatter?t(u.typeaheadInputFormatter):void 0,y=t(u.ngModel).assign,b=s.parse(u.typeahead),w=angular.element("<typeahead-popup></typeahead-popup>");w.attr({matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(u.typeaheadTemplateUrl)&&w.attr("template-url",u.typeaheadTemplateUrl);var x=l.$new();l.$on("$destroy",function(){x.$destroy()});var k=function(){x.matches=[],x.activeIdx=-1},$=function(e){var t={$viewValue:e};m(l,!0),n.when(b.source(x,t)).then(function(n){if(e===d.$viewValue){if(n.length>0){x.activeIdx=0,x.matches.length=0;for(var i=0;i<n.length;i++)t[b.itemName]=n[i],x.matches.push({label:b.viewMapper(x,t),model:n[i]});x.query=e,x.position=o.position(c),x.position.top=x.position.top+c.prop("offsetHeight")}else k();m(l,!1)}},function(){k(),m(l,!1)})};k(),x.query=void 0;var C;d.$parsers.unshift(function(e){return k(),e&&e.length>=h&&(p>0?(C&&i.cancel(C),C=i(function(){$(e)},p)):$(e)),f?e:(d.$setValidity("editable",!1),void 0)}),d.$formatters.push(function(e){var t,n,i={};return v?(i.$model=e,v(l,i)):(i[b.itemName]=e,t=b.viewMapper(l,i),i[b.itemName]=void 0,n=b.viewMapper(l,i),t!==n?t:e)}),x.select=function(e){var t,n,i={};i[b.itemName]=n=x.matches[e].model,t=b.modelMapper(l,i),y(l,t),d.$setValidity("editable",!0),g(l,{$item:n,$model:t,$label:b.viewMapper(l,i)}),k(),c[0].focus()},c.bind("keydown",function(e){x.matches.length!==0&&a.indexOf(e.which)!==-1&&(e.preventDefault(),e.which===40?(x.activeIdx=(x.activeIdx+1)%x.matches.length,x.$digest()):e.which===38?(x.activeIdx=(x.activeIdx?x.activeIdx:x.matches.length)-1,x.$digest()):e.which===13||e.which===9?x.$apply(function(){x.select(x.activeIdx)}):e.which===27&&(e.stopPropagation(),k(),x.$digest()))});var _=function(e){c[0]!==e.target&&(k(),x.$digest())};r.bind("click",_),l.$on("$destroy",function(){r.unbind("click",_)}),c.after(e(w)(x))}}}]).directive("typeaheadPopup",function(){return{restrict:"E",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,t,n,i){return{restrict:"E",scope:{index:"=",match:"=",query:"="},link:function(r,o,s){var a=i(s.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";e.get(a,{cache:t}).success(function(e){o.replaceWith(n(e.trim())(r))})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?t.replace(new RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="accordion-group">\n  <div class="accordion-heading" ><a class="accordion-toggle" ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a></div>\n  <div class="accordion-body" collapse="!isOpen">\n    <div class="accordion-inner" ng-transclude></div>  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="accordion" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html","<div class='alert' ng-class='type && \"alert-\" + type'>\n    <button ng-show='closeable' type='button' class='close' ng-click='close()'>&times;</button>\n    <div ng-transclude></div>\n</div>\n")}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel">\n    <ol class="carousel-indicators" ng-show="slides().length > 1">\n        <li ng-repeat="slide in slides()" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a ng-click="prev()" class="carousel-control left" ng-show="slides().length > 1">&lsaquo;</a>\n    <a ng-click="next()" class="carousel-control right" ng-show="slides().length > 1">&rsaquo;</a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<table>\n  <thead>\n    <tr class="text-center">\n      <th><button type="button" class="btn pull-left" ng-click="move(-1)"><i class="icon-chevron-left"></i></button></th>\n      <th colspan="{{rows[0].length - 2 + showWeekNumbers}}"><button type="button" class="btn btn-block" ng-click="toggleMode()"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn pull-right" ng-click="move(1)"><i class="icon-chevron-right"></i></button></th>\n    </tr>\n    <tr class="text-center" ng-show="labels.length > 0">\n      <th ng-show="showWeekNumbers">#</th>\n      <th ng-repeat="label in labels">{{label}}</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows">\n      <td ng-show="showWeekNumbers" class="text-center"><em>{{ getWeekNumber(row) }}</em></td>\n      <td ng-repeat="dt in row" class="text-center">\n        <button type="button" style="width:100%;" class="btn" ng-class="{\'btn-info\': dt.selected}" ng-click="select(dt.date)" ng-disabled="dt.disabled"><span ng-class="{muted: dt.secondary}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" class="dropdown-menu">\n	<li ng-transclude></li>\n	<li class="divider"></li>\n	<li style="padding: 9px;">\n		<span class="btn-group">\n			<button class="btn btn-small btn-inverse" ng-click="today()">Today</button>\n			<button class="btn btn-small btn-info" ng-click="showWeeks = ! showWeeks" ng-class="{active: showWeeks}">Weeks</button>\n			<button class="btn btn-small btn-danger" ng-click="clear()">Clear</button>\n		</span>\n		<button class="btn btn-small btn-success pull-right" ng-click="isOpen = false">Close</button>\n	</li>\n</ul>')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1040 + index*10}" ng-click="close($event)"></div>')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div class="modal fade {{ windowClass }}" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10}" ng-transclude></div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<div class="pager">\n  <ul>\n    <li ng-repeat="page in pages" ng-class="{disabled: page.disabled, previous: page.previous, next: page.next}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  </ul>\n</div>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<div class="pagination"><ul>\n  <li ng-repeat="page in pages" ng-class="{active: page.active, disabled: page.disabled}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  </ul>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="bar" ng-class=\'type && "bar-" + type\'></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress"><progressbar ng-repeat="bar in bars" width="bar.to" old="bar.from" animate="bar.animate" type="bar.type"></progressbar></div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()">\n	<i ng-repeat="r in range" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" ng-class="$index < val && (r.stateOn || \'icon-star\') || (r.stateOff || \'icon-star-empty\')"></i>\n</span>')}]),angular.module("template/tabs/pane.html",[]).run(["$templateCache",function(e){e.put("template/tabs/pane.html",'<div class="tab-pane" ng-class="{active: selected}" ng-show="selected" ng-transclude></div>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabs.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabs.html",'<div class="tabbable">\n  <ul class="nav nav-tabs">\n    <li ng-repeat="pane in panes" ng-class="{active:pane.selected}">\n      <a ng-click="select(pane)">{{pane.heading}}</a>\n    </li>\n  </ul>\n  <div class="tab-content" ng-transclude></div>\n</div>\n')}]),angular.module("template/tabs/tabset-titles.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset-titles.html","<ul class=\"nav {{type && 'nav-' + type}}\" ng-class=\"{'nav-stacked': vertical}\">\n</ul>\n")}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'\n<div class="tabbable" ng-class="{\'tabs-right\': direction == \'right\', \'tabs-left\': direction == \'left\', \'tabs-below\': direction == \'below\'}">\n  <div tabset-titles="tabsAbove"></div>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n  <div tabset-titles="!tabsAbove"></div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table class="form-inline">\n	<tr class="text-center">\n		<td><a ng-click="incrementHours()" class="btn btn-link"><i class="icon-chevron-up"></i></a></td>\n		<td>&nbsp;</td>\n		<td><a ng-click="incrementMinutes()" class="btn btn-link"><i class="icon-chevron-up"></i></a></td>\n		<td ng-show="showMeridian"></td>\n	</tr>\n	<tr>\n		<td class="control-group" ng-class="{\'error\': invalidHours}"><input type="text" ng-model="hours" ng-change="updateHours()" class="span1 text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2" /></td>\n		<td>:</td>\n		<td class="control-group" ng-class="{\'error\': invalidMinutes}"><input type="text" ng-model="minutes" ng-change="updateMinutes()" class="span1 text-center" ng-readonly="readonlyInput" maxlength="2"></td>\n		<td ng-show="showMeridian"><button type="button" ng-click="toggleMeridian()" class="btn text-center">{{meridian}}</button></td>\n	</tr>\n	<tr class="text-center">\n		<td><a ng-click="decrementHours()" class="btn btn-link"><i class="icon-chevron-down"></i></a></td>\n		<td>&nbsp;</td>\n		<td><a ng-click="decrementMinutes()" class="btn btn-link"><i class="icon-chevron-down"></i></a></td>\n		<td ng-show="showMeridian"></td>\n	</tr>\n</table>')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="typeahead dropdown-menu" ng-style="{display: isOpen()&&\'block\' || \'none\', top: position.top+\'px\', left: position.left+\'px\'}">\n    <li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)">\n        <typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></typeahead-match>\n    </li>\n</ul>')}]),angular.module("template/typeahead/typeahead.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead.html",'<ul class="typeahead dropdown-menu" ng-style="{display: isOpen()&&\'block\' || \'none\', top: position.top+\'px\', left: position.left+\'px\'}">\n    <li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)">\n        <a tabindex="-1" ng-click="selectMatch($index)" ng-bind-html-unsafe="match.label | typeaheadHighlight:query"></a>\n    </li>\n</ul>')}]);